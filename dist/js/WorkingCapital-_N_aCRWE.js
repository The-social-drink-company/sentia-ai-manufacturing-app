const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/chunk-50VakDq_.js","js/chunk-B0gV6PC-.js","js/chunk-Bdzhvng1.js","js/chunk-CPoxpMGX.js","js/chunk-Cl39Cy1-.js","js/chunk-CD0qKuw4.js","js/chunk-b9fRcCU5.js","js/chunk-CeZtwEmw.js","js/chunk-Dozjk7Op.js","assets/react-core-C9-ySRfk.css"])))=>i.map(i=>d[i]);
import{r as a,e as n,_ as e,aC as i,t as s,aa as r,x as t,F as o,ai as c,ah as m}from"./chunk-50VakDq_.js";import{bu as u}from"./chunk-B0gV6PC-.js";import{b as l,e as d}from"./index-D_sYezzK.js";import{C as h}from"./chunk-Bcr4iqHm.js";import{E as b}from"./chunk-DnsBdAPo.js";import"./chunk-b9fRcCU5.js";import"./chunk-CeZtwEmw.js";import"./chunk-Bdzhvng1.js";import"./chunk-CPoxpMGX.js";import"./chunk-Dozjk7Op.js";import"./chunk-CD0qKuw4.js";import"./chunk-Cl39Cy1-.js";import"./chunk-E_h9yjlz.js";function g(){const[i,s]=a.useState(null),[r,t]=a.useState(!1),[o,c]=a.useState(null),[m,d]=a.useState(12),[b]=a.useState(()=>new h),g=async()=>{try{t(!0),c(null);try{const a={Authorization:`Bearer ${await(async()=>{const{getToken:a}=await e(async()=>{const{getToken:a}=await import("./chunk-50VakDq_.js").then(a=>a.co);return{getToken:a}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]));return a()})()}`},n=await u.get(`/api/working-capital/kpis/trends?months=${m}`,{headers:a});return void s(n.data.data)}catch(a){}const n=b.calculateCashConversionCycle({annualRevenue:4e7,annualCOGS:26e6}),i=[],r=new Date;for(let a=m-1;a>=0;a--){const e=new Date(r);e.setMonth(e.getMonth()-a);const s=.1*(Math.random()-.5);i.push({createdAt:e.toISOString(),ccc:Math.round(10*(n.cashConversionCycle+n.cashConversionCycle*s))/10,dso:Math.round(10*(n.components.dso+n.components.dso*s))/10,dpo:Math.round(10*(n.components.dpo+n.components.dpo*s))/10,dio:Math.round(10*(n.components.dio+n.components.dio*s))/10,inv_turnover:Math.round(10*(365/n.components.dio+365/n.components.dio*s))/10,wc_turnover:Math.round(10*(4e7/(n.balanceSheetItems.receivables+n.balanceSheetItems.inventory-n.balanceSheetItems.payables)+s))/10,facility_utilization:Math.max(.1,Math.min(.9,.65+.3*(Math.random()-.5)))})}s({trends:i,summary:{currentCCC:n.cashConversionCycle,targetCCC:n.benchmarks.targetCCC,performance:n.performance,recommendations:n.recommendations}})}catch(n){l("KPI fetch error",n,{component:"KPIDashboard",timeframe:m}),c(n.message)}finally{t(!1)}};a.useEffect(()=>{g()},[m]);const N=(a,n)=>{const e={ccc:{excellent:45,good:55,threshold:65},dso:{excellent:30,good:35,threshold:45},dpo:{excellent:30,good:25,threshold:20},dio:{excellent:40,good:45,threshold:55},inv_turnover:{excellent:8,good:6,threshold:4},wc_turnover:{excellent:6.5,good:5,threshold:3.5},facility_utilization:{excellent:.3,good:.6,threshold:.8}}[a];return e&&null!=n?["ccc","dso","dio","facility_utilization"].includes(a)?n<=e.excellent?"excellent":n<=e.good?"good":n<=e.threshold?"warning":"critical":["dpo","inv_turnover","wc_turnover"].includes(a)?n>=e.excellent?"excellent":n>=e.good?"good":n>=e.threshold?"warning":"critical":"unknown":"unknown"},f=(a,n)=>null==n?"N/A":"facility_utilization"===a?`${Math.round(100*n)}%`:["inv_turnover","wc_turnover"].includes(a)?`${n.toFixed(1)}x`:`${Math.round(n)} days`,j=i?.trends&&0!==i.trends.length?i.trends[i.trends.length-1]:null;return n.jsxDEV("div",{className:"sentia-kpi-container",children:[n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:n.jsxDEV("h3",{className:"sentia-card-title",children:"KPI Analysis"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:152,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:151,columnNumber:9},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-form-grid",children:[n.jsxDEV("div",{className:"sentia-form-group",children:[n.jsxDEV("label",{className:"sentia-label",children:"Time Period"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:157,columnNumber:15},this),n.jsxDEV("select",{className:"sentia-select",value:m,onChange:a=>d(parseInt(a.target.value)),children:[n.jsxDEV("option",{value:3,children:"Last 3 Months"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:163,columnNumber:17},this),n.jsxDEV("option",{value:6,children:"Last 6 Months"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:164,columnNumber:17},this),n.jsxDEV("option",{value:12,children:"Last 12 Months"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:165,columnNumber:17},this),n.jsxDEV("option",{value:24,children:"Last 24 Months"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:166,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:158,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:156,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-form-group",children:n.jsxDEV("button",{className:"sentia-btn sentia-btn-primary",onClick:g,disabled:r,children:r?"Loading...":"Refresh KPIs"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:170,columnNumber:15},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:169,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:155,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:154,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:150,columnNumber:7},this),o&&n.jsxDEV("div",{className:"sentia-error",children:n.jsxDEV("div",{className:"sentia-error-content",children:[n.jsxDEV("h4",{children:"KPI Loading Error"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:186,columnNumber:13},this),n.jsxDEV("p",{children:o},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:187,columnNumber:13},this),n.jsxDEV("button",{onClick:g,className:"sentia-btn sentia-btn-secondary",children:"Retry"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:188,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:185,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:184,columnNumber:9},this),r&&n.jsxDEV("div",{className:"sentia-card",children:n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-loading",children:[n.jsxDEV("div",{className:"sentia-spinner"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:200,columnNumber:15},this),n.jsxDEV("p",{children:"Loading KPI trends..."},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:201,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:199,columnNumber:13},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:198,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:197,columnNumber:9},this),j&&!r&&n.jsxDEV(n.Fragment,{children:[n.jsxDEV("div",{className:"sentia-grid sentia-grid-4",children:[n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:[n.jsxDEV("h4",{className:"sentia-card-title",children:"Cash Conversion Cycle"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:215,columnNumber:17},this),n.jsxDEV("div",{className:`sentia-kpi-status sentia-status-${N("ccc",j.ccc)}`,children:N("ccc",j.ccc)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:216,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:214,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-metric",children:[n.jsxDEV("span",{className:"sentia-metric-value",children:f("ccc",j.ccc)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:222,columnNumber:19},this),n.jsxDEV("span",{className:"sentia-metric-label",children:"Target: <55 days"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:225,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:221,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:220,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:213,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:[n.jsxDEV("h4",{className:"sentia-card-title",children:"Days Sales Outstanding"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:235,columnNumber:17},this),n.jsxDEV("div",{className:`sentia-kpi-status sentia-status-${N("dso",j.dso)}`,children:N("dso",j.dso)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:236,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:234,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-metric",children:[n.jsxDEV("span",{className:"sentia-metric-value",children:f("dso",j.dso)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:242,columnNumber:19},this),n.jsxDEV("span",{className:"sentia-metric-label",children:"Target: <35 days"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:245,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:241,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:240,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:233,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:[n.jsxDEV("h4",{className:"sentia-card-title",children:"Days Payable Outstanding"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:255,columnNumber:17},this),n.jsxDEV("div",{className:`sentia-kpi-status sentia-status-${N("dpo",j.dpo)}`,children:N("dpo",j.dpo)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:256,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:254,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-metric",children:[n.jsxDEV("span",{className:"sentia-metric-value",children:f("dpo",j.dpo)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:262,columnNumber:19},this),n.jsxDEV("span",{className:"sentia-metric-label",children:"Target: >25 days"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:265,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:261,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:260,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:253,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:[n.jsxDEV("h4",{className:"sentia-card-title",children:"Days Inventory Outstanding"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:275,columnNumber:17},this),n.jsxDEV("div",{className:`sentia-kpi-status sentia-status-${N("dio",j.dio)}`,children:N("dio",j.dio)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:276,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:274,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-metric",children:[n.jsxDEV("span",{className:"sentia-metric-value",children:f("dio",j.dio)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:282,columnNumber:19},this),n.jsxDEV("span",{className:"sentia-metric-label",children:"Target: <45 days"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:285,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:281,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:280,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:273,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:211,columnNumber:11},this),n.jsxDEV("div",{className:"sentia-grid sentia-grid-3",children:[n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:[n.jsxDEV("h4",{className:"sentia-card-title",children:"Inventory Turnover"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:298,columnNumber:17},this),n.jsxDEV("div",{className:`sentia-kpi-status sentia-status-${N("inv_turnover",j.inv_turnover)}`,children:N("inv_turnover",j.inv_turnover)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:299,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:297,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-metric",children:[n.jsxDEV("span",{className:"sentia-metric-value",children:f("inv_turnover",j.inv_turnover)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:305,columnNumber:19},this),n.jsxDEV("span",{className:"sentia-metric-label",children:"Target: >8x annually"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:308,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:304,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:303,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:296,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:[n.jsxDEV("h4",{className:"sentia-card-title",children:"WC Turnover"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:318,columnNumber:17},this),n.jsxDEV("div",{className:`sentia-kpi-status sentia-status-${N("wc_turnover",j.wc_turnover)}`,children:N("wc_turnover",j.wc_turnover)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:319,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:317,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-metric",children:[n.jsxDEV("span",{className:"sentia-metric-value",children:f("wc_turnover",j.wc_turnover)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:325,columnNumber:19},this),n.jsxDEV("span",{className:"sentia-metric-label",children:"Target: >6.5x annually"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:328,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:324,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:323,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:316,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:[n.jsxDEV("h4",{className:"sentia-card-title",children:"Credit Utilization"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:338,columnNumber:17},this),n.jsxDEV("div",{className:`sentia-kpi-status sentia-status-${N("facility_utilization",j.facility_utilization)}`,children:N("facility_utilization",j.facility_utilization)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:339,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:337,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-metric",children:[n.jsxDEV("span",{className:"sentia-metric-value",children:f("facility_utilization",j.facility_utilization)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:345,columnNumber:19},this),n.jsxDEV("span",{className:"sentia-metric-label",children:"Target: <60%"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:348,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:344,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:343,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:336,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:294,columnNumber:11},this),i.trends.length>1&&n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:[n.jsxDEV("h3",{className:"sentia-card-title",children:"KPI Trends"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:360,columnNumber:17},this),n.jsxDEV("div",{className:"sentia-card-badge",children:[i.trends.length," data points"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:361,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:359,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-table-container",children:n.jsxDEV("table",{className:"sentia-table",children:[n.jsxDEV("thead",{children:n.jsxDEV("tr",{children:[n.jsxDEV("th",{children:"Date"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:368,columnNumber:25},this),n.jsxDEV("th",{children:"CCC"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:369,columnNumber:25},this),n.jsxDEV("th",{children:"DSO"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:370,columnNumber:25},this),n.jsxDEV("th",{children:"DPO"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:371,columnNumber:25},this),n.jsxDEV("th",{children:"DIO"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:372,columnNumber:25},this),n.jsxDEV("th",{children:"Inv Turnover"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:373,columnNumber:25},this),n.jsxDEV("th",{children:"WC Turnover"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:374,columnNumber:25},this),n.jsxDEV("th",{children:"Credit Util"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:375,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:367,columnNumber:23},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:366,columnNumber:21},this),n.jsxDEV("tbody",{children:i.trends.slice(-10).reverse().map((a,e)=>n.jsxDEV("tr",{children:[n.jsxDEV("td",{children:new Date(a.createdAt).toLocaleDateString("en-GB")},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:381,columnNumber:27},this),n.jsxDEV("td",{className:`sentia-kpi-cell sentia-${N("ccc",a.ccc)}`,children:f("ccc",a.ccc)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:382,columnNumber:27},this),n.jsxDEV("td",{className:`sentia-kpi-cell sentia-${N("dso",a.dso)}`,children:f("dso",a.dso)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:385,columnNumber:27},this),n.jsxDEV("td",{className:`sentia-kpi-cell sentia-${N("dpo",a.dpo)}`,children:f("dpo",a.dpo)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:388,columnNumber:27},this),n.jsxDEV("td",{className:`sentia-kpi-cell sentia-${N("dio",a.dio)}`,children:f("dio",a.dio)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:391,columnNumber:27},this),n.jsxDEV("td",{className:`sentia-kpi-cell sentia-${N("inv_turnover",a.inv_turnover)}`,children:f("inv_turnover",a.inv_turnover)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:394,columnNumber:27},this),n.jsxDEV("td",{className:`sentia-kpi-cell sentia-${N("wc_turnover",a.wc_turnover)}`,children:f("wc_turnover",a.wc_turnover)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:397,columnNumber:27},this),n.jsxDEV("td",{className:`sentia-kpi-cell sentia-${N("facility_utilization",a.facility_utilization)}`,children:f("facility_utilization",a.facility_utilization)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:400,columnNumber:27},this)]},e,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:380,columnNumber:25},this))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:378,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:365,columnNumber:19},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:364,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:363,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:358,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:209,columnNumber:9},this),!i&&!r&&!o&&n.jsxDEV("div",{className:"sentia-card",children:n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-empty-state",children:[n.jsxDEV("p",{children:"No KPI data available"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:419,columnNumber:15},this),n.jsxDEV("small",{children:"Historical KPI data will appear here once working capital projections are generated"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:420,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:418,columnNumber:13},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:417,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:416,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/KPIDashboard.jsx",lineNumber:148,columnNumber:5},this)}function N(){const[e]=a.useState(()=>new b),[i,s]=a.useState(null),[r,t]=a.useState(!1),[o,c]=a.useState(null),[m,u]=a.useState({horizonMonths:12,currency:"GBP",scenarios:["baseline"]}),d=async()=>{try{t(!0),c(null);const a=await e.calculateWorkingCapitalRequirements({period:m.horizonMonths,currency:m.currency,includeForecasts:!0}),n=a.forecasts?.map(a=>({id:a.date,month:a.date.substring(0,7),openingCash:a.workingCapital-a.cashFlow,cash_in:Math.max(0,a.cashFlow),cash_out:Math.max(0,-a.cashFlow),net_change:a.cashFlow,ending_cash:a.workingCapital,workingCapital:a.workingCapital,accountsReceivable:a.accountsReceivable,inventory:a.inventory,accountsPayable:a.accountsPayable,revenue:a.revenue}))||[],i={scenarios:{baseline:{projections:n,summary:{totalCashIn:n.reduce((a,n)=>a+Math.max(0,n.cash_in),0),totalCashOut:n.reduce((a,n)=>a+Math.max(0,-n.cash_out),0),netCashFlow:n.reduce((a,n)=>a+n.net_change,0),minCash:Math.min(...n.map(a=>a.ending_cash)),breachMonths:n.filter(a=>a.ending_cash<5e5).length,avgWorkingCapital:n.reduce((a,n)=>a+n.workingCapital,0)/n.length}}},workingCapitalContext:{currentRatio:a.ratios?.current||0,quickRatio:a.ratios?.quick||0,cashConversionCycle:a.cashConversionCycle?.total||0,performanceScore:a.performanceScore||0,riskLevel:a.riskAssessment?.overall||"unknown"}};s(i)}catch(a){l("Projection error",a,{component:"CashFlowProjections"}),c(a.message)}finally{t(!1)}};a.useEffect(()=>{d()},[]);const h=(a,n)=>{u(e=>({...e,[a]:n}))};return n.jsxDEV("div",{className:"sentia-projections-container",children:[n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:n.jsxDEV("h3",{className:"sentia-card-title",children:"Projection Parameters"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:94,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:93,columnNumber:9},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-form-grid",children:[n.jsxDEV("div",{className:"sentia-form-group",children:[n.jsxDEV("label",{className:"sentia-label",children:"Horizon (Months)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:99,columnNumber:15},this),n.jsxDEV("select",{className:"sentia-select",value:m.horizonMonths,onChange:a=>h("horizonMonths",parseInt(a.target.value)),children:[n.jsxDEV("option",{value:3,children:"3 Months"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:105,columnNumber:17},this),n.jsxDEV("option",{value:6,children:"6 Months"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:106,columnNumber:17},this),n.jsxDEV("option",{value:12,children:"12 Months"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:107,columnNumber:17},this),n.jsxDEV("option",{value:24,children:"24 Months"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:108,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:100,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:98,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-form-group",children:[n.jsxDEV("label",{className:"sentia-label",children:"Currency"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:112,columnNumber:15},this),n.jsxDEV("select",{className:"sentia-select",value:m.currency,onChange:a=>h("currency",a.target.value),children:[n.jsxDEV("option",{value:"GBP",children:"GBP (£)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:118,columnNumber:17},this),n.jsxDEV("option",{value:"EUR",children:"EUR (€)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:119,columnNumber:17},this),n.jsxDEV("option",{value:"USD",children:"USD ($)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:120,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:113,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:111,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-form-group",children:n.jsxDEV("button",{className:"sentia-btn sentia-btn-primary",onClick:d,disabled:r,children:r?"Generating...":"Generate Projection"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:124,columnNumber:15},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:123,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:97,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:96,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:92,columnNumber:7},this),o&&n.jsxDEV("div",{className:"sentia-error",children:n.jsxDEV("div",{className:"sentia-error-content",children:[n.jsxDEV("h4",{children:"Projection Error"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:140,columnNumber:13},this),n.jsxDEV("p",{children:o},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:141,columnNumber:13},this),n.jsxDEV("button",{onClick:d,className:"sentia-btn sentia-btn-secondary",children:"Retry"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:142,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:139,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:138,columnNumber:9},this),r&&n.jsxDEV("div",{className:"sentia-card",children:n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-loading",children:[n.jsxDEV("div",{className:"sentia-spinner"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:154,columnNumber:15},this),n.jsxDEV("p",{children:"Generating cash flow projections..."},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:155,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:153,columnNumber:13},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:152,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:151,columnNumber:9},this),i&&!r&&n.jsxDEV(n.Fragment,{children:[n.jsxDEV("div",{className:"sentia-grid sentia-grid-3",children:[n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:n.jsxDEV("h4",{className:"sentia-card-title",children:"Total Cash In"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:168,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:167,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-metric",children:[n.jsxDEV("span",{className:"sentia-metric-value",children:["£",i.scenarios.baseline.summary.totalCashIn.toLocaleString()]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:172,columnNumber:19},this),n.jsxDEV("span",{className:"sentia-metric-label",children:["Over ",m.horizonMonths," months"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:175,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:171,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:166,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:n.jsxDEV("h4",{className:"sentia-card-title",children:"Total Cash Out"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:184,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:183,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-metric",children:[n.jsxDEV("span",{className:"sentia-metric-value",children:["£",i.scenarios.baseline.summary.totalCashOut.toLocaleString()]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:188,columnNumber:19},this),n.jsxDEV("span",{className:"sentia-metric-label",children:["Over ",m.horizonMonths," months"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:191,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:187,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:186,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:182,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:n.jsxDEV("h4",{className:"sentia-card-title",children:"Net Cash Flow"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:200,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:199,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-metric",children:[n.jsxDEV("span",{className:"sentia-metric-value "+(i.scenarios.baseline.summary.netCashFlow>=0?"sentia-positive":"sentia-negative"),children:["£",i.scenarios.baseline.summary.netCashFlow.toLocaleString()]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:204,columnNumber:19},this),n.jsxDEV("span",{className:"sentia-metric-label",children:["Net over ",m.horizonMonths," months"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:207,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:203,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:202,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:198,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:165,columnNumber:11},this),n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:n.jsxDEV("h3",{className:"sentia-card-title",children:"Monthly Cash Flow Projections"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:218,columnNumber:15},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:217,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-table-container",children:n.jsxDEV("table",{className:"sentia-table",children:[n.jsxDEV("thead",{children:n.jsxDEV("tr",{children:[n.jsxDEV("th",{children:"Month"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:225,columnNumber:23},this),n.jsxDEV("th",{children:"Opening Cash"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:226,columnNumber:23},this),n.jsxDEV("th",{children:"Cash In"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:227,columnNumber:23},this),n.jsxDEV("th",{children:"Cash Out"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:228,columnNumber:23},this),n.jsxDEV("th",{children:"Net Change"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:229,columnNumber:23},this),n.jsxDEV("th",{children:"Ending Cash"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:230,columnNumber:23},this),n.jsxDEV("th",{children:"Status"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:231,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:224,columnNumber:21},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:223,columnNumber:19},this),n.jsxDEV("tbody",{children:i.scenarios.baseline.projections.map((a,e)=>{const i=new Date(a.month).toLocaleDateString("en-GB",{month:"short",year:"numeric"}),s=a.ending_cash<5e4;return n.jsxDEV("tr",{children:[n.jsxDEV("td",{children:i},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:244,columnNumber:27},this),n.jsxDEV("td",{children:["£",a.openingCash?a.openingCash.toLocaleString():"0"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:245,columnNumber:27},this),n.jsxDEV("td",{className:"sentia-positive",children:["£",a.cash_in.toLocaleString()]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:246,columnNumber:27},this),n.jsxDEV("td",{className:"sentia-negative",children:["£",a.cash_out.toLocaleString()]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:247,columnNumber:27},this),n.jsxDEV("td",{className:a.net_change>=0?"sentia-positive":"sentia-negative",children:["£",a.net_change.toLocaleString()]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:248,columnNumber:27},this),n.jsxDEV("td",{className:s?"sentia-negative":"sentia-positive",children:["£",a.ending_cash.toLocaleString()]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:251,columnNumber:27},this),n.jsxDEV("td",{children:[s&&n.jsxDEV("span",{className:"sentia-status sentia-status-error",children:"Low Cash"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:256,columnNumber:31},this),!s&&a.net_change>=0&&n.jsxDEV("span",{className:"sentia-status sentia-status-success",children:"Healthy"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:259,columnNumber:31},this),!s&&a.net_change<0&&n.jsxDEV("span",{className:"sentia-status sentia-status-warning",children:"Declining"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:262,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:254,columnNumber:27},this)]},a.id,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:243,columnNumber:25},this)})},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:234,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:222,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:221,columnNumber:15},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:220,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:216,columnNumber:11},this),i.scenarios.baseline.summary.breachMonths>0&&n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:n.jsxDEV("h3",{className:"sentia-card-title",children:"Risk Analysis"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:278,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:277,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-alert sentia-alert-warning",children:n.jsxDEV("div",{className:"sentia-alert-content",children:[n.jsxDEV("div",{className:"sentia-alert-message",children:["WARNING: Cash falls below minimum buffer in ",i.scenarios.baseline.summary.breachMonths," months"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:283,columnNumber:21},this),n.jsxDEV("div",{className:"sentia-alert-details",children:["Minimum cash level: £",i.scenarios.baseline.summary.minCash.toLocaleString()]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:286,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:282,columnNumber:19},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:281,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:280,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:276,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:163,columnNumber:9},this),!i&&!r&&!o&&n.jsxDEV("div",{className:"sentia-card",children:n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-empty-state",children:[n.jsxDEV("p",{children:"No projection data available"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:302,columnNumber:15},this),n.jsxDEV("small",{children:'Click "Generate Projection" to create cash flow projections'},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:303,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:301,columnNumber:13},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:300,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:299,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/CashFlowProjections.jsx",lineNumber:90,columnNumber:5},this)}function f(){const[e,i]=a.useState(null),[s,r]=a.useState(!1),[t,o]=a.useState(null),[c,m]=a.useState({horizonMonths:12,currency:"GBP"}),[d,h]=a.useState([{name:"Optimistic",description:"Growth acceleration scenario",parameters:{demandAdjustment:.15,priceAdjustment:.05,arTermsAdjustment:-.1}},{name:"Pessimistic",description:"Economic downturn scenario",parameters:{demandAdjustment:-.2,cogsAdjustment:.1,arTermsAdjustment:.15}}]),b=async()=>{try{r(!0),o(null);const a={Authorization:`Bearer ${await(async()=>null)()}`},n=await u.post("/api/working-capital/scenarios",{baselineParams:{...c,startMonth:new Date},overrides:d},{headers:a});i(n.data.data)}catch(a){l("Scenario analysis error",a,{component:"ScenarioAnalysis"}),o(a.response?.data?.error||a.message)}finally{r(!1)}},g=(a,n,e)=>{const i=[...d];if(n.includes(".")){const[s,r]=n.split(".");i[a][s][r]=parseFloat(e)||0}else i[a][n]=e;h(i)};return n.jsxDEV("div",{className:"sentia-scenario-container",children:[n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:n.jsxDEV("h3",{className:"sentia-card-title",children:"Scenario Configuration"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:106,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:105,columnNumber:9},this),n.jsxDEV("div",{className:"sentia-card-content",children:[n.jsxDEV("div",{className:"sentia-form-section",children:[n.jsxDEV("h4",{children:"Baseline Parameters"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:111,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-form-grid",children:[n.jsxDEV("div",{className:"sentia-form-group",children:[n.jsxDEV("label",{className:"sentia-label",children:"Horizon (Months)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:114,columnNumber:17},this),n.jsxDEV("select",{className:"sentia-select",value:c.horizonMonths,onChange:a=>m({...c,horizonMonths:parseInt(a.target.value)}),children:[n.jsxDEV("option",{value:6,children:"6 Months"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:120,columnNumber:19},this),n.jsxDEV("option",{value:12,children:"12 Months"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:121,columnNumber:19},this),n.jsxDEV("option",{value:24,children:"24 Months"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:122,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:115,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:113,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-form-group",children:[n.jsxDEV("label",{className:"sentia-label",children:"Currency"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:126,columnNumber:17},this),n.jsxDEV("select",{className:"sentia-select",value:c.currency,onChange:a=>m({...c,currency:a.target.value}),children:[n.jsxDEV("option",{value:"GBP",children:"GBP (£)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:132,columnNumber:19},this),n.jsxDEV("option",{value:"EUR",children:"EUR (€)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:133,columnNumber:19},this),n.jsxDEV("option",{value:"USD",children:"USD ($)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:134,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:127,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:125,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:112,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:110,columnNumber:11},this),n.jsxDEV("div",{className:"sentia-form-section",children:[n.jsxDEV("div",{className:"sentia-section-header",children:[n.jsxDEV("h4",{children:"Scenarios"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:143,columnNumber:15},this),n.jsxDEV("button",{className:"sentia-btn sentia-btn-ghost",onClick:()=>{h([...d,{name:`Custom ${d.length+1}`,description:"Custom scenario",parameters:{demandAdjustment:0,priceAdjustment:0,cogsAdjustment:0,arTermsAdjustment:0}}])},children:"Add Custom Scenario"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:144,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:142,columnNumber:13},this),d.map((a,e)=>n.jsxDEV("div",{className:"sentia-scenario-form",children:[n.jsxDEV("div",{className:"sentia-scenario-header",children:[n.jsxDEV("input",{type:"text",className:"sentia-input",value:a.name,onChange:a=>g(e,"name",a.target.value),placeholder:"Scenario name"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:155,columnNumber:19},this),n.jsxDEV("button",{className:"sentia-btn sentia-btn-ghost sentia-btn-sm",onClick:()=>(a=>{h(d.filter((n,e)=>e!==a))})(e),children:"Remove"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:162,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:154,columnNumber:17},this),n.jsxDEV("input",{type:"text",className:"sentia-input",value:a.description,onChange:a=>g(e,"description",a.target.value),placeholder:"Scenario description"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:169,columnNumber:17},this),n.jsxDEV("div",{className:"sentia-scenario-params",children:[n.jsxDEV("div",{className:"sentia-form-group",children:[n.jsxDEV("label",{className:"sentia-label",children:"Demand Change (%)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:179,columnNumber:21},this),n.jsxDEV("input",{type:"number",className:"sentia-input",value:(100*a.parameters.demandAdjustment).toFixed(1),onChange:a=>g(e,"parameters.demandAdjustment",a.target.value/100),step:"0.1",placeholder:"0.0"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:180,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:178,columnNumber:19},this),n.jsxDEV("div",{className:"sentia-form-group",children:[n.jsxDEV("label",{className:"sentia-label",children:"Price Change (%)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:190,columnNumber:21},this),n.jsxDEV("input",{type:"number",className:"sentia-input",value:(100*a.parameters.priceAdjustment).toFixed(1),onChange:a=>g(e,"parameters.priceAdjustment",a.target.value/100),step:"0.1",placeholder:"0.0"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:191,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:189,columnNumber:19},this),n.jsxDEV("div",{className:"sentia-form-group",children:[n.jsxDEV("label",{className:"sentia-label",children:"COGS Change (%)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:201,columnNumber:21},this),n.jsxDEV("input",{type:"number",className:"sentia-input",value:(100*(a.parameters.cogsAdjustment||0)).toFixed(1),onChange:a=>g(e,"parameters.cogsAdjustment",a.target.value/100),step:"0.1",placeholder:"0.0"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:202,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:200,columnNumber:19},this),n.jsxDEV("div",{className:"sentia-form-group",children:[n.jsxDEV("label",{className:"sentia-label",children:"Collection Terms (%)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:212,columnNumber:21},this),n.jsxDEV("input",{type:"number",className:"sentia-input",value:(100*(a.parameters.arTermsAdjustment||0)).toFixed(1),onChange:a=>g(e,"parameters.arTermsAdjustment",a.target.value/100),step:"0.1",placeholder:"0.0"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:213,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:211,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:177,columnNumber:17},this)]},e,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:153,columnNumber:15},this))]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:141,columnNumber:11},this),n.jsxDEV("div",{className:"sentia-form-actions",children:n.jsxDEV("button",{className:"sentia-btn sentia-btn-primary",onClick:b,disabled:s||0===d.length,children:s?"Analyzing...":"Run Scenario Analysis"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:228,columnNumber:13},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:227,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:108,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:104,columnNumber:7},this),t&&n.jsxDEV("div",{className:"sentia-error",children:n.jsxDEV("div",{className:"sentia-error-content",children:[n.jsxDEV("h4",{children:"Scenario Analysis Error"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:243,columnNumber:13},this),n.jsxDEV("p",{children:t},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:244,columnNumber:13},this),n.jsxDEV("button",{onClick:b,className:"sentia-btn sentia-btn-secondary",children:"Retry"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:245,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:242,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:241,columnNumber:9},this),s&&n.jsxDEV("div",{className:"sentia-card",children:n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-loading",children:[n.jsxDEV("div",{className:"sentia-spinner"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:257,columnNumber:15},this),n.jsxDEV("p",{children:"Running scenario analysis..."},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:258,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:256,columnNumber:13},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:255,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:254,columnNumber:9},this),e&&!s&&n.jsxDEV(n.Fragment,{children:[n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:n.jsxDEV("h3",{className:"sentia-card-title",children:"Scenario Comparison"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:270,columnNumber:15},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:269,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-table-container",children:n.jsxDEV("table",{className:"sentia-table",children:[n.jsxDEV("thead",{children:n.jsxDEV("tr",{children:[n.jsxDEV("th",{children:"Scenario"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:277,columnNumber:23},this),n.jsxDEV("th",{children:"Net Cash Flow"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:278,columnNumber:23},this),n.jsxDEV("th",{children:"Variance"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:279,columnNumber:23},this),n.jsxDEV("th",{children:"Min Cash"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:280,columnNumber:23},this),n.jsxDEV("th",{children:"Risk Score"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:281,columnNumber:23},this),n.jsxDEV("th",{children:"CCC"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:282,columnNumber:23},this),n.jsxDEV("th",{children:"CCC Change"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:283,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:276,columnNumber:21},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:275,columnNumber:19},this),n.jsxDEV("tbody",{children:[n.jsxDEV("tr",{className:"sentia-baseline-row",children:[n.jsxDEV("td",{children:n.jsxDEV("strong",{children:"Baseline"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:289,columnNumber:27},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:289,columnNumber:23},this),n.jsxDEV("td",{children:["£",e.baseline?.scenarios?.baseline?.summary?.netCashFlow?.toLocaleString()||"N/A"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:290,columnNumber:23},this),n.jsxDEV("td",{children:"-"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:291,columnNumber:23},this),n.jsxDEV("td",{children:["£",e.baseline?.scenarios?.baseline?.summary?.minCash?.toLocaleString()||"N/A"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:292,columnNumber:23},this),n.jsxDEV("td",{children:e.baseline?.summary?.riskScore||"N/A"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:293,columnNumber:23},this),n.jsxDEV("td",{children:[e.baseline?.summary?.ccc?.toFixed(1)||"N/A"," days"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:294,columnNumber:23},this),n.jsxDEV("td",{children:"-"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:295,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:288,columnNumber:21},this),e.scenarios?.map((a,i)=>{const s=e.baseline?.scenarios?.baseline?.summary?.netCashFlow||0,r=a.results?.scenarios?.baseline?.summary?.netCashFlow||0,t=(c=r,(o=s)&&c?((c-o)/o*100).toFixed(1)+"%":"N/A");var o,c;const m=e.baseline?.summary?.ccc&&a.results?.summary?.ccc?(a.results.summary.ccc-e.baseline.summary.ccc).toFixed(1):"N/A";return n.jsxDEV("tr",{children:[n.jsxDEV("td",{children:[n.jsxDEV("strong",{children:a.name},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:310,columnNumber:29},this),n.jsxDEV("br",{},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:311,columnNumber:29},this),n.jsxDEV("small",{children:a.description},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:312,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:309,columnNumber:27},this),n.jsxDEV("td",{className:r>=s?"sentia-positive":"sentia-negative",children:["£",r.toLocaleString()]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:314,columnNumber:27},this),n.jsxDEV("td",{className:t.startsWith("+")?"sentia-positive":"sentia-negative",children:t},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:317,columnNumber:27},this),n.jsxDEV("td",{children:["£",a.results?.scenarios?.baseline?.summary?.minCash?.toLocaleString()||"N/A"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:320,columnNumber:27},this),n.jsxDEV("td",{children:a.results?.summary?.riskScore||"N/A"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:321,columnNumber:27},this),n.jsxDEV("td",{children:[a.results?.summary?.ccc?.toFixed(1)||"N/A"," days"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:322,columnNumber:27},this),n.jsxDEV("td",{className:parseFloat(m)<=0?"sentia-positive":"sentia-negative",children:"N/A"!==m?(parseFloat(m)>=0?"+"+m:m)+" days":"N/A"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:323,columnNumber:27},this)]},i,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:308,columnNumber:25},this)})]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:286,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:274,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:273,columnNumber:15},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:272,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:268,columnNumber:11},this),e.comparison?.recommendations&&e.comparison.recommendations.length>0&&n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:n.jsxDEV("h3",{className:"sentia-card-title",children:"Scenario Recommendations"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:339,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:338,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-recommendations",children:e.comparison.recommendations.map((a,e)=>n.jsxDEV("div",{className:`sentia-alert sentia-alert-${a.type}`,children:n.jsxDEV("div",{className:"sentia-alert-content",children:[n.jsxDEV("div",{className:"sentia-alert-header",children:[n.jsxDEV("strong",{children:a.scenario},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:347,columnNumber:27},this)," - ",a.metric]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:346,columnNumber:25},this),n.jsxDEV("div",{className:"sentia-alert-message",children:a.description},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:349,columnNumber:25},this),n.jsxDEV("div",{className:"sentia-alert-impact",children:["Impact: £",a.impact?.toLocaleString()||"N/A"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:352,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:345,columnNumber:23},this)},e,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:344,columnNumber:21},this))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:342,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:341,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:337,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:n.jsxDEV("h3",{className:"sentia-card-title",children:"Risk Analysis Summary"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:366,columnNumber:15},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:365,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-grid sentia-grid-3",children:[n.jsxDEV("div",{className:"sentia-metric-card",children:[n.jsxDEV("div",{className:"sentia-metric-label",children:"Best Case"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:371,columnNumber:19},this),n.jsxDEV("div",{className:"sentia-metric-value sentia-positive",children:e.scenarios&&e.scenarios.length>0?Math.max(...e.scenarios.map(a=>a.results?.scenarios?.baseline?.summary?.netCashFlow||0)).toLocaleString():"N/A"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:372,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:370,columnNumber:17},this),n.jsxDEV("div",{className:"sentia-metric-card",children:[n.jsxDEV("div",{className:"sentia-metric-label",children:"Worst Case"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:380,columnNumber:19},this),n.jsxDEV("div",{className:"sentia-metric-value sentia-negative",children:e.scenarios&&e.scenarios.length>0?Math.min(...e.scenarios.map(a=>a.results?.scenarios?.baseline?.summary?.netCashFlow||0)).toLocaleString():"N/A"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:381,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:379,columnNumber:17},this),n.jsxDEV("div",{className:"sentia-metric-card",children:[n.jsxDEV("div",{className:"sentia-metric-label",children:"Risk Range"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:389,columnNumber:19},this),n.jsxDEV("div",{className:"sentia-metric-value",children:e.scenarios&&e.scenarios.length>0?(Math.max(...e.scenarios.map(a=>a.results?.scenarios?.baseline?.summary?.netCashFlow||0))-Math.min(...e.scenarios.map(a=>a.results?.scenarios?.baseline?.summary?.netCashFlow||0))).toLocaleString():"N/A"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:390,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:388,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:369,columnNumber:15},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:368,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:364,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:266,columnNumber:9},this),!e&&!s&&!t&&n.jsxDEV("div",{className:"sentia-card",children:n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-empty-state",children:[n.jsxDEV("p",{children:"No scenario analysis results"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:409,columnNumber:15},this),n.jsxDEV("small",{children:'Configure scenarios above and click "Run Scenario Analysis" to compare different business scenarios'},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:410,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:408,columnNumber:13},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:407,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:406,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/ScenarioAnalysis.jsx",lineNumber:102,columnNumber:5},this)}function j({hasManagementAccess:e=!1}){const i=async()=>null,[s,r]=a.useState([]),[t,o]=a.useState([]),[c,m]=a.useState(!1),[h,b]=a.useState(null),[g,N]=a.useState("ar"),[f,j]=a.useState(null);a.useEffect(()=>{C()},[]);const C=async()=>{try{m(!0),b(null);const a={Authorization:`Bearer ${await i()}`},[n,e]=await Promise.all([u.get("/api/working-capital/policies/ar",{headers:a}),u.get("/api/working-capital/policies/ap",{headers:a})]);r(n.data.data||[]),o(e.data.data||[])}catch(a){l("Policy fetch error",a,{component:"PolicyManagement"}),b(a.response?.data?.error||a.message)}finally{m(!1)}},D=a=>{try{return JSON.parse(a).map(a=>`${a.days} days (${(100*a.pct).toFixed(0)}%)`).join(", ")}catch{return"Invalid terms format"}},x=a=>(100*a).toFixed(2)+"%";return n.jsxDEV("div",{className:"sentia-policy-container",children:[n.jsxDEV("div",{className:"sentia-tabs",children:n.jsxDEV("div",{className:"sentia-tab-list",children:[n.jsxDEV("button",{className:"sentia-tab "+("ar"===g?"sentia-tab-active":""),onClick:()=>N("ar"),children:[n.jsxDEV("span",{className:"sentia-tab-icon",children:"📥"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:88,columnNumber:13},this),n.jsxDEV("span",{className:"sentia-tab-label",children:"AR Policies"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:89,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:84,columnNumber:11},this),n.jsxDEV("button",{className:"sentia-tab "+("ap"===g?"sentia-tab-active":""),onClick:()=>N("ap"),children:[n.jsxDEV("span",{className:"sentia-tab-icon",children:"📤"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:95,columnNumber:13},this),n.jsxDEV("span",{className:"sentia-tab-label",children:"AP Policies"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:96,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:91,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:83,columnNumber:9},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:82,columnNumber:7},this),h&&n.jsxDEV("div",{className:"sentia-error",children:n.jsxDEV("div",{className:"sentia-error-content",children:[n.jsxDEV("h4",{children:"Policy Management Error"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:105,columnNumber:13},this),n.jsxDEV("p",{children:h},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:106,columnNumber:13},this),n.jsxDEV("button",{onClick:C,className:"sentia-btn sentia-btn-secondary",children:"Retry"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:107,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:104,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:103,columnNumber:9},this),c&&!f&&n.jsxDEV("div",{className:"sentia-card",children:n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-loading",children:[n.jsxDEV("div",{className:"sentia-spinner"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:119,columnNumber:15},this),n.jsxDEV("p",{children:"Loading policies..."},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:120,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:118,columnNumber:13},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:117,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:116,columnNumber:9},this),"ar"===g&&!c&&n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:[n.jsxDEV("h3",{className:"sentia-card-title",children:"Accounts Receivable Policies"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:130,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-card-badge",children:s.length},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:131,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:129,columnNumber:11},this),n.jsxDEV("div",{className:"sentia-card-content",children:s.length>0?n.jsxDEV("div",{className:"sentia-table-container",children:n.jsxDEV("table",{className:"sentia-table",children:[n.jsxDEV("thead",{children:n.jsxDEV("tr",{children:[n.jsxDEV("th",{children:"Sales Channel"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:139,columnNumber:23},this),n.jsxDEV("th",{children:"Channel Type"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:140,columnNumber:23},this),n.jsxDEV("th",{children:"Market"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:141,columnNumber:23},this),n.jsxDEV("th",{children:"Payment Terms"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:142,columnNumber:23},this),n.jsxDEV("th",{children:"Bad Debt %"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:143,columnNumber:23},this),n.jsxDEV("th",{children:"Fees %"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:144,columnNumber:23},this),n.jsxDEV("th",{children:"Active From"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:145,columnNumber:23},this),e&&n.jsxDEV("th",{children:"Actions"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:146,columnNumber:47},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:138,columnNumber:21},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:137,columnNumber:19},this),n.jsxDEV("tbody",{children:s.map((a,i)=>n.jsxDEV("tr",{children:[n.jsxDEV("td",{children:a.sales_channel?.name||"N/A"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:152,columnNumber:25},this),n.jsxDEV("td",{children:n.jsxDEV("span",{className:"sentia-badge",children:a.sales_channel?.channelType||"Unknown"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:154,columnNumber:27},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:153,columnNumber:25},this),n.jsxDEV("td",{children:a.sales_channel?.marketCode||"N/A"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:158,columnNumber:25},this),n.jsxDEV("td",{children:D(a.terms)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:159,columnNumber:25},this),n.jsxDEV("td",{children:x(a.bad_debt_pct)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:160,columnNumber:25},this),n.jsxDEV("td",{children:x(a.fees_pct)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:161,columnNumber:25},this),n.jsxDEV("td",{children:new Date(a.active_from).toLocaleDateString("en-GB")},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:162,columnNumber:25},this),e&&n.jsxDEV("td",{children:n.jsxDEV("button",{className:"sentia-btn sentia-btn-ghost sentia-btn-sm",onClick:()=>j({...a,type:"ar"}),children:"Edit"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:165,columnNumber:29},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:164,columnNumber:27},this)]},a.id||i,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:151,columnNumber:23},this))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:149,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:136,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:135,columnNumber:15},this):n.jsxDEV("div",{className:"sentia-empty-state",children:[n.jsxDEV("p",{children:"No AR policies configured"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:180,columnNumber:17},this),n.jsxDEV("small",{children:"AR policies define payment terms and collection parameters for sales channels"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:181,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:179,columnNumber:15},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:133,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:128,columnNumber:9},this),"ap"===g&&!c&&n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:[n.jsxDEV("h3",{className:"sentia-card-title",children:"Accounts Payable Policies"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:192,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-card-badge",children:t.length},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:193,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:191,columnNumber:11},this),n.jsxDEV("div",{className:"sentia-card-content",children:t.length>0?n.jsxDEV("div",{className:"sentia-table-container",children:n.jsxDEV("table",{className:"sentia-table",children:[n.jsxDEV("thead",{children:n.jsxDEV("tr",{children:[n.jsxDEV("th",{children:"Supplier ID"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:201,columnNumber:23},this),n.jsxDEV("th",{children:"Term Days"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:202,columnNumber:23},this),n.jsxDEV("th",{children:"Early Pay Discount"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:203,columnNumber:23},this),n.jsxDEV("th",{children:"Early Pay Days"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:204,columnNumber:23},this),n.jsxDEV("th",{children:"Strategy"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:205,columnNumber:23},this),n.jsxDEV("th",{children:"Active From"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:206,columnNumber:23},this),e&&n.jsxDEV("th",{children:"Actions"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:207,columnNumber:47},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:200,columnNumber:21},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:199,columnNumber:19},this),n.jsxDEV("tbody",{children:t.map((a,i)=>n.jsxDEV("tr",{children:[n.jsxDEV("td",{children:a.supplier_id||"N/A"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:213,columnNumber:25},this),n.jsxDEV("td",{children:[a.term_days," days"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:214,columnNumber:25},this),n.jsxDEV("td",{children:x(a.early_pay_discount_pct||0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:215,columnNumber:25},this),n.jsxDEV("td",{children:[a.early_pay_days||"N/A"," days"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:216,columnNumber:25},this),n.jsxDEV("td",{children:n.jsxDEV("span",{className:"sentia-badge",children:a.strategy||"Standard"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:218,columnNumber:27},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:217,columnNumber:25},this),n.jsxDEV("td",{children:new Date(a.active_from).toLocaleDateString("en-GB")},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:222,columnNumber:25},this),e&&n.jsxDEV("td",{children:n.jsxDEV("button",{className:"sentia-btn sentia-btn-ghost sentia-btn-sm",onClick:()=>j({...a,type:"ap"}),children:"Edit"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:225,columnNumber:29},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:224,columnNumber:27},this)]},a.id||i,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:212,columnNumber:23},this))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:210,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:198,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:197,columnNumber:15},this):n.jsxDEV("div",{className:"sentia-empty-state",children:[n.jsxDEV("p",{children:"No AP policies configured"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:240,columnNumber:17},this),n.jsxDEV("small",{children:"AP policies define payment terms and discount strategies for suppliers"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:241,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:239,columnNumber:15},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:195,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:190,columnNumber:9},this),f&&e&&n.jsxDEV(p,{policy:f,onSave:"ar"===f.type?async a=>{try{m(!0);const n={Authorization:`Bearer ${await i()}`};await u.post("/api/working-capital/policies/ar",a,{headers:n});await C(),j(null),d("AR Policy updated successfully",{component:"PolicyManagement",policy:a})}catch(n){l("AR Policy update error",n,{component:"PolicyManagement",policy:a}),b(n.response?.data?.error||n.message)}finally{m(!1)}}:null,onCancel:()=>j(null),loading:c},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:250,columnNumber:9},this),!e&&n.jsxDEV("div",{className:"sentia-card",children:n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-alert sentia-alert-info",children:n.jsxDEV("div",{className:"sentia-alert-content",children:n.jsxDEV("div",{className:"sentia-alert-message",children:"You have read-only access to policy information. Contact your financial manager to modify policies."},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:264,columnNumber:17},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:263,columnNumber:15},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:262,columnNumber:13},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:261,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:260,columnNumber:9},this),n.jsxDEV("div",{className:"sentia-dashboard-actions",children:n.jsxDEV("button",{onClick:C,className:"sentia-btn sentia-btn-ghost",disabled:c,children:[n.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsxDEV("path",{d:"M1 4v6h6M23 20v-6h-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:281,columnNumber:13},this),n.jsxDEV("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:282,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:280,columnNumber:11},this),"Refresh Policies"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:275,columnNumber:9},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:274,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:80,columnNumber:5},this)}function p({policy:e,onSave:i,onCancel:s,loading:r}){const[t,o]=a.useState({channel_id:e.channel_id||"",terms:e.terms?JSON.parse(e.terms):[{days:30,pct:1}],bad_debt_pct:e.bad_debt_pct||.025,fees_pct:e.fees_pct||.029,description:e.description||""}),c=a=>{a.preventDefault(),i&&i(t)},m=(a,n,e)=>{const i=[...t.terms];i[a][n]="days"===n?parseInt(e):parseFloat(e),o({...t,terms:i})};return n.jsxDEV("div",{className:"sentia-modal-overlay",children:n.jsxDEV("div",{className:"sentia-modal",children:[n.jsxDEV("div",{className:"sentia-modal-header",children:[n.jsxDEV("h3",{children:"Edit AR Policy"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:332,columnNumber:11},this),n.jsxDEV("button",{className:"sentia-modal-close",onClick:s,children:"×"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:333,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:331,columnNumber:9},this),n.jsxDEV("form",{onSubmit:c,className:"sentia-modal-content",children:[n.jsxDEV("div",{className:"sentia-form-section",children:[n.jsxDEV("h4",{children:"Payment Terms"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:339,columnNumber:13},this),t.terms.map((a,e)=>n.jsxDEV("div",{className:"sentia-term-row",children:[n.jsxDEV("div",{className:"sentia-form-group",children:[n.jsxDEV("label",{className:"sentia-label",children:"Days"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:343,columnNumber:19},this),n.jsxDEV("input",{type:"number",className:"sentia-input",value:a.days,onChange:a=>m(e,"days",a.target.value),min:"0",required:!0},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:344,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:342,columnNumber:17},this),n.jsxDEV("div",{className:"sentia-form-group",children:[n.jsxDEV("label",{className:"sentia-label",children:"Percentage"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:354,columnNumber:19},this),n.jsxDEV("input",{type:"number",className:"sentia-input",value:a.pct,onChange:a=>m(e,"pct",a.target.value),min:"0",max:"1",step:"0.01",required:!0},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:355,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:353,columnNumber:17},this),t.terms.length>1&&n.jsxDEV("button",{type:"button",className:"sentia-btn sentia-btn-ghost sentia-btn-sm",onClick:()=>(a=>{if(t.terms.length>1){const n=t.terms.filter((n,e)=>e!==a);o({...t,terms:n})}})(e),children:"Remove"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:367,columnNumber:19},this)]},e,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:341,columnNumber:15},this)),n.jsxDEV("button",{type:"button",className:"sentia-btn sentia-btn-ghost",onClick:()=>{o({...t,terms:[...t.terms,{days:30,pct:0}]})},children:"Add Term"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:377,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:338,columnNumber:11},this),n.jsxDEV("div",{className:"sentia-form-grid",children:[n.jsxDEV("div",{className:"sentia-form-group",children:[n.jsxDEV("label",{className:"sentia-label",children:"Bad Debt Rate (%)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:389,columnNumber:15},this),n.jsxDEV("input",{type:"number",className:"sentia-input",value:(100*t.bad_debt_pct).toFixed(2),onChange:a=>o({...t,bad_debt_pct:parseFloat(a.target.value)/100}),min:"0",max:"100",step:"0.01",required:!0},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:390,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:388,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-form-group",children:[n.jsxDEV("label",{className:"sentia-label",children:"Fees Rate (%)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:402,columnNumber:15},this),n.jsxDEV("input",{type:"number",className:"sentia-input",value:(100*t.fees_pct).toFixed(2),onChange:a=>o({...t,fees_pct:parseFloat(a.target.value)/100}),min:"0",max:"100",step:"0.01",required:!0},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:403,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:401,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:387,columnNumber:11},this),n.jsxDEV("div",{className:"sentia-form-group",children:[n.jsxDEV("label",{className:"sentia-label",children:"Description"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:417,columnNumber:13},this),n.jsxDEV("textarea",{className:"sentia-input",value:t.description,onChange:a=>o({...t,description:a.target.value}),rows:"3",placeholder:"Policy description or notes"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:418,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:416,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:336,columnNumber:9},this),n.jsxDEV("div",{className:"sentia-modal-actions",children:[n.jsxDEV("button",{type:"button",className:"sentia-btn sentia-btn-ghost",onClick:s,children:"Cancel"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:429,columnNumber:11},this),n.jsxDEV("button",{type:"submit",className:"sentia-btn sentia-btn-primary",onClick:c,disabled:r,children:r?"Saving...":"Save Policy"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:436,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:428,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:330,columnNumber:7},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/PolicyManagement.jsx",lineNumber:329,columnNumber:5},this)}function C({dashboardData:e}){const[i,s]=a.useState(e),[r,t]=a.useState(!1),[o,c]=a.useState(null),[m,d]=a.useState(!1),h=async()=>{try{d(!0),c(null);const a={Authorization:`Bearer ${await(async()=>null)()}`},n=await u.get("/api/working-capital/diagnostics",{headers:a});s(n.data.data)}catch(a){l("Diagnostics refresh error",a,{component:"SystemDiagnostics"}),c(a.response?.data?.error||a.message)}finally{d(!1)}},b=a=>a>=80?"sentia-excellent":a>=60?"sentia-good":a>=40?"sentia-warning":"sentia-critical",g=a=>"healthy"===a||"excellent"===a||"optimal"===a?"sentia-status-success":"good"===a||"acceptable"===a?"sentia-status-warning":"sentia-status-error";return i||r?n.jsxDEV("div",{className:"sentia-diagnostics-container",children:[n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:[n.jsxDEV("h3",{className:"sentia-card-title",children:"System Health Overview"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:65,columnNumber:11},this),n.jsxDEV("div",{className:`sentia-card-badge ${b(i?.overallHealthScore||0)}`,children:[i?.overallHealthScore||0,"/100"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:66,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:64,columnNumber:9},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-health-grid",children:[n.jsxDEV("div",{className:"sentia-health-item",children:[n.jsxDEV("div",{className:"sentia-health-icon",children:"💾"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:73,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-health-content",children:[n.jsxDEV("div",{className:"sentia-health-label",children:"Database"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:75,columnNumber:17},this),n.jsxDEV("div",{className:`sentia-status ${g(i?.systemHealth?.overallStatus)}`,children:i?.systemHealth?.overallStatus||"unknown"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:76,columnNumber:17},this),n.jsxDEV("div",{className:"sentia-health-detail",children:i?.systemHealth?.database?.message||"No status available"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:79,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:74,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:72,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-health-item",children:[n.jsxDEV("div",{className:"sentia-health-icon",children:"🧮"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:86,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-health-content",children:[n.jsxDEV("div",{className:"sentia-health-label",children:"Calculations"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:88,columnNumber:17},this),n.jsxDEV("div",{className:`sentia-status ${g(i?.systemHealth?.calculations?.status)}`,children:i?.systemHealth?.calculations?.status||"unknown"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:89,columnNumber:17},this),n.jsxDEV("div",{className:"sentia-health-detail",children:i?.systemHealth?.calculations?.message||"No status available"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:92,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:87,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:85,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:71,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:70,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:63,columnNumber:7},this),n.jsxDEV("div",{className:"sentia-grid sentia-grid-2",children:[n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:[n.jsxDEV("h3",{className:"sentia-card-title",children:"Data Quality"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:105,columnNumber:13},this),n.jsxDEV("div",{className:`sentia-card-badge ${b(i?.dataQuality?.overallScore||0)}`,children:[i?.dataQuality?.overallScore||0,"/100"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:106,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:104,columnNumber:11},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-data-quality-grid",children:[n.jsxDEV("div",{className:"sentia-quality-item",children:[n.jsxDEV("div",{className:"sentia-quality-label",children:"Product Coverage"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:113,columnNumber:17},this),n.jsxDEV("div",{className:`sentia-status ${g(i?.dataQuality?.productCoverage?.status)}`,children:i?.dataQuality?.productCoverage?.status||"unknown"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:114,columnNumber:17},this),n.jsxDEV("div",{className:"sentia-quality-detail",children:[i?.dataQuality?.productCoverage?.count||0," products"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:117,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:112,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-quality-item",children:[n.jsxDEV("div",{className:"sentia-quality-label",children:"Sales Data"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:123,columnNumber:17},this),n.jsxDEV("div",{className:`sentia-status ${g(i?.dataQuality?.salesDataFreshness?.status)}`,children:i?.dataQuality?.salesDataFreshness?.status||"unknown"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:124,columnNumber:17},this),n.jsxDEV("div",{className:"sentia-quality-detail",children:[i?.dataQuality?.salesDataFreshness?.recentSalesCount||0," recent sales"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:127,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:122,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-quality-item",children:[n.jsxDEV("div",{className:"sentia-quality-label",children:"Forecasts"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:133,columnNumber:17},this),n.jsxDEV("div",{className:`sentia-status ${g(i?.dataQuality?.forecastCoverage?.status)}`,children:i?.dataQuality?.forecastCoverage?.status||"unknown"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:134,columnNumber:17},this),n.jsxDEV("div",{className:"sentia-quality-detail",children:[i?.dataQuality?.forecastCoverage?.count||0," forecasts"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:137,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:132,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-quality-item",children:[n.jsxDEV("div",{className:"sentia-quality-label",children:"Inventory Data"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:143,columnNumber:17},this),n.jsxDEV("div",{className:`sentia-status ${g(i?.dataQuality?.inventoryDataFreshness?.status)}`,children:i?.dataQuality?.inventoryDataFreshness?.status||"unknown"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:144,columnNumber:17},this),n.jsxDEV("div",{className:"sentia-quality-detail",children:[i?.dataQuality?.inventoryDataFreshness?.recentInventoryCount||0," recent records"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:147,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:142,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:111,columnNumber:13},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:110,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:103,columnNumber:9},this),n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:[n.jsxDEV("h3",{className:"sentia-card-title",children:"Model Accuracy"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:158,columnNumber:13},this),n.jsxDEV("div",{className:`sentia-card-badge ${g(i?.modelAccuracy?.overallAccuracy)}`,children:i?.modelAccuracy?.overallAccuracy||"unknown"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:159,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:157,columnNumber:11},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-accuracy-grid",children:[n.jsxDEV("div",{className:"sentia-accuracy-item",children:[n.jsxDEV("div",{className:"sentia-accuracy-label",children:"Forecast Accuracy"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:166,columnNumber:17},this),n.jsxDEV("div",{className:"sentia-accuracy-value",children:[i?.modelAccuracy?.forecastAccuracy?.mape||0,"% MAPE"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:167,columnNumber:17},this),n.jsxDEV("div",{className:`sentia-status ${g(i?.modelAccuracy?.forecastAccuracy?.status)}`,children:i?.modelAccuracy?.forecastAccuracy?.status||"unknown"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:170,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:165,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-accuracy-item",children:[n.jsxDEV("div",{className:"sentia-accuracy-label",children:"Cash Flow Accuracy"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:176,columnNumber:17},this),n.jsxDEV("div",{className:"sentia-accuracy-value",children:[i?.modelAccuracy?.cashFlowAccuracy?.variance||0,"% variance"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:177,columnNumber:17},this),n.jsxDEV("div",{className:`sentia-status ${g(i?.modelAccuracy?.cashFlowAccuracy?.status)}`,children:i?.modelAccuracy?.cashFlowAccuracy?.status||"unknown"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:180,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:175,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-accuracy-detail",children:["Last validation: ",i?.modelAccuracy?.lastValidation?new Date(i.modelAccuracy.lastValidation).toLocaleDateString("en-GB"):"Never"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:185,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:164,columnNumber:13},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:163,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:156,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:102,columnNumber:7},this),n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:[n.jsxDEV("h3",{className:"sentia-card-title",children:"Performance Metrics"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:199,columnNumber:11},this),n.jsxDEV("div",{className:`sentia-card-badge ${g(i?.performanceMetrics?.status)}`,children:i?.performanceMetrics?.status||"unknown"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:200,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:198,columnNumber:9},this),n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-grid sentia-grid-4",children:[n.jsxDEV("div",{className:"sentia-metric-card",children:[n.jsxDEV("div",{className:"sentia-metric-label",children:"Avg Calculation Time"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:207,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-metric-value",children:[i?.performanceMetrics?.averageCalculationTime||0,"s"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:208,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:206,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-metric-card",children:[n.jsxDEV("div",{className:"sentia-metric-label",children:"Cache Hit Rate"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:213,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-metric-value",children:[(100*(i?.performanceMetrics?.cacheHitRate||0)).toFixed(1),"%"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:214,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:212,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-metric-card",children:[n.jsxDEV("div",{className:"sentia-metric-label",children:"Memory Usage"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:219,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-metric-value",children:[i?.performanceMetrics?.memoryUsage||0,"MB"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:220,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:218,columnNumber:13},this),n.jsxDEV("div",{className:"sentia-metric-card",children:[n.jsxDEV("div",{className:"sentia-metric-label",children:"Concurrent Users"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:225,columnNumber:15},this),n.jsxDEV("div",{className:"sentia-metric-value",children:i?.performanceMetrics?.concurrentUsers||0},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:226,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:224,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:205,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:204,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:197,columnNumber:7},this),n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:[n.jsxDEV("h3",{className:"sentia-card-title",children:"System Alerts"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:237,columnNumber:11},this),n.jsxDEV("div",{className:"sentia-card-badge",children:i?.alerts?.length||0},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:238,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:236,columnNumber:9},this),n.jsxDEV("div",{className:"sentia-card-content",children:i?.alerts&&i.alerts.length>0?n.jsxDEV("div",{className:"sentia-alerts-list",children:i.alerts.map((a,e)=>n.jsxDEV("div",{className:`sentia-alert sentia-alert-${a.level}`,children:n.jsxDEV("div",{className:"sentia-alert-content",children:[n.jsxDEV("div",{className:"sentia-alert-header",children:[n.jsxDEV("span",{className:"sentia-alert-type",children:a.type},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:247,columnNumber:23},this),n.jsxDEV("span",{className:"sentia-alert-timestamp",children:new Date(a.timestamp).toLocaleString("en-GB")},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:248,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:246,columnNumber:21},this),n.jsxDEV("div",{className:"sentia-alert-message",children:a.message},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:252,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:245,columnNumber:19},this)},e,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:244,columnNumber:17},this))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:242,columnNumber:13},this):n.jsxDEV("div",{className:"sentia-empty-state",children:[n.jsxDEV("p",{children:"No active alerts"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:259,columnNumber:15},this),n.jsxDEV("small",{children:"System is running normally with no issues detected"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:260,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:258,columnNumber:13},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:240,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:235,columnNumber:7},this),n.jsxDEV("div",{className:"sentia-card",children:[n.jsxDEV("div",{className:"sentia-card-header",children:[n.jsxDEV("h3",{className:"sentia-card-title",children:"System Recommendations"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:269,columnNumber:11},this),n.jsxDEV("div",{className:"sentia-card-badge",children:i?.recommendations?.length||0},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:270,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:268,columnNumber:9},this),n.jsxDEV("div",{className:"sentia-card-content",children:i?.recommendations&&i.recommendations.length>0?n.jsxDEV("div",{className:"sentia-recommendations-list",children:i.recommendations.map((a,e)=>n.jsxDEV("div",{className:`sentia-recommendation sentia-priority-${a.priority}`,children:n.jsxDEV("div",{className:"sentia-recommendation-content",children:[n.jsxDEV("div",{className:"sentia-recommendation-header",children:[n.jsxDEV("span",{className:"sentia-recommendation-title",children:a.title},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:279,columnNumber:23},this),n.jsxDEV("div",{className:"sentia-recommendation-badges",children:[n.jsxDEV("span",{className:`sentia-badge sentia-priority-${a.priority}`,children:a.priority},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:281,columnNumber:25},this),n.jsxDEV("span",{className:"sentia-badge sentia-effort-{rec.estimatedEffort}",children:[a.estimatedEffort," effort"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:284,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:280,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:278,columnNumber:21},this),n.jsxDEV("div",{className:"sentia-recommendation-description",children:a.description},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:289,columnNumber:21},this),n.jsxDEV("div",{className:"sentia-recommendation-category",children:["Category: ",a.category]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:292,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:277,columnNumber:19},this)},e,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:276,columnNumber:17},this))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:274,columnNumber:13},this):n.jsxDEV("div",{className:"sentia-empty-state",children:[n.jsxDEV("p",{children:"No system recommendations"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:301,columnNumber:15},this),n.jsxDEV("small",{children:"System is optimally configured with no immediate actions required"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:302,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:300,columnNumber:13},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:272,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:267,columnNumber:7},this),o&&n.jsxDEV("div",{className:"sentia-error",children:n.jsxDEV("div",{className:"sentia-error-content",children:[n.jsxDEV("h4",{children:"Diagnostics Error"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:312,columnNumber:13},this),n.jsxDEV("p",{children:o},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:313,columnNumber:13},this),n.jsxDEV("button",{onClick:h,className:"sentia-btn sentia-btn-secondary",children:"Retry"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:314,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:311,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:310,columnNumber:9},this),n.jsxDEV("div",{className:"sentia-dashboard-actions",children:n.jsxDEV("button",{onClick:h,className:"sentia-btn sentia-btn-primary",disabled:m,children:[n.jsxDEV("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsxDEV("path",{d:"M1 4v6h6M23 20v-6h-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:329,columnNumber:13},this),n.jsxDEV("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:330,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:328,columnNumber:11},this),m?"Refreshing...":"Refresh Diagnostics"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:323,columnNumber:9},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:322,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:61,columnNumber:5},this):n.jsxDEV("div",{className:"sentia-card",children:n.jsxDEV("div",{className:"sentia-card-content",children:n.jsxDEV("div",{className:"sentia-empty-state",children:[n.jsxDEV("p",{children:"No diagnostics data available"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:50,columnNumber:13},this),n.jsxDEV("button",{onClick:h,className:"sentia-btn sentia-btn-primary",children:"Load Diagnostics"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:51,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:49,columnNumber:11},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:48,columnNumber:9},this)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/SystemDiagnostics.jsx",lineNumber:47,columnNumber:7},this)}const D=()=>{const[e,u]=a.useState("overview"),[l,d]=a.useState(!0),[h,b]=a.useState(null);a.useEffect(()=>{(async()=>{try{d(!0);const a=await fetch("/api/working-capital/overview");if(a.ok){const n=await a.json();b(n)}else b(null)}catch(a){b(null)}finally{d(!1)}})()},[]);const p=[{id:"overview",label:"Overview",icon:t},{id:"projections",label:"Cash Flow",icon:r},{id:"scenarios",label:"What-If Analysis",icon:c},{id:"policies",label:"Policies",icon:m},{id:"diagnostics",label:"Diagnostics",icon:o}];return n.jsxDEV("div",{className:"space-y-6",children:[n.jsxDEV("div",{className:"flex items-center justify-between",children:[n.jsxDEV("div",{children:[n.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Working Capital Management"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:67,columnNumber:11},void 0),n.jsxDEV("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Comprehensive financial analysis and optimization tools"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:70,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:66,columnNumber:9},void 0),n.jsxDEV("div",{className:"flex items-center space-x-4",children:n.jsxDEV("div",{className:"text-right",children:[n.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Last updated"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:77,columnNumber:13},void 0),n.jsxDEV("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[n.jsxDEV(i,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:79,columnNumber:15},void 0),h.lastUpdated]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:78,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:76,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:75,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:65,columnNumber:7},void 0),l?n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((a,e)=>n.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:n.jsxDEV("div",{className:"animate-pulse",children:[n.jsxDEV("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded mb-4"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:92,columnNumber:17},void 0),n.jsxDEV("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-2"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:93,columnNumber:17},void 0),n.jsxDEV("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-2/3"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:94,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:91,columnNumber:15},void 0)},e,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:90,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:88,columnNumber:9},void 0):h?n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:n.jsxDEV("div",{className:"flex items-center",children:[n.jsxDEV("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:n.jsxDEV(s,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:104,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:103,columnNumber:15},void 0),n.jsxDEV("div",{className:"ml-4",children:[n.jsxDEV("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Current Working Capital"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:107,columnNumber:17},void 0),n.jsxDEV("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["£",((h.current||0)/1e6).toFixed(2),"M"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:108,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center mt-1",children:[n.jsxDEV(r,{className:"w-4 h-4 text-green-500 mr-1"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:112,columnNumber:19},void 0),n.jsxDEV("span",{className:"text-sm text-green-600 dark:text-green-400",children:h.trend||"N/A"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:113,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:111,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:106,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:102,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:101,columnNumber:11},void 0),n.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:n.jsxDEV("div",{className:"flex items-center",children:[n.jsxDEV("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:n.jsxDEV(r,{className:"w-6 h-6 text-green-600 dark:text-green-400"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:122,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:121,columnNumber:15},void 0),n.jsxDEV("div",{className:"ml-4",children:[n.jsxDEV("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Projected (30 days)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:125,columnNumber:17},void 0),n.jsxDEV("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["£",((h.projected||0)/1e6).toFixed(2),"M"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:126,columnNumber:17},void 0),n.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:["+£",(((h.projected||0)-(h.current||0))/1e3).toFixed(0),"K improvement"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:129,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:124,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:120,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:119,columnNumber:11},void 0),n.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:n.jsxDEV("div",{className:"flex items-center",children:[n.jsxDEV("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:n.jsxDEV(t,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:139,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:138,columnNumber:15},void 0),n.jsxDEV("div",{className:"ml-4",children:[n.jsxDEV("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Optimization Potential"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:142,columnNumber:17},void 0),n.jsxDEV("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[h.optimizationPct||"0","%"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:143,columnNumber:17},void 0),n.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:["£",((h.current||0)*((h.optimizationPct||0)/100)/1e3).toFixed(0),"K available"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:144,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:141,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:137,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:136,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:100,columnNumber:9},void 0):n.jsxDEV("div",{className:"text-center py-8",children:n.jsxDEV("p",{className:"text-gray-500 dark:text-gray-400",children:"Unable to load working capital data. Please check your API connection."},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:153,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:152,columnNumber:9},void 0),h?.alerts&&h.alerts.length>0&&n.jsxDEV("div",{className:"space-y-3",children:h.alerts.map((a,e)=>n.jsxDEV("div",{className:"p-4 rounded-lg border-l-4 "+("warning"===a.type?"bg-yellow-50 border-yellow-400 dark:bg-yellow-900/20 dark:border-yellow-600":"bg-blue-50 border-blue-400 dark:bg-blue-900/20 dark:border-blue-600"),children:n.jsxDEV("div",{className:"flex items-center",children:[n.jsxDEV(o,{className:"w-5 h-5 mr-3 "+("warning"===a.type?"text-yellow-600":"text-blue-600")},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:170,columnNumber:17},void 0),n.jsxDEV("p",{className:"text-sm "+("warning"===a.type?"text-yellow-800 dark:text-yellow-200":"text-blue-800 dark:text-blue-200"),children:a.message},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:173,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:169,columnNumber:15},void 0)},e,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:161,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:159,columnNumber:9},void 0),n.jsxDEV("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n.jsxDEV("nav",{className:"-mb-px flex space-x-8",children:p.map(a=>{const i=a.icon;return n.jsxDEV("button",{onClick:()=>u(a.id),className:"flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 "+(e===a.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[n.jsxDEV(i,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:201,columnNumber:17},void 0),a.label]},a.id,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:192,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:188,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:187,columnNumber:7},void 0),n.jsxDEV("div",{className:"mt-6",children:["overview"===e&&n.jsxDEV(g,{data:h},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:211,columnNumber:38},void 0),"projections"===e&&n.jsxDEV(N,{},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:212,columnNumber:41},void 0),"scenarios"===e&&n.jsxDEV(f,{},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:213,columnNumber:39},void 0),"policies"===e&&n.jsxDEV(j,{},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:214,columnNumber:38},void 0),"diagnostics"===e&&n.jsxDEV(C,{},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:215,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:210,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/WorkingCapital/WorkingCapital.jsx",lineNumber:63,columnNumber:5},void 0)};export{D as default};
