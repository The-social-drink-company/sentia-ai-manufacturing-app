import{a as e,j as t,F as s,i as a,t as r,aC as i,be as n,bf as l,ai as o,aS as c,G as d,s as m,bg as x,k as g,bh as h}from"./chunk-dQ8ZuPJ5.js";import{C as u}from"./chunk-B5TNQPEw.js";import{g as y,l as p,h as j}from"./index-D9poZ9V0.js";import{E as v,z as b}from"./chunk-BmDXyJMe.js";import{R as N,l as k,h as w,X as f,Y as S,j as I,m as A,s as L,t as E,u as C,n as O,q as D}from"./chunk-BqFGoBxF.js";import"./chunk-CVC8ZTrn.js";import"./chunk-CZm8CRZW.js";import"./chunk-BYhzkSrP.js";import"./chunk-CULnPDSP.js";import"./chunk-Dozjk7Op.js";const M=new class{constructor(){this.inventoryLevels=new Map,this.locations=new Map,this.reorderRules=new Map,this.movementHistory=[],this.alertThresholds=new Map,this.supplierIntegrations=new Map,this.isConnected=!1,this.lastSync=null}async initialize(){try{return y("Initializing live inventory management service"),await this.loadInventoryConfiguration(),await this.connectToWMS(),await this.connectToIoTSensors(),await this.startRealTimeMonitoring(),this.isConnected=!0,this.lastSync=new Date,y("Live inventory service initialized successfully"),{success:!0,message:"Inventory systems connected"}}catch(e){throw p("Failed to initialize live inventory service",e),new Error(`Inventory integration failed: ${e.message}`)}}async getRealTimeInventoryStatus(){try{const e={timestamp:(new Date).toISOString(),totalSKUs:this.inventoryLevels.size,totalValue:0,lowStockAlerts:0,outOfStock:0,locations:[],topMovingItems:[],reorderSuggestions:[]};for(const[t,s]of this.locations){const s=await this.getLocationInventoryStatus(t);e.locations.push(s),e.totalValue+=s.totalValue,e.lowStockAlerts+=s.lowStockItems,e.outOfStock+=s.outOfStockItems}return e.topMovingItems=await this.getTopMovingItems(),e.reorderSuggestions=await this.getReorderSuggestions(),e}catch(e){throw p("Failed to get inventory status",e),e}}async getLocationInventoryStatus(e){try{const t=this.locations.get(e);if(!t)throw new Error(`Location ${e} not found`);const s={id:e,name:t.name,type:t.type,totalSKUs:0,totalValue:0,lowStockItems:0,outOfStockItems:0,lastUpdate:(new Date).toISOString(),items:[]},a=await this.getLocationItems(e);for(const r of a){const t=await this.getCurrentStock(r.sku,e),a=t*r.unitCost;s.totalSKUs++,s.totalValue+=a;const i=this.alertThresholds.get(r.sku);0===t?s.outOfStockItems++:i&&t<=i.lowStock&&s.lowStockItems++,s.items.push({sku:r.sku,name:r.name,currentStock:t,unitCost:r.unitCost,totalValue:a,status:this.getStockStatus(t,i),lastMovement:await this.getLastMovement(r.sku,e),reorderLevel:i?.reorderLevel||0,maxStock:i?.maxStock||0})}return s}catch(t){throw p(`Failed to get location status for ${e}`,t),t}}async processStockMovement(e){try{y("Processing stock movement",e),await this.validateMovement(e);const t=await this.getCurrentStock(e.sku,e.locationId),s=t+("in"===e.type?e.quantity:-e.quantity);if(s<0)throw j(`Stock movement would result in negative inventory for ${e.sku}`,{currentStock:t,movementQuantity:e.quantity,movementType:e.type}),new Error("Insufficient stock for movement");await this.updateStockLevel(e.sku,e.locationId,s);const a={id:`MOV_${Date.now()}_${crypto.randomUUID().substr(2,9)}`,timestamp:(new Date).toISOString(),sku:e.sku,locationId:e.locationId,type:e.type,quantity:e.quantity,previousStock:t,newStock:s,reason:e.reason||"Manual adjustment",userId:e.userId||"system",batchId:e.batchId,referenceNumber:e.referenceNumber};return this.movementHistory.push(a),await this.checkReorderTrigger(e.sku,e.locationId,s),await this.broadcastInventoryUpdate(e.sku,e.locationId,s),y(`Stock movement processed successfully for ${e.sku}`,{previousStock:t,newStock:s,movement:e.type}),a}catch(t){throw p("Failed to process stock movement",t),t}}async getReorderSuggestions(){try{const e=[];for(const[t,s]of this.inventoryLevels)for(const[a,r]of s){const s=this.alertThresholds.get(t);if(s&&r<=s.reorderLevel){const i=await this.calculateConsumptionRate(t,a),n=await this.getSupplierLeadTime(t),l=await this.calculateOptimalOrderQuantity(t,a,i,n);e.push({sku:t,locationId:a,currentStock:r,reorderLevel:s.reorderLevel,suggestedQuantity:l,estimatedCost:l*await this.getUnitCost(t),urgency:this.calculateUrgency(r,i,n),supplier:await this.getPrimarySupplier(t),estimatedDelivery:this.calculateDeliveryDate(n),reason:this.getReorderReason(r,s,i)})}}return e.sort((e,t)=>{const s={critical:0,high:1,medium:2,low:3};return s[e.urgency]-s[t.urgency]}),e}catch(e){throw p("Failed to get reorder suggestions",e),e}}async executeAutomatedReorder(e,t,s){try{y(`Executing automated reorder for ${e}`,{locationId:t,quantity:s});const a=await this.getPrimarySupplier(e);if(!a)throw new Error(`No supplier configured for ${e}`);const r={id:`PO_${Date.now()}_${crypto.randomUUID().substr(2,9)}`,sku:e,locationId:t,quantity:s,supplier:a,unitCost:await this.getUnitCost(e),totalCost:s*await this.getUnitCost(e),orderDate:(new Date).toISOString(),expectedDelivery:this.calculateDeliveryDate(a.leadTime),status:"pending",automated:!0};return await this.submitSupplierOrder(r),await this.recordPurchaseOrder(r),await this.recordIncomingStock(e,t,s,r.expectedDelivery),y(`Automated reorder completed for ${e}`,r),r}catch(a){throw p(`Failed to execute automated reorder for ${e}`,a),a}}async getMovementHistory(e={}){try{let t=[...this.movementHistory];return e.sku&&(t=t.filter(t=>t.sku===e.sku)),e.locationId&&(t=t.filter(t=>t.locationId===e.locationId)),e.type&&(t=t.filter(t=>t.type===e.type)),e.startDate&&(t=t.filter(t=>new Date(t.timestamp)>=new Date(e.startDate))),e.endDate&&(t=t.filter(t=>new Date(t.timestamp)<=new Date(e.endDate))),t.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)),e.limit&&(t=t.slice(0,e.limit)),{movements:t,totalMovements:t.length,summary:{totalIn:t.filter(e=>"in"===e.type).reduce((e,t)=>e+t.quantity,0),totalOut:t.filter(e=>"out"===e.type).reduce((e,t)=>e+t.quantity,0),netMovement:t.reduce((e,t)=>e+("in"===t.type?t.quantity:-t.quantity),0)}}}catch(t){throw p("Failed to get movement history",t),t}}async loadInventoryConfiguration(){const e=[{id:"MAIN_WAREHOUSE",name:"Main Warehouse",type:"warehouse",address:"Factory Floor 1"},{id:"RAW_MATERIALS",name:"Raw Materials Storage",type:"storage",address:"Building A - Ground Floor"},{id:"FINISHED_GOODS",name:"Finished Goods",type:"storage",address:"Building B - Second Floor"},{id:"QUALITY_LAB",name:"Quality Control Lab",type:"lab",address:"Building C - First Floor"}];e.forEach(e=>{this.locations.set(e.id,e)});const t=[{sku:"GABA_RED_500",reorderLevel:1e3,lowStock:500,maxStock:1e4},{sku:"WHEY_VANILLA",reorderLevel:500,lowStock:250,maxStock:5e3},{sku:"OMEGA3_LIQUID",reorderLevel:750,lowStock:375,maxStock:7500},{sku:"CAPSULE_SHELLS",reorderLevel:5e4,lowStock:25e3,maxStock:5e5},{sku:"PROTEIN_POWDER_BASE",reorderLevel:2e3,lowStock:1e3,maxStock:2e4}];t.forEach(e=>{this.alertThresholds.set(e.sku,e)}),y(`Loaded ${e.length} locations and ${t.length} stock thresholds`)}async connectToWMS(){y("Connecting to warehouse management systems"),await this.delay(1e3),y("WMS connections established")}async connectToIoTSensors(){y("Connecting to IoT inventory sensors"),await this.delay(500),y("IoT sensor connections established")}async startRealTimeMonitoring(){y("Starting real-time inventory monitoring"),setInterval(()=>this.syncStockLevels(),3e4),setInterval(()=>this.checkAllReorderTriggers(),3e5),setInterval(()=>this.cleanupMovementHistory(),36e5)}async getLocationItems(e){return{MAIN_WAREHOUSE:[{sku:"GABA_RED_500",name:"GABA Red 500mg Capsules",unitCost:.25},{sku:"WHEY_VANILLA",name:"Whey Protein Vanilla 2kg",unitCost:15.5},{sku:"OMEGA3_LIQUID",name:"Omega-3 Liquid 500ml",unitCost:8.75}],RAW_MATERIALS:[{sku:"GABA_POWDER",name:"GABA Powder (Raw)",unitCost:.05},{sku:"CAPSULE_SHELLS",name:"Capsule Shells Size 0",unitCost:.002},{sku:"PROTEIN_POWDER_BASE",name:"Protein Powder Base",unitCost:3.2}],FINISHED_GOODS:[{sku:"GABA_RED_500",name:"GABA Red 500mg Capsules",unitCost:.25},{sku:"WHEY_VANILLA",name:"Whey Protein Vanilla 2kg",unitCost:15.5},{sku:"OMEGA3_LIQUID",name:"Omega-3 Liquid 500ml",unitCost:8.75}]}[e]||[]}async getCurrentStock(e,t){const s={GABA_RED_500:{MAIN_WAREHOUSE:2500,FINISHED_GOODS:8750},WHEY_VANILLA:{MAIN_WAREHOUSE:1250,FINISHED_GOODS:2800},OMEGA3_LIQUID:{MAIN_WAREHOUSE:1875,FINISHED_GOODS:3200},GABA_POWDER:{RAW_MATERIALS:15e3},CAPSULE_SHELLS:{RAW_MATERIALS:125e3},PROTEIN_POWDER_BASE:{RAW_MATERIALS:5500}}[e]?.[t]||0,a=Math.floor(.05*s);return Math.max(0,s+a)}getStockStatus(e,t){return t?0===e?"out_of_stock":e<=t.lowStock?"low_stock":e>=t.maxStock?"overstock":"normal":"normal"}delay(e){return new Promise(t=>setTimeout(t,e))}async validateMovement(e){return!0}async updateStockLevel(e,t,s){}async getLastMovement(e,t){return(new Date).toISOString()}async checkReorderTrigger(e,t,s){}async broadcastInventoryUpdate(e,t,s){}async getTopMovingItems(){return[]}async calculateConsumptionRate(e,t){return 10}async getSupplierLeadTime(e){return 7}async calculateOptimalOrderQuantity(e,t,s,a){return s*a*2}async getUnitCost(e){return 1}async getPrimarySupplier(e){return{id:"SUPPLIER_01",name:"Primary Supplier",leadTime:7}}calculateDeliveryDate(e){const t=new Date;return t.setDate(t.getDate()+e),t.toISOString()}getReorderReason(e,t,s){return"Below reorder level"}calculateUrgency(e,t,s){const a=e/t;return a<=s?"critical":a<=1.5*s?"high":a<=2*s?"medium":"low"}async submitSupplierOrder(e){}async recordPurchaseOrder(e){}async recordIncomingStock(e,t,s,a){}async syncStockLevels(){}async checkAllReorderTriggers(){}async cleanupMovementHistory(){}},R=()=>{const[d,m]=e.useState(null),[x,g]=e.useState(!0),[h,u]=e.useState(null),[y,p]=e.useState(null),[j,N]=e.useState(!0),[k,w]=e.useState("all");e.useEffect(()=>{(async()=>{try{g(!0),await M.initialize(),await f(),u(null)}catch(e){u(`Failed to initialize inventory systems: ${e.message}`)}finally{g(!1)}})()},[]);const f=e.useCallback(async()=>{try{const e=await M.getRealTimeInventoryStatus();m(e),p(new Date),u(null)}catch(e){u(`Failed to fetch inventory status: ${e.message}`)}},[]);e.useEffect(()=>{if(!j)return;const e=setInterval(()=>{f()},3e4);return()=>clearInterval(e)},[j,f]);const S=e=>{const t={normal:"text-green-600 bg-green-100",low_stock:"text-yellow-600 bg-yellow-100",out_of_stock:"text-red-600 bg-red-100",overstock:"text-blue-600 bg-blue-100"};return t[e]||t.normal},I=e=>{const t={critical:"text-red-600",high:"text-orange-600",medium:"text-yellow-600",low:"text-green-600"};return t[e]||t.low};return x?t.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),t.jsx("div",{className:"h-6 bg-gray-300 rounded w-64"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[1,2,3,4].map(e=>t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),t.jsx("div",{className:"h-8 bg-gray-300 rounded mb-4"})]},e))}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[1,2].map(e=>t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsx("div",{className:"h-6 bg-gray-300 rounded mb-4"}),t.jsx("div",{className:"space-y-3",children:[1,2,3].map(e=>t.jsx("div",{className:"h-4 bg-gray-300 rounded"},e))})]},e))})]})}):h?t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[t.jsxs("div",{className:"flex items-center space-x-3 text-red-600 mb-4",children:[t.jsx(s,{className:"w-6 h-6"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Inventory System Error"})]}),t.jsx("p",{className:"text-gray-600 mb-4",children:h}),t.jsx("button",{onClick:f,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Retry Connection"})]}):t.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-800 text-white px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(a,{className:"w-8 h-8"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"Live Inventory Monitor"}),t.jsx("p",{className:"text-green-100 text-sm",children:"Real-time stock levels and automated management"})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right text-sm",children:[t.jsx("div",{className:"text-green-100",children:"Last Update"}),t.jsx("div",{className:"font-medium",children:y?y.toLocaleTimeString():"Never"})]}),t.jsxs("button",{onClick:()=>N(!j),className:"px-3 py-1 rounded text-sm font-medium transition-colors "+(j?"bg-green-500 text-white":"bg-gray-300 text-gray-700"),children:["Auto-Refresh ",j?"ON":"OFF"]})]})]})}),d&&t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[t.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total SKUs"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.totalSKUs})]}),t.jsx(a,{className:"w-8 h-8 text-gray-400"})]})}),t.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total Value"}),t.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",d.totalValue.toLocaleString()]})]}),t.jsx(r,{className:"w-8 h-8 text-blue-500"})]})}),t.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Low Stock Alerts"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:d.lowStockAlerts})]}),t.jsx(s,{className:"w-8 h-8 text-yellow-500"})]})}),t.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Out of Stock"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:d.outOfStock})]}),t.jsx(i,{className:"w-8 h-8 text-red-500"})]})})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Location:"}),t.jsxs("select",{value:k,onChange:e=>w(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[t.jsx("option",{value:"all",children:"All Locations"}),d.locations.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))]})]})}),t.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 mb-8",children:t.jsx(v,{children:(d?"all"===k?d.locations:d.locations.filter(e=>e.id===k):[]).map((e,s)=>t.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.1*s},className:"border border-gray-200 rounded-lg overflow-hidden",children:[t.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(n,{className:"w-5 h-5 text-gray-600"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),t.jsx("p",{className:"text-sm text-gray-600",children:e.type})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total Value"}),t.jsxs("p",{className:"font-semibold text-gray-900",children:["$",e.totalValue.toLocaleString()]})]})]})}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.totalSKUs}),t.jsx("p",{className:"text-xs text-gray-600",children:"SKUs"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e.lowStockItems}),t.jsx("p",{className:"text-xs text-gray-600",children:"Low Stock"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.outOfStockItems}),t.jsx("p",{className:"text-xs text-gray-600",children:"Out of Stock"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Top Items by Value"}),e.items.slice(0,3).map((e,s)=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",children:e.name}),t.jsxs("p",{className:"text-xs text-gray-600",children:["Stock: ",e.currentStock.toLocaleString()]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-semibold text-sm",children:["$",e.totalValue.toLocaleString()]}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${S(e.status)}`,children:e.status.replace("_"," ")})]})]},s))]})]})]},e.id))})}),d.reorderSuggestions&&d.reorderSuggestions.length>0&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[t.jsx("div",{className:"bg-orange-50 px-4 py-3 border-b",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(l,{className:"w-5 h-5 text-orange-600"}),t.jsx("h3",{className:"font-semibold text-gray-900",children:"Reorder Suggestions"})]})}),t.jsx("div",{className:"p-4",children:t.jsx("div",{className:"space-y-3",children:d.reorderSuggestions.slice(0,5).map((e,s)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",children:e.sku}),t.jsxs("p",{className:"text-xs text-gray-600",children:["Current: ",e.currentStock," | Suggested: ",e.suggestedQuantity]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${I(e.urgency)}`,children:e.urgency}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["$",e.estimatedCost.toLocaleString()]})]})]},s))})})]}),t.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[t.jsx("div",{className:"bg-blue-50 px-4 py-3 border-b",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(o,{className:"w-5 h-5 text-blue-600"}),t.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Activity"})]})}),t.jsx("div",{className:"p-4",children:t.jsx("div",{className:"space-y-3",children:[{type:"in",sku:"GABA_RED_500",quantity:1e3,time:"2 min ago"},{type:"out",sku:"WHEY_VANILLA",quantity:50,time:"15 min ago"},{type:"in",sku:"OMEGA3_LIQUID",quantity:250,time:"1 hour ago"},{type:"out",sku:"CAPSULE_SHELLS",quantity:5e3,time:"2 hours ago"}].map((e,s)=>t.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded",children:[t.jsx("div",{className:"w-2 h-2 rounded-full "+("in"===e.type?"bg-green-500":"bg-red-500")}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("p",{className:"text-sm font-medium",children:["in"===e.type?"+":"-",e.quantity," ",e.sku]}),t.jsx("p",{className:"text-xs text-gray-600",children:e.time})]}),t.jsx(c,{className:"w-4 h-4 "+("in"===e.type?"text-green-500":"text-red-500")})]},s))})})]})]})]})]})},_=()=>{const[n,l]=e.useState(null),[o,c]=e.useState(!0),[y,p]=e.useState("all"),[j,v]=e.useState([]),[b,M]=e.useState([]),[_,T]=e.useState("live");if(e.useEffect(()=>{const e=async()=>{try{const e="https://your-production-domain.up.railway.app/api",t=await fetch(`${e}/inventory/overview`);if(t.ok){const e=await t.json();l(e),v(e.lowStock||[]),M(e.pendingOrders||[])}}catch(e){}finally{c(!1)}};e();const t=setInterval(e,3e5);return()=>clearInterval(t)},[]),o)return t.jsx("div",{className:"max-w-7xl mx-auto p-6",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/4 mb-4"}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[...Array(3)].map((e,s)=>t.jsx("div",{className:"h-32 bg-gray-300 rounded"},s))})]})});const U=[{id:"live",label:"Live Monitor",icon:d},{id:"overview",label:"Overview",icon:r},{id:"management",label:"Management",icon:a}];return t.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Inventory Management"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Monitor stock levels, manage reorders, and optimize inventory across all markets"})]}),t.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:t.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:U.map(e=>{const s=e.icon;return t.jsxs("button",{onClick:()=>T(e.id),className:"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 "+(_===e.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[t.jsx(s,{className:"w-5 h-5"}),t.jsx("span",{children:e.label})]},e.id)})})}),"live"===_&&t.jsx(R,{}),"overview"===_&&t.jsxs("div",{children:[j.length>0&&t.jsxs("div",{className:"mb-6 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(s,{className:"h-5 w-5 text-orange-600 mr-2"}),t.jsx("h3",{className:"text-sm font-medium text-orange-800 dark:text-orange-200",children:"Low Stock Alerts"})]}),t.jsxs("div",{className:"mt-2 space-y-1",children:[j.slice(0,3).map((e,s)=>t.jsxs("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:["• ",e.name,": ",e.currentStock," units remaining"]},s)),j.length>3&&t.jsxs("p",{className:"text-sm text-orange-600",children:["+",j.length-3," more items need attention"]})]})]}),t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{className:"flex space-x-4",children:[t.jsxs("select",{value:y,onChange:e=>p(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600",children:[t.jsx("option",{value:"all",children:"All Warehouses"}),t.jsx("option",{value:"uk",children:"UK Main"}),t.jsx("option",{value:"eu",children:"EU Central"}),t.jsx("option",{value:"us-east",children:"US East"}),t.jsx("option",{value:"us-west",children:"US West"})]}),t.jsxs("button",{className:"flex items-center px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200",children:[t.jsx(m,{className:"h-4 w-4 mr-2"}),"Filters"]})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[t.jsx(x,{className:"h-4 w-4 mr-2"}),"Add Stock"]}),t.jsxs("button",{className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[t.jsx(g,{className:"h-4 w-4 mr-2"}),"Create Order"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Total Items"}),t.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:n?.kpis?.totalItems||3231}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"All locations"})]}),t.jsx(a,{className:"h-8 w-8 text-blue-600"})]})}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Total Value"}),t.jsxs("p",{className:"text-3xl font-bold text-green-600 mt-2",children:["£",n?.kpis?.totalValue||2847592]}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t.jsxs("span",{className:"flex items-center",children:[t.jsx(h,{className:"h-3 w-3 text-green-500 mr-1"}),"+5.2% vs last month"]})})]}),t.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center",children:t.jsx("span",{className:"text-green-600 font-bold text-sm",children:"£"})})]})}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Low Stock"}),t.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:n?.kpis?.lowStock||12}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Items below threshold"})]}),t.jsx(s,{className:"h-8 w-8 text-orange-600"})]})}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Pending Orders"}),t.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:n?.kpis?.pendingOrders||7}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Awaiting delivery"})]}),t.jsx(i,{className:"h-8 w-8 text-purple-600"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-lg shadow",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Stock Movement (7 days)"})}),t.jsx("div",{className:"p-6",children:t.jsx(u,{children:t.jsx(N,{width:"100%",height:300,children:t.jsxs(k,{data:mockStockMovement,children:[t.jsx(w,{strokeDasharray:"3 3"}),t.jsx(f,{dataKey:"date"}),t.jsx(S,{}),t.jsx(I,{}),t.jsx(A,{type:"monotone",dataKey:"inbound",stroke:"#10B981",strokeWidth:2,name:"Inbound"}),t.jsx(A,{type:"monotone",dataKey:"outbound",stroke:"#EF4444",strokeWidth:2,name:"Outbound"})]})})})})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Category Breakdown"})}),t.jsx("div",{className:"p-6",children:t.jsx(u,{children:t.jsx(N,{width:"100%",height:300,children:t.jsxs(L,{children:[t.jsx(E,{data:mockCategoryBreakdown,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,children:mockCategoryBreakdown.map((e,s)=>t.jsx(C,{fill:e.color},`cell-${s}`))}),t.jsx(I,{})]})})})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Warehouse Utilization"})}),t.jsx("div",{className:"p-6",children:t.jsx(u,{children:t.jsx(N,{width:"100%",height:300,children:t.jsxs(O,{data:mockWarehouseData,children:[t.jsx(w,{strokeDasharray:"3 3"}),t.jsx(f,{dataKey:"location"}),t.jsx(S,{}),t.jsx(I,{}),t.jsx(D,{dataKey:"capacity",fill:"#E5E7EB",name:"Capacity"}),t.jsx(D,{dataKey:"utilization",fill:"#3B82F6",name:"Utilization"})]})})})})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Critical Stock Items"}),t.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800",children:"View All"})]})}),t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"space-y-4",children:j.length>0?j.slice(0,6).map((e,s)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.sku})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-bold text-red-600",children:e.currentStock}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Min: ",e.minStock]})]})]},s)):[{name:"Sentia Red Premium",sku:"SENTIA-R-001",currentStock:15,minStock:50},{name:"Packaging Material A",sku:"PKG-MAT-001",currentStock:23,minStock:100},{name:"Quality Labels",sku:"LABEL-Q-001",currentStock:8,minStock:25},{name:"Safety Seals",sku:"SEAL-S-001",currentStock:31,minStock:75},{name:"Bottle Caps Premium",sku:"CAP-P-001",currentStock:12,minStock:40}].map((e,s)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.sku})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-bold text-red-600",children:e.currentStock}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Min: ",e.minStock]})]})]},s))})})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Recent Stock Transactions"}),t.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View All Transactions"})]})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Item"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Quantity"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Location"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"})]})}),t.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:[{item:"Sentia Premium Red",type:"Inbound",quantity:"+150",location:"UK Main",date:"2025-09-08 09:30",status:"Completed"},{item:"Packaging Materials",type:"Outbound",quantity:"-75",location:"EU Central",date:"2025-09-08 08:15",status:"Completed"},{item:"Quality Control Labels",type:"Inbound",quantity:"+200",location:"US East",date:"2025-09-07 16:45",status:"Completed"},{item:"Sentia Gold Edition",type:"Outbound",quantity:"-25",location:"UK Main",date:"2025-09-07 14:20",status:"Processing"},{item:"Bottle Caps",type:"Inbound",quantity:"+500",location:"EU Central",date:"2025-09-07 11:10",status:"Pending"}].map((e,s)=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:e.item}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:t.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+("Inbound"===e.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.type})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:t.jsx("span",{className:e.quantity.startsWith("+")?"text-green-600 font-medium":"text-red-600 font-medium",children:e.quantity})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:e.location}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:e.date}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+("Completed"===e.status?"bg-green-100 text-green-800":"Processing"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status})})]},s))})]})})]})]}),"management"===_&&t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Advanced inventory management tools and controls will be available here."}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 text-center",children:[t.jsx(a,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Management Tools Coming Soon"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Advanced inventory management features including bulk operations, automated workflows, and predictive analytics."})]})]})]})};export{_ as default};
