import{ay as e,bO as a,ap as i,e as n,c4 as s,m as t,Y as r,aE as d,an as o,ao as u,F as l}from"./chunk-SRh8dkRL.js";import{W as c,a as m,b as g,M as b,D as p}from"./chunk-Bo3mOXEJ.js";import"./chunk--Hr70hxL.js";import"./chunk-BHpcy1DP.js";import"./chunk-BfA8HdBv.js";import"./chunk-BDHSdOv1.js";import"./chunk-BPKxMKbT.js";import"./chunk-Di4DTUu4.js";import"./chunk-Dozjk7Op.js";const h=()=>{const{getToken:h}=e(),f=a(),{data:N,isLoading:v,error:x,refetch:j,isRefetching:y}=i({queryKey:["supply-chain"],queryFn:async()=>{const e=await h(),a=await fetch("http://localhost:5000/api/api/supply-chain/overview",{headers:{Authorization:e?`Bearer ${e}`:"","Content-Type":"application/json"}});if(!a.ok){if(404===a.status||500===a.status)return D();throw new Error(`Failed to fetch supply chain data: ${a.statusText}`)}return a.json()},refetchInterval:6e4,retry:2,retryDelay:1e3}),D=()=>({summary:{activeSuppliers:45,totalShipments:183,inTransit:23,deliveredOnTime:156,delayed:4,averageLeadTime:5.2,supplierPerformance:93.5,inventoryTurnover:8.3},suppliers:[{id:1,name:"Pacific Materials Co.",location:"Vancouver, BC",status:"active",onTimeDelivery:94.5,qualityRating:4.8,leadTime:5,riskLevel:"low",lastDelivery:"2024-01-15",totalOrders:125},{id:2,name:"Industrial Components Ltd.",location:"Toronto, ON",status:"delayed",onTimeDelivery:87.2,qualityRating:4.3,leadTime:8,riskLevel:"medium",lastDelivery:"2024-01-14",totalOrders:98},{id:3,name:"Global Logistics Inc.",location:"Montreal, QC",status:"active",onTimeDelivery:96.1,qualityRating:4.9,leadTime:3,riskLevel:"low",lastDelivery:"2024-01-16",totalOrders:156},{id:4,name:"Eastern Supplies Corp.",location:"Halifax, NS",status:"at-risk",onTimeDelivery:78.5,qualityRating:3.9,leadTime:12,riskLevel:"high",lastDelivery:"2024-01-10",totalOrders:67}],shipmentTrend:{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],shipped:[28,32,25,35,30,18,15],delivered:[22,28,30,28,33,20,12],delayed:[1,0,2,1,0,1,0]},leadTimeAnalysis:{labels:["Raw Materials","Components","Packaging","Equipment","Consumables"],averageDays:[4.5,6.2,3.1,8.5,2.8],targetDays:[5,7,3,10,3]},riskAssessment:{low:28,medium:12,high:5,critical:0},recentOrders:[{id:"PO-2024-0145",supplier:"Pacific Materials",status:"in-transit",eta:"2024-01-18",value:45e3},{id:"PO-2024-0144",supplier:"Global Logistics",status:"delivered",eta:"2024-01-16",value:32e3},{id:"PO-2024-0143",supplier:"Industrial Components",status:"delayed",eta:"2024-01-19",value:28500},{id:"PO-2024-0142",supplier:"Eastern Supplies",status:"processing",eta:"2024-01-22",value:18e3}],transportModes:{road:45,rail:25,sea:20,air:10},geographicDistribution:{domestic:65,northAmerica:20,asia:10,europe:5}});if(v&&!N)return n.jsxDEV(c,{title:"Supply Chain Management",height:"400px"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:152,columnNumber:34},void 0);if(x&&!N)return n.jsxDEV(m,{error:x,onRetry:j,title:"Supply Chain Management"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:153,columnNumber:30},void 0);const C=N||D(),S={labels:C.shipmentTrend?.labels||[],datasets:[{label:"Shipped",data:C.shipmentTrend?.shipped||[],backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1},{label:"Delivered",data:C.shipmentTrend?.delivered||[],backgroundColor:"rgba(16, 185, 129, 0.8)",borderColor:"rgb(16, 185, 129)",borderWidth:1},{label:"Delayed",data:C.shipmentTrend?.delayed||[],backgroundColor:"rgba(239, 68, 68, 0.8)",borderColor:"rgb(239, 68, 68)",borderWidth:1}]},w={labels:C.leadTimeAnalysis?.labels||[],datasets:[{label:"Average Lead Time",data:C.leadTimeAnalysis?.averageDays||[],borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4},{label:"Target Lead Time",data:C.leadTimeAnalysis?.targetDays||[],borderColor:"rgb(107, 114, 128)",backgroundColor:"rgba(107, 114, 128, 0.1)",borderDash:[5,5],tension:.4}]},M=[{key:"name",label:"Supplier"},{key:"location",label:"Location"},{key:"status",label:"Status",render:e=>n.jsxDEV("span",{className:`text-xs px-2 py-1 rounded ${{active:"text-green-600 bg-green-100 dark:bg-green-900/20",delayed:"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20","at-risk":"text-red-600 bg-red-100 dark:bg-red-900/20"}[e]||"text-gray-600 bg-gray-100"}`,children:e},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:257,columnNumber:11},void 0)},{key:"onTimeDelivery",label:"On-Time %",render:e=>`${e}%`},{key:"leadTime",label:"Lead Time",render:e=>`${e} days`},{key:"riskLevel",label:"Risk",render:e=>n.jsxDEV("span",{className:{low:"text-green-600",medium:"text-yellow-600",high:"text-red-600"}[e]||"text-gray-600",children:e},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:282,columnNumber:16},void 0)}],k=[{key:"id",label:"Order ID"},{key:"supplier",label:"Supplier"},{key:"status",label:"Status",render:e=>{const a={"in-transit":t,delivered:r,delayed:l,processing:d}[e]||d;return n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV(a,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:304,columnNumber:13},void 0),n.jsxDEV("span",{className:"text-sm",children:e},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:305,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:303,columnNumber:11},void 0)}},{key:"eta",label:"ETA"},{key:"value",label:"Value",render:e=>`$${(e/1e3).toFixed(0)}k`}],P=e=>({low:"bg-green-500",medium:"bg-yellow-500",high:"bg-orange-500",critical:"bg-red-500"}[e]||"bg-gray-500");return n.jsxDEV(g,{title:"Supply Chain Management",onRefresh:()=>{f.invalidateQueries(["supply-chain"]),j()},isRefreshing:y,className:"col-span-2",children:[n.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxDEV(b,{label:"Active Suppliers",value:C.summary?.activeSuppliers||0,icon:s},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:340,columnNumber:9},void 0),n.jsxDEV(b,{label:"In Transit",value:C.summary?.inTransit||0,trend:{direction:"neutral",value:0},icon:t},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:345,columnNumber:9},void 0),n.jsxDEV(b,{label:"On-Time Delivery",value:C.summary?.supplierPerformance||0,unit:"%",trend:{direction:C.summary?.supplierPerformance>90?"up":"down",value:2.1},icon:r},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:351,columnNumber:9},void 0),n.jsxDEV(b,{label:"Avg Lead Time",value:C.summary?.averageLeadTime||0,unit:"days",icon:d},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:358,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:339,columnNumber:7},void 0),n.jsxDEV("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsxDEV("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Supplier Risk Assessment"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:368,columnNumber:9},void 0),n.jsxDEV("div",{className:"flex items-center space-x-4",children:Object.entries(C.riskAssessment||{}).map(([e,a])=>n.jsxDEV("div",{className:"flex items-center space-x-2",children:[n.jsxDEV("div",{className:`w-3 h-3 rounded-full ${P(e)}`},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:372,columnNumber:15},void 0),n.jsxDEV("span",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:[e,":"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:373,columnNumber:15},void 0),n.jsxDEV("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:374,columnNumber:15},void 0)]},e,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:371,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:369,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:367,columnNumber:7},void 0),n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxDEV("div",{children:[n.jsxDEV("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Weekly Shipment Activity"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:383,columnNumber:11},void 0),n.jsxDEV("div",{style:{height:"200px"},children:n.jsxDEV(o,{data:S,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,stacked:!1}}}},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:385,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:384,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:382,columnNumber:9},void 0),n.jsxDEV("div",{children:[n.jsxDEV("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Lead Time Analysis"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:391,columnNumber:11},void 0),n.jsxDEV("div",{style:{height:"200px"},children:n.jsxDEV(u,{data:w,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return e+" days"}}}}}},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:393,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:392,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:390,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:380,columnNumber:7},void 0),n.jsxDEV("div",{className:"mb-6",children:[n.jsxDEV("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Top Suppliers"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:400,columnNumber:9},void 0),n.jsxDEV(p,{columns:M,data:C.suppliers?.slice(0,5)||[]},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:401,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:399,columnNumber:7},void 0),n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxDEV("div",{children:[n.jsxDEV("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Transport Modes"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:408,columnNumber:11},void 0),n.jsxDEV("div",{className:"space-y-2",children:Object.entries(C.transportModes||{}).map(([e,a])=>n.jsxDEV("div",{className:"flex items-center justify-between",children:[n.jsxDEV("span",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:e},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:412,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center space-x-2",children:[n.jsxDEV("div",{className:"w-24 bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:n.jsxDEV("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${a}%`}},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:415,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:414,columnNumber:19},void 0),n.jsxDEV("span",{className:"text-sm font-medium text-gray-900 dark:text-white w-10 text-right",children:[a,"%"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:420,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:413,columnNumber:17},void 0)]},e,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:411,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:409,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:407,columnNumber:9},void 0),n.jsxDEV("div",{children:[n.jsxDEV("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Geographic Distribution"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:431,columnNumber:11},void 0),n.jsxDEV("div",{className:"space-y-2",children:Object.entries(C.geographicDistribution||{}).map(([e,a])=>n.jsxDEV("div",{className:"flex items-center justify-between",children:[n.jsxDEV("span",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:e.replace(/([A-Z])/g," $1").trim()},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:435,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center space-x-2",children:[n.jsxDEV("div",{className:"w-24 bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:n.jsxDEV("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${a}%`}},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:438,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:437,columnNumber:19},void 0),n.jsxDEV("span",{className:"text-sm font-medium text-gray-900 dark:text-white w-10 text-right",children:[a,"%"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:443,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:436,columnNumber:17},void 0)]},e,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:434,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:432,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:430,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:405,columnNumber:7},void 0),n.jsxDEV("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[n.jsxDEV("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Recent Orders"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:455,columnNumber:9},void 0),n.jsxDEV(p,{columns:k,data:C.recentOrders||[]},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:456,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:454,columnNumber:7},void 0),n.jsxDEV("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:["Last updated: ",(new Date).toLocaleTimeString()]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:460,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/SupplyChainWidget.jsx",lineNumber:329,columnNumber:5},void 0)};export{h as default};
