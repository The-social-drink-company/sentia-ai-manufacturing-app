import{r}from"./vendor-BkaHguXf.js";import{useAuth as a,useUser as o}from"./clerk-Ck3v5SIt.js";const l=r.createContext(null),u={id:"fallback_user",emailAddresses:[{emailAddress:"demo@sentia.com"}],firstName:"Demo",lastName:"User",fullName:"Demo User",imageUrl:null,publicMetadata:{role:"manager",permissions:["read","write","export"],features:{advancedAnalytics:!0,apiAccess:!0}},createdAt:new Date().toISOString()},n={isLoaded:!0,isSignedIn:!0,userId:"fallback_user",sessionId:"fallback_session",user:u,signOut:()=>{localStorage.removeItem("sentia_auth_state"),window.location.reload()},getToken:async()=>"fallback_token",mode:"fallback"},i=()=>{const e=r.useContext(l);if(!e)throw new Error("useBulletproofAuth must be used within BulletproofClerkProvider");return e},f=()=>{const e=i();if(e?.isFallbackMode)return e;try{const s=a(),t=o();if(s?.isLoaded&&t?.user)return{...s,user:t.user,isFallbackMode:!1};if(!s?.isLoaded)return{isLoaded:!1,isSignedIn:!1,user:null,isLoading:!0,isFallbackMode:!1}}catch(s){console.warn("Clerk auth hooks not available, using fallback:",s.message)}return e||n};export{f as u};
