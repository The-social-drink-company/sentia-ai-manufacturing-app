import{a as e,j as s,aN as a,aO as t,aP as r,aQ as l,aF as i,aG as n,aI as c,aR as d}from"./chunk-dQ8ZuPJ5.js";import{C as x,a as o,b as m,c as h}from"./chunk-DMoL6FQp.js";import{c as j}from"./index-B85l1krK.js";import{B as u}from"./chunk-CsTnYs2v.js";import{R as p,n as f,h as g,X as y,Y as v,j as b,o as N,q as w,l as k,m as C}from"./chunk-BqFGoBxF.js";import"./chunk-CVC8ZTrn.js";import"./chunk-CZm8CRZW.js";import"./chunk-BYhzkSrP.js";import"./chunk-BmDXyJMe.js";import"./chunk-CULnPDSP.js";import"./chunk-Dozjk7Op.js";const P=e.forwardRef(({className:e,...i},n)=>s.jsxs(a,{ref:n,className:j("relative flex w-full touch-none select-none items-center",e),...i,children:[s.jsx(t,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(r,{className:"absolute h-full bg-primary"})}),s.jsx(l,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));P.displayName=a.displayName;const R=()=>{const[a,t]=e.useState({salesGrowth:10,priceIncrease:5,costReduction:8,inventoryTurnover:12,daysPayable:45,daysReceivable:30,marketShare:25,productionCapacity:75}),r=(()=>{const e=28e5,s=e*(1+a.salesGrowth/100)*(1+a.priceIncrease/100),t=196e4*(1-a.costReduction/100),r=s-t,l=r/s*100,i=s/365*(a.daysReceivable-a.daysPayable);return{revenue:s,cost:t,profit:r,margin:l,workingCapital:i,cashFlow:r-i,roi:r/e*100}})(),l=[{metric:"Revenue",current:28e5,projected:r.revenue,change:(r.revenue-28e5)/28e5*100},{metric:"Costs",current:196e4,projected:r.cost,change:(r.cost-196e4)/196e4*100},{metric:"Profit",current:84e4,projected:r.profit,change:(r.profit-84e4)/84e4*100},{metric:"Working Capital",current:23e4,projected:Math.abs(r.workingCapital),change:(Math.abs(r.workingCapital)-23e4)/23e4*100}],j=Array.from({length:12},(e,s)=>({month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][s],revenue:r.revenue/12*(1+.02*s),profit:r.profit/12*(1+.03*s)})),R=(e,s)=>{t(a=>({...a,[e]:s[0]}))},F=e=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),I=e=>`${e.toFixed(1)}%`;return s.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"What-If Analysis"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Adjust parameters to see projected business impact"})]}),s.jsx(u,{onClick:()=>{t({salesGrowth:10,priceIncrease:5,costReduction:8,inventoryTurnover:12,daysPayable:45,daysReceivable:30,marketShare:25,productionCapacity:75})},variant:"outline",children:"Reset Scenario"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(x,{children:s.jsx(o,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Projected Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:F(r.revenue)}),s.jsxs("p",{className:"text-sm mt-1 "+(r.revenue>28e5?"text-green-600":"text-red-600"),children:[r.revenue>28e5?"↑":"↓"," ",I((r.revenue-28e5)/28e5*100)]})]}),s.jsx(i,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(x,{children:s.jsx(o,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Projected Profit"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:F(r.profit)}),s.jsxs("p",{className:"text-sm mt-1 "+(r.profit>84e4?"text-green-600":"text-red-600"),children:[r.profit>84e4?"↑":"↓"," ",I((r.profit-84e4)/84e4*100)]})]}),s.jsx(n,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(x,{children:s.jsx(o,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Profit Margin"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:I(r.margin)}),s.jsx("p",{className:"text-sm mt-1 "+(r.margin>30?"text-green-600":"text-yellow-600"),children:r.margin>30?"Excellent":"Good"})]}),s.jsx(c,{className:"h-8 w-8 text-purple-500"})]})})}),s.jsx(x,{children:s.jsx(o,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cash Flow"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:F(r.cashFlow)}),s.jsx("p",{className:"text-sm mt-1 "+(r.cashFlow>0?"text-green-600":"text-red-600"),children:r.cashFlow>0?"Positive":"Negative"})]}),s.jsx(d,{className:"h-8 w-8 text-indigo-500"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(x,{children:[s.jsx(m,{children:s.jsx(h,{children:"Revenue Parameters"})}),s.jsxs(o,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Sales Growth"}),s.jsxs("span",{className:"text-sm font-bold",children:[a.salesGrowth,"%"]})]}),s.jsx(P,{value:[a.salesGrowth],onValueChange:e=>R("salesGrowth",e),min:-20,max:50,step:1,className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Price Increase"}),s.jsxs("span",{className:"text-sm font-bold",children:[a.priceIncrease,"%"]})]}),s.jsx(P,{value:[a.priceIncrease],onValueChange:e=>R("priceIncrease",e),min:-10,max:30,step:1,className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Market Share"}),s.jsxs("span",{className:"text-sm font-bold",children:[a.marketShare,"%"]})]}),s.jsx(P,{value:[a.marketShare],onValueChange:e=>R("marketShare",e),min:5,max:50,step:1,className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Production Capacity"}),s.jsxs("span",{className:"text-sm font-bold",children:[a.productionCapacity,"%"]})]}),s.jsx(P,{value:[a.productionCapacity],onValueChange:e=>R("productionCapacity",e),min:50,max:100,step:5,className:"w-full"})]})]})]}),s.jsxs(x,{children:[s.jsx(m,{children:s.jsx(h,{children:"Cost & Working Capital Parameters"})}),s.jsxs(o,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Cost Reduction"}),s.jsxs("span",{className:"text-sm font-bold",children:[a.costReduction,"%"]})]}),s.jsx(P,{value:[a.costReduction],onValueChange:e=>R("costReduction",e),min:0,max:25,step:1,className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Inventory Turnover"}),s.jsxs("span",{className:"text-sm font-bold",children:[a.inventoryTurnover,"x"]})]}),s.jsx(P,{value:[a.inventoryTurnover],onValueChange:e=>R("inventoryTurnover",e),min:4,max:24,step:1,className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Days Payable"}),s.jsxs("span",{className:"text-sm font-bold",children:[a.daysPayable," days"]})]}),s.jsx(P,{value:[a.daysPayable],onValueChange:e=>R("daysPayable",e),min:15,max:90,step:5,className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Days Receivable"}),s.jsxs("span",{className:"text-sm font-bold",children:[a.daysReceivable," days"]})]}),s.jsx(P,{value:[a.daysReceivable],onValueChange:e=>R("daysReceivable",e),min:15,max:90,step:5,className:"w-full"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(x,{children:[s.jsx(m,{children:s.jsx(h,{children:"Current vs Projected Metrics"})}),s.jsx(o,{children:s.jsx(p,{width:"100%",height:300,children:s.jsxs(f,{data:l,children:[s.jsx(g,{strokeDasharray:"3 3"}),s.jsx(y,{dataKey:"metric"}),s.jsx(v,{tickFormatter:e=>`£${(e/1e6).toFixed(1)}M`}),s.jsx(b,{formatter:e=>F(e)}),s.jsx(N,{}),s.jsx(w,{dataKey:"current",fill:"#8884d8",name:"Current"}),s.jsx(w,{dataKey:"projected",fill:"#82ca9d",name:"Projected"})]})})})]}),s.jsxs(x,{children:[s.jsx(m,{children:s.jsx(h,{children:"Monthly Projection"})}),s.jsx(o,{children:s.jsx(p,{width:"100%",height:300,children:s.jsxs(k,{data:j,children:[s.jsx(g,{strokeDasharray:"3 3"}),s.jsx(y,{dataKey:"month"}),s.jsx(v,{tickFormatter:e=>`£${(e/1e3).toFixed(0)}k`}),s.jsx(b,{formatter:e=>F(e)}),s.jsx(N,{}),s.jsx(C,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",name:"Revenue",strokeWidth:2}),s.jsx(C,{type:"monotone",dataKey:"profit",stroke:"#82ca9d",name:"Profit",strokeWidth:2})]})})})]})]}),s.jsxs(x,{children:[s.jsx(m,{children:s.jsx(h,{children:"Scenario Summary"})}),s.jsx(o,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Revenue Impact"}),s.jsx("p",{className:"text-lg font-bold",children:F(r.revenue-28e5)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Profit Impact"}),s.jsx("p",{className:"text-lg font-bold",children:F(r.profit-84e4)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"ROI"}),s.jsx("p",{className:"text-lg font-bold",children:I(r.roi)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Working Capital"}),s.jsx("p",{className:"text-lg font-bold",children:F(Math.abs(r.workingCapital))})]})]})})]})]})};export{R as default};
