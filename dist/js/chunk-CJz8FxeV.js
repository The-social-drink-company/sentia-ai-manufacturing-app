import{r as e,j as t,m as a,aZ as i,F as n,au as s,a7 as o,bK as r}from"./chunk-6UcRpCBY.js";import{ai as l,ah as c}from"./chunk-TAvxFron.js";function d({notification:l,onClose:d}){const{id:m,type:u,title:g,message:p,duration:h=5e3,action:y}=l,w={success:{bg:"from-green-500 to-emerald-500",icon:o,accent:"border-green-200",glow:"shadow-green-500/25"},error:{bg:"from-red-500 to-rose-500",icon:s,accent:"border-red-200",glow:"shadow-red-500/25"},warning:{bg:"from-yellow-500 to-amber-500",icon:n,accent:"border-yellow-200",glow:"shadow-yellow-500/25"},info:{bg:"from-blue-500 to-indigo-500",icon:i,accent:"border-blue-200",glow:"shadow-blue-500/25"},magic:{bg:"from-purple-500 to-pink-500",icon:a,accent:"border-purple-200",glow:"shadow-purple-500/25"}},x=w[u]||w.info,f=x.icon;return e.useEffect(()=>{if(h>0){const e=setTimeout(()=>d(m),h);return()=>clearTimeout(e)}},[m,h,d]),t.jsxs(c.div,{initial:{opacity:0,y:-50,scale:.9,x:400},animate:{opacity:1,y:0,scale:1,x:0},exit:{opacity:0,x:400,scale:.8,transition:{duration:.3,ease:"easeIn"}},transition:{type:"spring",stiffness:300,damping:30,opacity:{duration:.2}},className:`\n        relative overflow-hidden min-w-80 max-w-md mb-3\n        bg-white/95 backdrop-blur-xl rounded-2xl \n        border border-white/50 ${x.accent}\n        shadow-2xl ${x.glow}\n        transform-gpu\n      `,whileHover:{y:-2,scale:1.02,transition:{duration:.2}},layout:!0,children:[t.jsx(c.div,{className:`absolute top-0 left-0 w-full h-1 bg-gradient-to-r ${x.bg}`,initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.5,delay:.1}}),h>0&&t.jsx(c.div,{className:`absolute top-0 left-0 h-1 bg-gradient-to-r ${x.bg} opacity-60`,initial:{width:"100%"},animate:{width:"0%"},transition:{duration:h/1e3,ease:"linear"}}),t.jsxs("div",{className:"p-4 flex items-start space-x-3",children:[t.jsx(c.div,{className:`flex-shrink-0 w-8 h-8 rounded-xl bg-gradient-to-r ${x.bg} flex items-center justify-center`,initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:400,damping:15,delay:.2},whileHover:{scale:1.1,rotate:"success"===u?10:0},children:t.jsx(f,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx(c.h4,{className:"text-sm font-semibold text-gray-900 truncate",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:g}),p&&t.jsx(c.p,{className:"mt-1 text-sm text-gray-600 leading-relaxed",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:p}),y&&t.jsx(c.button,{className:`mt-3 text-xs font-medium px-3 py-1.5 rounded-lg bg-gradient-to-r ${x.bg} text-white hover:opacity-90 transition-opacity`,onClick:y.onClick,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},whileHover:{scale:1.05},whileTap:{scale:.95},children:y.label})]}),t.jsx(c.button,{className:"flex-shrink-0 w-6 h-6 rounded-lg hover:bg-gray-100 flex items-center justify-center group transition-colors",onClick:()=>d(m),initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.6},whileHover:{scale:1.1,backgroundColor:"rgba(0,0,0,0.1)"},whileTap:{scale:.9},children:t.jsx(r,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600"})})]}),"magic"===u&&t.jsx(t.Fragment,{children:[...Array(3)].map((e,a)=>t.jsx(c.div,{className:"absolute w-1 h-1 bg-purple-400 rounded-full",style:{top:20+25*a+"%",right:10+15*a+"%"},animate:{scale:[0,1.5,0],opacity:[0,1,0],rotate:[0,180,360]},transition:{duration:2,delay:.3*a,repeat:1/0,ease:"easeInOut"}},a))}),t.jsx(c.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent pointer-events-none",initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:1.5,ease:"easeInOut",repeat:"magic"===u?1/0:0,repeatDelay:3}})]})}function m(){const[a,i]=e.useState([]),n=e.useCallback(e=>{const t=Date.now()+0;i(a=>[...a,{...e,id:t}])},[]),s=e.useCallback(e=>{i(t=>t.filter(t=>t.id!==e))},[]);return e.useEffect(()=>{const e=e=>{n(e.detail)};return window.addEventListener("sentia-notify",e),()=>{window.removeEventListener("sentia-notify",e)}},[n]),e.useEffect(()=>{const e=setInterval(()=>{const e=[{type:"success",title:"Production Update",message:"Batch #SEN-2025-089 completed mixing successfully"},{type:"info",title:"New Orders",message:"5 new orders received from Amazon UK"},{type:"warning",title:"Inventory Alert",message:"Low stock warning: Gin & Tonic bottles running low"}];if(Math.random()<.1){const t=e[Math.floor(Math.random()*e.length)];n(t)}},3e4);return()=>clearInterval(e)},[n]),0===a.length?null:t.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-3 max-w-md pointer-events-auto",children:t.jsx(l,{mode:"popLayout",children:a.map(e=>t.jsx(d,{notification:e,onClose:s},e.id))})})}const u=e=>{const t=new CustomEvent("sentia-notify",{detail:e});window.dispatchEvent(t)},g=()=>({showSuccess:e.useCallback((e,t,a)=>{u({type:"success",title:e,message:t,duration:a})},[]),showError:e.useCallback((e,t,a)=>{u({type:"error",title:e,message:t,duration:a})},[]),showWarning:e.useCallback((e,t,a)=>{u({type:"warning",title:e,message:t,duration:a})},[]),showInfo:e.useCallback((e,t,a)=>{u({type:"info",title:e,message:t,duration:a})},[]),showMagic:e.useCallback((e,t,a)=>{u({type:"magic",title:e,message:t,duration:a})},[])}),p=({children:e})=>t.jsxs("div",{children:[e,t.jsx(m,{})]});export{m as N,p as a,g as u};
