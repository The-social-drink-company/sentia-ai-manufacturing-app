# BMAD Update Queue

| Path | Identified Gap | Evidence | Suggested Action |
| --- | --- | --- | --- |
| `server/routes/api.js` | `/api` namespace still serves 410 "Legacy API" responses across all handlers. | `Select-String -Path server/routes/api.js -Pattern '410'` shows every route returning `res.status(410)`. | Replace the stub router with the active BMAD endpoints (financial, inventory, SSE) or retire `/api` completely. |
| `server/api/dashboard.js` | Returns synthetic KPI/chart data with `TODO` comments to replace with real services. | `Select-String -Path server/api/dashboard.js -Pattern 'TODO'` highlights the inline mock generators. | Wire the handler into Prisma/forecast services so dashboards consume live data. |
| `server/api/business-intelligence.js` | Ships hard-coded "AI insights" for Claude/GPT instead of calling actual model endpoints. | The file comments state "In production this would integrate with Claude 3 Sonnet and GPT-4". | Hook this route into the ML orchestration stack or deprecate it. |
| `server/services/finance/*.js` | Finance services (`ApprovalEngine`, `CashConversionCycle`, `ScenarioModeler`, etc.) still use `require(...)` and expect a CommonJS logger at `../../utils/logger`. | `Get-Content server/services/finance/ApprovalEngine.js -Head 5` shows `const logger = require('../../utils/logger')` while the only logger export is ESM (`server/utils/logger.js`). | Convert the finance services to ESM imports (or provide a CJS shim) so they load under the current module system. |
| `test-server.js` | Only defines a `/health` endpoint; legacy tests expect inventory/optimization routes that are no longer hosted. | `Get-Content test-server.js` shows an Express app with a single health handler. | Expand this harness (or remove it) so integration tests run against the deployed API surface. |
| `analysis/ROADMAP.md`, `analysis/SYNTHESIS_REPORT.md` | Both files are zero-length, leaving the BMAD roadmap undocumented. | `Get-ChildItem analysis | Format-Table Name,Length` reports length 0. | Populate with the current BMAD roadmap and synthesis summary or remove them from source control. |
| `sentia-financial-lakehouse/` | Entire subproject is excluded from linting and not referenced elsewhere in the repo. | `rg 'sentia-financial-lakehouse'` only finds the exclusion in `eslint.config.js`. | Decide whether to archive this project externally or integrate it; otherwise it remains an unmanaged subtree. |
