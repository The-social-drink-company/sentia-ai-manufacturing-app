import{r as e,j as a,b7 as t,b8 as s,b0 as r}from"./react-core-DlJGLw67.js";import{u as i}from"./Button-BrRB7_v3.js";import"./auth-BIfipbc6.js";import"./vendor-TZ9aDXZU.js";import"./charts-C-BUlHpY.js";import"./vendor-utils-W0IPh-on.js";import"./index-DuY1VrEM.js";import"./router-BgNYfmsc.js";import"./animation-Cxa7csYq.js";import"./utils-CawmYOGx.js";import"./forms-CKrR-uQz.js";const n=({className:n="",selectedRegion:d="global",autoValidate:l=!0,...c})=>{const{resolvedTheme:o}=i(),[m,u]=e.useState({}),[x,g]=e.useState([]),[p,y]=e.useState([]),[h,v]=e.useState([]),[b,j]=e.useState([]),[f,N]=e.useState(null),[S,w]=e.useState("overview"),[D,C]=e.useState(!1),k={global:{ISO9001:{name:"ISO 9001:2015",category:"Quality Management",mandatory:!0},ISO14001:{name:"ISO 14001:2015",category:"Environmental",mandatory:!1},ISO45001:{name:"ISO 45001:2018",category:"OH&S",mandatory:!0},IATF16949:{name:"IATF 16949:2016",category:"Automotive",mandatory:!1}},usa:{FDA21CFR:{name:"FDA 21 CFR Part 820",category:"Medical Devices",mandatory:!0},OSHA:{name:"OSHA Standards",category:"Safety",mandatory:!0},EPA:{name:"EPA Regulations",category:"Environmental",mandatory:!0},UL:{name:"UL Certification",category:"Product Safety",mandatory:!1}},eu:{CE:{name:"CE Marking",category:"Product Conformity",mandatory:!0},REACH:{name:"REACH Regulation",category:"Chemical Safety",mandatory:!0},RoHS:{name:"RoHS Directive",category:"Hazardous Substances",mandatory:!0},MDR:{name:"MDR 2017/745",category:"Medical Devices",mandatory:!1}},asia:{CCC:{name:"CCC (China)",category:"Product Certification",mandatory:!0},JIS:{name:"JIS (Japan)",category:"Industrial Standards",mandatory:!1},BIS:{name:"BIS (India)",category:"Bureau Standards",mandatory:!0},KS:{name:"KS (Korea)",category:"Korean Standards",mandatory:!1}}};e.useEffect(()=>{I(),A(),M(),O()},[d]);const I=()=>{const e=k[d]||k.global,a={};Object.keys(e).forEach(t=>{const s=e[t];a[t]={...s,complianceLevel:Math.floor(100*Math.random())+80,lastAudit:new Date(Date.now()-24*Math.random()*60*60*1e3),nextAudit:new Date(Date.now()+180*Math.random()*24*60*60*1e3),status:Math.random()>.2?"compliant":"at-risk",issues:Math.floor(100*Math.random())}}),u(a)},A=()=>{g([{id:"cert-001",standard:"ISO 9001:2015",issuer:"BSI Group",issueDate:"2023-03-15",expiryDate:"2026-03-14",status:"active",scope:"Manufacturing and Distribution"},{id:"cert-002",standard:"ISO 14001:2015",issuer:"DNV GL",issueDate:"2023-06-20",expiryDate:"2026-06-19",status:"active",scope:"Environmental Management System"},{id:"cert-003",standard:"ISO 45001:2018",issuer:"SGS",issueDate:"2023-09-10",expiryDate:"2026-09-09",status:"active",scope:"Occupational Health & Safety"},{id:"cert-004",standard:"CE Marking",issuer:"TÃœV Rheinland",issueDate:"2024-01-15",expiryDate:"2027-01-14",status:"active",scope:"Product Conformity Assessment"}])},M=()=>{const e=[{id:"audit-001",type:"Internal Audit",standard:"ISO 9001",date:new Date(Date.now()+6048e5),auditor:"Internal Team",scope:"Quality Management System",status:"scheduled"},{id:"audit-002",type:"Surveillance Audit",standard:"ISO 14001",date:new Date(Date.now()+2592e6),auditor:"DNV GL",scope:"Environmental Compliance",status:"scheduled"},{id:"audit-003",type:"Certification Audit",standard:"IATF 16949",date:new Date(Date.now()+5184e6),auditor:"BSI Group",scope:"Automotive Quality",status:"planned"},{id:"audit-004",type:"Regulatory Inspection",standard:"FDA 21 CFR",date:new Date(Date.now()+7776e6),auditor:"FDA Inspector",scope:"Medical Device Manufacturing",status:"planned"}];y(e)},O=()=>{j([{id:"update-001",region:"EU",regulation:"MDR 2017/745",title:"New Clinical Evaluation Requirements",effectiveDate:"2025-05-26",impact:"high",description:"Enhanced clinical evaluation documentation required for Class IIa devices"},{id:"update-002",region:"USA",regulation:"FDA UDI",title:"Unique Device Identification Update",effectiveDate:"2025-09-24",impact:"medium",description:"Extended UDI requirements for Class II medical devices"},{id:"update-003",region:"Global",regulation:"ISO 9001",title:"Draft Amendment Published",effectiveDate:"2026-01-01",impact:"low",description:"Minor updates to risk-based thinking requirements"}])},$=()=>{const e=Object.values(m);if(0===e.length)return 0;const a=e.reduce((e,a)=>{const t=a.mandatory?2:1;return e+a.complianceLevel*t},0),t=e.reduce((e,a)=>e+(a.mandatory?2:1),0);return Math.round(a/t)},L=e=>{switch(e){case"compliant":return"text-green-600 bg-green-100 dark:bg-green-900/30";case"at-risk":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30";case"non-compliant":return"text-red-600 bg-red-100 dark:bg-red-900/30";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/30"}},E=`\n    rounded-lg border shadow-sm\n    ${"dark"===o?"bg-slate-800 border-slate-700":"bg-white border-gray-200"}\n  `,R="dark"===o?"text-gray-100":"text-gray-900",F="dark"===o?"text-gray-300":"text-gray-600",U="dark"===o?"text-gray-400":"text-gray-500";return a.jsxs("div",{className:`space-y-6 ${n}`,...c,children:[a.jsx("div",{className:E,children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(t,{className:"w-6 h-6 mr-3 text-indigo-600"}),a.jsx("h2",{className:`text-xl font-semibold ${R}`,children:"Global Compliance & Standards Management"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-bold "+($()>=90?"text-green-600":$()>=80?"text-yellow-600":"text-red-600"),children:[$(),"%"]}),a.jsx("div",{className:`text-sm ${U}`,children:"Compliance Score"})]}),a.jsx("button",{onClick:async()=>{C(!0);try{await new Promise(e=>setTimeout(e,2e3));const e=[];Object.entries(m).forEach(([a,t])=>{t.complianceLevel<85&&e.push({id:`violation-${a}`,standard:t.name,severity:t.mandatory?"critical":"warning",description:`Compliance level below threshold: ${t.complianceLevel}%`,actionRequired:!0})}),v(e)}catch(e){}finally{C(!1)}},disabled:D,className:`\n                  px-4 py-2 rounded-lg font-medium transition-colors\n                  ${D?"bg-gray-200 text-gray-500 cursor-not-allowed dark:bg-gray-700":"bg-indigo-600 text-white hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600"}\n                `,children:D?"Validating...":"Validate Compliance"})]})]}),a.jsx("div",{className:"flex space-x-2 mb-4",children:Object.keys(k).map(e=>a.jsx("button",{onClick:()=>w("overview"),className:`\n                  px-4 py-2 rounded-lg text-sm font-medium transition-colors\n                  ${d===e?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}\n                `,children:e.toUpperCase()},e))}),a.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:["overview","certifications","audits","updates","metrics"].map(e=>a.jsx("button",{onClick:()=>w(e),className:`\n                  px-4 py-2 rounded-md text-sm font-medium transition-colors\n                  ${S===e?"bg-white shadow text-indigo-600 dark:bg-gray-800 dark:text-indigo-400":"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100"}\n                `,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})}),"overview"===S&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:`lg:col-span-2 ${E}`,children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:`text-lg font-semibold mb-4 ${R}`,children:"Standards Compliance Status"}),a.jsx("div",{className:"space-y-4",children:Object.entries(m).map(([e,t])=>a.jsxs("div",{className:`\n                    p-4 rounded-lg border\n                    ${"dark"===o?"bg-slate-700 border-slate-600":"bg-gray-50 border-gray-200"}\n                  `,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:`font-medium ${R}`,children:t.name}),a.jsx("p",{className:`text-sm ${F}`,children:t.category})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:`\n                          px-2 py-1 rounded-full text-xs font-medium\n                          ${L(t.status)}\n                        `,children:t.status.replace("-"," ").toUpperCase()}),t.mandatory&&a.jsx("span",{className:"text-xs text-red-600 dark:text-red-400 mt-1 block",children:"Mandatory"})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:F,children:"Compliance Level"}),a.jsxs("span",{className:"font-medium "+(t.complianceLevel>=90?"text-green-600":t.complianceLevel>=80?"text-yellow-600":"text-red-600"),children:[t.complianceLevel,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:a.jsx("div",{className:"h-2 rounded-full "+(t.complianceLevel>=90?"bg-green-600":t.complianceLevel>=80?"bg-yellow-600":"bg-red-600"),style:{width:`${t.complianceLevel}%`}})})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:U,children:["Last Audit: ",t.lastAudit.toLocaleDateString()]}),a.jsxs("span",{className:U,children:["Next Audit: ",t.nextAudit.toLocaleDateString()]})]})]},e))})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:E,children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(s,{className:"w-5 h-5 mr-2 text-green-600"}),a.jsx("h3",{className:`font-semibold ${R}`,children:"Active Certifications"})]}),a.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:x.filter(e=>"active"===e.status).length}),a.jsx("div",{className:"space-y-2",children:x.slice(0,3).map(e=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:F,children:e.standard}),a.jsx("span",{className:U,children:new Date(e.expiryDate).getFullYear()})]},e.id))})]})}),a.jsx("div",{className:E,children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(r,{className:"w-5 h-5 mr-2 text-blue-600"}),a.jsx("h3",{className:`font-semibold ${R}`,children:"Upcoming Audits"})]}),a.jsx("div",{className:"space-y-3",children:p.slice(0,3).map(e=>a.jsxs("div",{className:"border-l-4 border-blue-500 pl-3",children:[a.jsx("p",{className:`font-medium ${R}`,children:e.standard}),a.jsx("p",{className:`text-sm ${F}`,children:e.type}),a.jsx("p",{className:`text-xs ${U}`,children:e.date.toLocaleDateString()})]},e.id))})]})})]})]})]})};export{n as GlobalComplianceSystem,n as default};
