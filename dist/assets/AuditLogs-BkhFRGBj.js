import{j as e}from"./query-CJR12TOn.js";import{a as t}from"./vendor-BPOA5ME_.js";import{r as s,m as a,y as r,z as i}from"./index-BHgYpTK7.js";import{F as n}from"./DocumentTextIcon-CF3d0O6j.js";import{F as l}from"./ExclamationTriangleIcon-ztEnirSg.js";import{F as o}from"./ClockIcon-BNTGqfUF.js";import{F as c}from"./CheckCircleIcon-C50ZP4Vo.js";import"./auth-zWw5cpzK.js";function d({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const m=t.forwardRef(d);function x({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const u=t.forwardRef(x),g=()=>{const[d,x]=t.useState([]),[g,h]=t.useState([]),[p,y]=t.useState(!0),[f,j]=t.useState(""),[w,v]=t.useState("all"),[b,N]=t.useState("all"),[A,D]=t.useState("today"),S=[{id:1,timestamp:new Date(Date.now()-9e5),level:"info",category:"authentication",action:"User Login",user:"john.smith@sentia.com",userRole:"Manager",description:"Successful login from Chrome browser",ipAddress:"192.168.1.45",location:"London, UK",details:{browser:"Chrome 119.0",device:"Desktop"}},{id:2,timestamp:new Date(Date.now()-192e4),level:"warning",category:"data_access",action:"Sensitive Data Access",user:"sarah.connor@sentia.com",userRole:"Analyst",description:"Accessed financial reports outside normal hours",ipAddress:"192.168.1.78",location:"Manchester, UK",details:{report:"Q3 Financial Summary",size:"2.3MB"}},{id:3,timestamp:new Date(Date.now()-27e5),level:"error",category:"system",action:"Failed API Call",user:"system",userRole:"System",description:"Failed to sync data with external ERP system",ipAddress:"10.0.0.1",location:"Internal",details:{endpoint:"/api/erp/sync",error:"Connection timeout"}},{id:4,timestamp:new Date(Date.now()-402e4),level:"info",category:"configuration",action:"Settings Updated",user:"admin@sentia.com",userRole:"Administrator",description:"Updated production line settings",ipAddress:"192.168.1.10",location:"Birmingham, UK",details:{setting:"Line 3 Speed",oldValue:"85%",newValue:"92%"}},{id:5,timestamp:new Date(Date.now()-534e4),level:"warning",category:"security",action:"Multiple Failed Logins",user:"unknown",userRole:"Unknown",description:"5 consecutive failed login attempts detected",ipAddress:"203.0.113.45",location:"Unknown",details:{attempts:5,timespan:"2 minutes",blocked:!0}},{id:6,timestamp:new Date(Date.now()-672e4),level:"success",category:"data_export",action:"Data Export",user:"mike.johnson@sentia.com",userRole:"Operator",description:"Exported production data for analysis",ipAddress:"192.168.1.67",location:"Leeds, UK",details:{format:"CSV",records:15420,size:"4.7MB"}},{id:7,timestamp:new Date(Date.now()-804e4),level:"info",category:"user_management",action:"User Role Changed",user:"admin@sentia.com",userRole:"Administrator",description:"Updated user role for team member",ipAddress:"192.168.1.10",location:"Birmingham, UK",details:{targetUser:"lisa.williams@sentia.com",oldRole:"Viewer",newRole:"Analyst"}},{id:8,timestamp:new Date(Date.now()-936e4),level:"error",category:"data_integrity",action:"Data Validation Failed",user:"system",userRole:"System",description:"Inventory data validation failed during import",ipAddress:"10.0.0.1",location:"Internal",details:{source:"Warehouse System",errors:23,records:1245}}],k=[{id:"all",name:"All Categories",count:S.length},{id:"authentication",name:"Authentication",count:S.filter(e=>"authentication"===e.category).length},{id:"data_access",name:"Data Access",count:S.filter(e=>"data_access"===e.category).length},{id:"security",name:"Security",count:S.filter(e=>"security"===e.category).length},{id:"system",name:"System",count:S.filter(e=>"system"===e.category).length},{id:"configuration",name:"Configuration",count:S.filter(e=>"configuration"===e.category).length},{id:"user_management",name:"User Management",count:S.filter(e=>"user_management"===e.category).length}],C=[{id:"all",name:"All Levels",count:S.length},{id:"info",name:"Info",count:S.filter(e=>"info"===e.level).length},{id:"warning",name:"Warning",count:S.filter(e=>"warning"===e.level).length},{id:"error",name:"Error",count:S.filter(e=>"error"===e.level).length},{id:"success",name:"Success",count:S.filter(e=>"success"===e.level).length}];t.useEffect(()=>{y(!0),setTimeout(()=>{x(S),y(!1)},600)},[]),t.useEffect(()=>{let e=d.filter(e=>{const t=""===f||e.action.toLowerCase().includes(f.toLowerCase())||e.description.toLowerCase().includes(f.toLowerCase())||e.user.toLowerCase().includes(f.toLowerCase()),s="all"===w||e.level===w,a="all"===b||e.category===b;return t&&s&&a});h(e)},[d,f,w,b]);const L=e=>{switch(e){case"error":return"text-red-600 bg-red-100 border-red-200";case"warning":return"text-yellow-600 bg-yellow-100 border-yellow-200";case"success":return"text-green-600 bg-green-100 border-green-200";case"info":return"text-blue-600 bg-blue-100 border-blue-200";default:return"text-gray-600 bg-gray-100 border-gray-200"}},E=e=>{const t=new Date-e,s=Math.floor(t/6e4),a=Math.floor(t/36e5),r=Math.floor(t/864e5);return s<60?`${s}m ago`:a<24?`${a}h ago`:`${r}d ago`};return e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[e.jsx(s,{className:"w-8 h-8 mr-3 text-blue-600"}),"Audit Logs"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Security and access monitoring for compliance and troubleshooting"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(m,{className:"w-4 h-4 mr-2"}),"Export Logs"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.length}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Last 24 hours"})]}),e.jsx(n,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Security Events"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.filter(e=>"security"===e.category).length}),e.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Requires attention"})]}),e.jsx(l,{className:"w-8 h-8 text-red-500"})]})}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"User Actions"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.filter(e=>"system"!==e.user).length}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Human activity"})]}),e.jsx(r,{className:"w-8 h-8 text-green-500"})]})}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"System Events"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.filter(e=>"system"===e.user).length}),e.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Automated"})]}),e.jsx(o,{className:"w-8 h-8 text-purple-500"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search logs...",value:f,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("div",{children:e.jsx("select",{value:w,onChange:e=>v(e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:C.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.count,")"]},t.id))})}),e.jsx("div",{children:e.jsx("select",{value:b,onChange:e=>N(e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:k.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.count,")"]},t.id))})}),e.jsx("div",{children:e.jsxs("select",{value:A,onChange:e=>D(e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mx-auto mb-4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mx-auto"})]})})}):0===g.length?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:"No logs match your current filters"})}):g.map((t,s)=>{const r=(e=>{switch(e){case"error":case"warning":return l;case"success":return c;default:return u}})(t.level);return e.jsxs(a.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*s},className:"hover:bg-gray-50 cursor-pointer",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:(i=t.timestamp,new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(i))}),e.jsx("div",{className:"text-xs text-gray-500",children:E(t.timestamp)})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${L(t.level)}`,children:[e.jsx(r,{className:"w-3 h-3 mr-1"}),t.level]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.action}),e.jsx("div",{className:"text-xs text-gray-500 capitalize",children:t.category.replace("_"," ")})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:t.user}),e.jsx("div",{className:"text-xs text-gray-500",children:t.userRole})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:t.description}),e.jsx("div",{className:"text-xs text-gray-500",children:t.location})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-600",children:t.ipAddress})]},t.id);var i})})]})})})]})};export{g as default};
