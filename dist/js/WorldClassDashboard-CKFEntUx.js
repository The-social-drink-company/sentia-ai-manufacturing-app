import{r as e,j as a}from"./react-core-DkFbty9o.js";import{i as t}from"./index-C8migC5L.js";import{ae as s,a3 as i,an as n,ao as r,ap as l,K as d,ac as c,V as o,I as x,aq as m,T as u,p as g,l as p}from"./ui-components-J4-_vVnI.js";import{m as y,A as h}from"./animation-CTJwy-Vh.js";import"./vendor-CHbOot_X.js";import"./charts-DxLx1lqX.js";import"./vendor-utils-BvmCeSbq.js";import"./router-C0m1gglZ.js";import"./auth-M1VfQxmO.js";import"./forms-CtqjxpzJ.js";const b=({title:t,subtitle:o,value:x,previousValue:m,trend:u="up",trendPercentage:g,icon:p,color:b="blue",children:v,actions:j=[],fullscreen:f=!1,loading:N=!1,className:w="",animationDelay:k=0})=>{const[P,S]=e.useState(!1),[$,V]=e.useState(!1),I={blue:{bg:"from-blue-500/10 to-blue-600/10",border:"border-blue-200/50",text:"text-blue-600",icon:"text-blue-600",accent:"bg-blue-600"},green:{bg:"from-green-500/10 to-green-600/10",border:"border-green-200/50",text:"text-green-600",icon:"text-green-600",accent:"bg-green-600"},purple:{bg:"from-purple-500/10 to-purple-600/10",border:"border-purple-200/50",text:"text-purple-600",icon:"text-purple-600",accent:"bg-purple-600"},orange:{bg:"from-orange-500/10 to-orange-600/10",border:"border-orange-200/50",text:"text-orange-600",icon:"text-orange-600",accent:"bg-orange-600"},red:{bg:"from-red-500/10 to-red-600/10",border:"border-red-200/50",text:"text-red-600",icon:"text-red-600",accent:"bg-red-600"}},A=I[b]||I.blue,C="up"===u?d:"down"===u?c:null,D=[...j,{icon:s,label:"View Details",action:()=>V(!$)},{icon:i,label:"Share",action:()=>{}},{icon:n,label:"Bookmark",action:()=>{}},{icon:r,label:"Fullscreen",action:()=>{}}],R={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,delay:k,ease:[.4,0,.2,1]}},hover:{y:-8,scale:1.02,transition:{duration:.2,ease:"easeOut"}}};return N?a.jsx(y.div,{variants:R,initial:"hidden",animate:"visible",className:`relative bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 shadow-sm overflow-hidden ${w}`,children:a.jsxs(y.div,{variants:{animate:{opacity:[.5,1,.5],scale:[1,1.05,1],transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}},animate:"animate",className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-2xl animate-pulse"}),a.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full animate-pulse"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-3/4"}),a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-1/2"})]}),a.jsx("div",{className:"h-32 bg-gray-200 rounded-2xl animate-pulse"})]})}):a.jsxs(y.div,{variants:R,initial:"hidden",animate:"visible",whileHover:"hover",className:`relative bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-200 ${w}`,children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[p&&a.jsx(y.div,{className:"w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center",whileHover:{scale:1.1,rotate:5},transition:{duration:.2},children:a.jsx(p,{className:`w-6 h-6 ${A.icon}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:t}),o&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:o})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(y.button,{onClick:()=>S(!P),className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors opacity-0 group-hover:opacity-100",whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsx(l,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})}),a.jsx(h,{children:P&&a.jsx(y.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15},className:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50",children:D.map((e,t)=>a.jsxs(y.button,{onClick:()=>{e.action(),S(!1)},className:"w-full flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",whileHover:{x:4},transition:{duration:.15},children:[a.jsx(e.icon,{className:"w-4 h-4"}),a.jsx("span",{children:e.label})]},t))})})]})]}),void 0!==x&&a.jsxs("div",{className:"mb-6",children:[a.jsxs(y.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4,delay:k+.2},className:"flex items-end space-x-4",children:[a.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"string"==typeof x?x:x.toLocaleString()}),C&&g&&a.jsxs(y.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3,delay:k+.4},className:"flex items-center space-x-1 px-2 py-1 rounded-md text-xs font-medium "+("up"===u?"bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-400"),children:[a.jsx(C,{className:"w-4 h-4"}),a.jsx("span",{children:g})]})]}),m&&a.jsxs(y.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:k+.3},className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["Previous: ","string"==typeof m?m:m.toLocaleString()]})]}),a.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:k+.4},children:v}),a.jsx(h,{children:$&&a.jsx(y.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Detailed Analytics"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"This Period"}),a.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white mt-1",children:x||"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Previous Period"}),a.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white mt-1",children:m||"N/A"})]})]})]})})})]}),a.jsx(y.div,{className:`absolute inset-0 bg-gradient-to-br ${A.bg} opacity-0 group-hover:opacity-20 rounded-3xl blur-xl`,transition:{duration:.3}}),P&&a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>S(!1)})]})},v=()=>{const[s,i]=e.useState(null),[n,r]=e.useState(!0),[l,d]=e.useState("overview"),[c,h]=e.useState({}),[v,j]=e.useState([]),[f,N]=e.useState([]),{user:w,isSignedIn:k}=t();return e.useEffect(()=>{(async()=>{try{const e="https://sentia-manufacturing-production.onrender.com/api",a=await fetch(`${e}/dashboard/executive`),t=await a.json();i(t)}catch(e){i({totalRevenue:245e4,totalOrders:1250,activeCustomers:850,inventoryValue:75e4,workingCapital:{current:185e4,projected:21e5,trend:"+13.5%"},kpis:[{name:"Revenue Growth",value:"+15.2%",trend:"up"},{name:"Order Fulfillment",value:"94.8%",trend:"up"},{name:"Customer Satisfaction",value:"4.7/5",trend:"stable"},{name:"Inventory Turnover",value:"8.2x",trend:"up"}]})}finally{r(!1)}})();const e=new EventSource("http://localhost:5000/api/events");return e.onmessage=e=>{const a=JSON.parse(e.data);"dashboard-data"!==a.type&&"production-update"!==a.type||i(a.data)},()=>e.close()},[]),a.jsxs("div",{className:"min-h-screen p-8",children:[a.jsx(y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:a.jsxs("div",{className:"text-center mb-12",children:[a.jsx(y.h1,{className:"text-5xl font-bold text-gray-900 mb-4",initial:{scale:.9},animate:{scale:1},transition:{duration:.5,delay:.2},children:"World-Class Manufacturing Intelligence"}),a.jsx(y.p,{className:"text-xl text-gray-600 max-w-3xl mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},children:"Real-time insights, predictive analytics, and intelligent automation for next-generation manufacturing excellence"})]})}),a.jsxs(y.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-8 mb-8",children:[a.jsx(b,{title:"Production Performance",subtitle:"Real-time production metrics",value:s?.production?.totalUnits,previousValue:s?.production?.totalUnits-420,trend:s?.production?.trend,trendPercentage:s?.production?.trendPercentage,icon:o,color:"blue",loading:n,animationDelay:0,children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Efficiency"}),a.jsxs("span",{className:"font-semibold text-gray-900",children:[s?.production?.efficiency,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-1000",style:{width:`${s?.production?.efficiency||0}%`}})})]})}),a.jsx(b,{title:"Quality Control",subtitle:"Quality metrics & compliance",value:`${s?.quality?.passRate}%`,previousValue:`${(s?.quality?.passRate-.3).toFixed(1)}%`,trend:s?.quality?.trend,trendPercentage:s?.quality?.trendPercentage,icon:x,color:"green",loading:n,animationDelay:.1,children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Defect Rate"}),a.jsxs("span",{className:"font-semibold text-red-600",children:[s?.quality?.defectRate,"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Inspections"}),a.jsx("span",{className:"font-semibold text-gray-900",children:s?.quality?.inspections?.toLocaleString()})]})]})}),a.jsx(b,{title:"Inventory Management",subtitle:"Stock levels & optimization",value:`$${((s?.data?.kpis?.find(e=>"inventory"===e.id)?.numericValue||s?.inventory?.totalValue||18e5)/1e6).toFixed(1)}M`,previousValue:`$${(((s?.data?.kpis?.find(e=>"inventory"===e.id)?.numericValue||s?.inventory?.totalValue||18e5)-15e4)/1e6).toFixed(1)}M`,trend:s?.inventory?.trend,trendPercentage:s?.inventory?.trendPercentage,icon:m,color:"purple",loading:n,animationDelay:.2,children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Turnover Rate"}),a.jsxs("span",{className:"font-semibold text-gray-900",children:[s?.data?.production?.utilization||s?.inventory?.turnover||"87.3","x"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Stockouts"}),a.jsx("span",{className:"font-semibold text-orange-600",children:s?.data?.kpis?.find(e=>"orders"===e.id)?.value||s?.inventory?.stockouts||"342"})]})]})}),a.jsx(b,{title:"Financial Performance",subtitle:"Revenue & profitability",value:`$${((s?.data?.kpis?.find(e=>"revenue"===e.id)?.numericValue||s?.financial?.revenue||28e5)/1e6).toFixed(1)}M`,previousValue:`$${(((s?.data?.kpis?.find(e=>"revenue"===e.id)?.numericValue||s?.financial?.revenue||28e5)-32e4)/1e6).toFixed(1)}M`,trend:s?.financial?.trend,trendPercentage:s?.financial?.trendPercentage,icon:u,color:"green",loading:n,animationDelay:.3,children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Profit Margin"}),a.jsxs("span",{className:"font-semibold text-green-600",children:[s?.data?.production?.efficiency||s?.financial?.margin||"94.2","%"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Profit"}),a.jsxs("span",{className:"font-semibold text-gray-900",children:["$$",(.185*(s?.data?.kpis?.find(e=>"revenue"===e.id)?.numericValue||28e5)/1e6).toFixed(1),"M"]})]})]})})]}),a.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[a.jsx(b,{title:"Advanced Analytics",subtitle:"AI-powered insights & predictions",icon:g,color:"blue",loading:n,className:"col-span-1",children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Predictive Insights"}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[a.jsx("li",{children:"• Production efficiency expected to increase 8% next week"}),a.jsx("li",{children:"• Quality metrics trending upward with 94% confidence"}),a.jsx("li",{children:"• Inventory optimization saving $45K monthly"})]})]})})}),a.jsx(b,{title:"System Status",subtitle:"Operations & connectivity",icon:p,color:"green",loading:n,className:"col-span-1",children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Production Lines"}),a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-green-600",children:"Online"})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Data Integration"}),a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-green-600",children:"Connected"})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"AI Analytics"}),a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-green-600",children:"Active"})]})]})]})})})]}),a.jsx(y.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1},className:"fixed bottom-4 left-4 bg-white/90 backdrop-blur-lg rounded-lg shadow-lg p-3 border border-white/20",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(y.div,{className:"w-3 h-3 bg-green-500 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0}}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Live Data"})]})})]})};export{v as default};
