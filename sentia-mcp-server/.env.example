# Sentia MCP Server Environment Configuration Template
# Copy this file to .env and configure your environment-specific values

# =============================================================================
# Core Server Configuration
# =============================================================================
NODE_ENV=development
MCP_SERVER_NAME=sentia-manufacturing-mcp
MCP_SERVER_PORT=3001
MCP_SERVER_HOST=0.0.0.0

# Environment-specific configuration
CONFIG_TEMPLATE=development
CONFIG_PROFILE=manufacturing
CONFIG_HOT_RELOAD=true

# =============================================================================
# Transport Configuration  
# =============================================================================
MCP_TRANSPORT=dual
MCP_STDIO_ENABLED=true
MCP_HTTP_ENABLED=true
MCP_HTTP_PORT=3002
MCP_SSE_ENABLED=true
SSE_HEARTBEAT_INTERVAL=30000

# =============================================================================
# Database Configuration (Required)
# =============================================================================
DATABASE_URL=postgresql://username:password@localhost:5432/sentia_manufacturing
DEV_DATABASE_URL=postgresql://username:password@localhost:5432/sentia_manufacturing_dev
TEST_DATABASE_URL=postgresql://username:password@localhost:5432/sentia_manufacturing_test

# Database connection settings
DB_HOST=localhost
DB_PORT=5432
DB_NAME=sentia_manufacturing
DB_USER=postgres
DB_PASSWORD=your-database-password
DB_SCHEMA=public
DB_SEARCH_PATH=public
DB_TIMEZONE=UTC

# Database performance settings
DB_MAX_CONNECTIONS=10
DB_MIN_CONNECTIONS=1
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=10000
DB_STATEMENT_TIMEOUT=30000
DB_QUERY_TIMEOUT=30000
DB_QUERY_LOGGING=false
DB_SLOW_QUERY_THRESHOLD=1000

# Database SSL settings
DB_SSL_CA=
DB_SSL_CERT=
DB_SSL_KEY=

# Database monitoring
DB_HEALTH_CHECK_INTERVAL=30000
DB_HEALTH_CHECK_TIMEOUT=5000
DB_METRICS_INTERVAL=60000
DB_METRICS_RETENTION=86400000

# =============================================================================
# Security Configuration
# =============================================================================
# Global security settings
SECURITY_ENABLED=true
SECURITY_STRICT_MODE=false
SECURITY_DEV_BYPASS=true

# Authentication
AUTH_REQUIRED=false
JWT_SECRET=your-super-secret-jwt-key-min-32-chars
JWT_EXPIRES_IN=24h
JWT_ISSUER=sentia-mcp-server
JWT_AUDIENCE=sentia-mcp-client
REQUIRE_MFA=false
SESSION_TIMEOUT=3600000
MAX_CONCURRENT_SESSIONS=5
SESSION_DOMAIN=

# Password policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=false
PASSWORD_EXPIRY_DAYS=90

# Account lockout
ENABLE_ACCOUNT_LOCKOUT=true
MAX_FAILED_ATTEMPTS=5
LOCKOUT_DURATION=900000

# Rate limiting
ENABLE_RATE_LIMITING=true
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100
GLOBAL_RATE_LIMIT=1000
PER_USER_RATE_LIMIT=100

# Security headers
ENABLE_SECURITY_HEADERS=true
ENABLE_CSP=true
ENABLE_HSTS=true
HELMET_ENABLED=true
CSP_ENABLED=true

# Encryption
ENABLE_ENCRYPTION=true
ENCRYPTION_ALGORITHM=aes-256-gcm
ENCRYPTION_KEY_PRIMARY=your-primary-encryption-key-32-chars
ENCRYPTION_KEY_SECONDARY=your-secondary-encryption-key-32-chars
ENCRYPTION_KEY_ARCHIVE=your-archive-encryption-key-32-chars
KEY_ROTATION_DAYS=90

# Audit logging
ENABLE_AUDIT_LOGGING=true
AUDIT_RETENTION_DAYS=2555
AUDIT_ENCRYPTION=true

# SSL/TLS
ENABLE_SSL=false
SSL_CERT_PATH=
SSL_KEY_PATH=
SSL_CA_PATH=

# IP restrictions
ADMIN_ALLOWED_IPS=
MANAGER_ALLOWED_IPS=
OPERATOR_ALLOWED_IPS=
API_ALLOWED_IPS=

# =============================================================================
# CORS Configuration
# =============================================================================
API_ENABLE_CORS=true
API_CORS_ORIGINS=http://localhost:3000,http://localhost:5173,https://sentia-manufacturing-development.onrender.com
API_CORS_CREDENTIALS=true

# =============================================================================
# Performance Configuration
# =============================================================================
# Resource limits
PERF_MAX_MEMORY=2gb
PERF_MAX_CPU=80
PERF_MAX_FD=1024
PERF_MAX_CONNECTIONS=1000

# Concurrency settings
PERF_MAX_CONCURRENT_REQUESTS=100
PERF_MAX_CONCURRENT_TOOLS=10
PERF_WORKER_POOL_SIZE=4

# Timeout settings
PERF_REQUEST_TIMEOUT=30000
PERF_RESPONSE_TIMEOUT=30000
PERF_KEEP_ALIVE_TIMEOUT=5000

# Buffer sizes
PERF_REQUEST_BUFFER_SIZE=1048576
PERF_RESPONSE_BUFFER_SIZE=1048576

# Caching settings
PERF_ENABLE_CACHING=true
PERF_CACHE_STRATEGY=lru
PERF_CACHE_TTL=300000

# Compression settings
PERF_ENABLE_COMPRESSION=true
PERF_COMPRESSION_LEVEL=6
PERF_COMPRESSION_THRESHOLD=1024

# Connection pooling
PERF_ENABLE_CONNECTION_POOLING=true
PERF_CONNECTION_POOL_SIZE=10
PERF_CONNECTION_POOL_TIMEOUT=30000

# Garbage collection
PERF_ENABLE_GC_OPTIMIZATION=false
PERF_GC_INTERVAL=300000

# Profiling
PERF_ENABLE_PROFILING=false
PERF_PROFILE_INTERVAL=60000

# Load balancing
PERF_ENABLE_LOAD_BALANCING=false
PERF_LOAD_BALANCING_STRATEGY=round-robin

# =============================================================================
# API Configuration
# =============================================================================
API_HOST=0.0.0.0
API_BASE_URL=/api
API_VERSION=v1
API_MAX_REQUEST_SIZE=10mb
API_MAX_URL_LENGTH=2048
API_MAX_HEADER_SIZE=8192

# API timeouts
API_REQUEST_TIMEOUT=30000
API_RESPONSE_TIMEOUT=30000
API_KEEP_ALIVE_TIMEOUT=5000
API_HEADERS_TIMEOUT=10000

# API rate limiting
API_RATE_LIMIT_ENABLED=true
API_RATE_LIMIT_WINDOW=900000
API_RATE_LIMIT_MAX=100

# API retry settings
API_ENABLE_RETRY=true
API_MAX_RETRIES=3
API_RETRY_DELAY=1000

# API compression
API_ENABLE_COMPRESSION=true
API_COMPRESSION_THRESHOLD=1024
API_COMPRESSION_LEVEL=6

# API authentication
API_ENABLE_AUTH=true
API_AUTH_HEADER=Authorization
API_AUTH_SCHEME=Bearer

# API validation
API_ENABLE_VALIDATION=true
API_STRICT_VALIDATION=false

# API logging
API_ENABLE_REQUEST_LOGGING=false
API_ENABLE_RESPONSE_LOGGING=false
API_LOG_LEVEL=info

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_MAX_SIZE=5m
LOG_FILE_MAX_FILES=5
LOG_DIRECTORY=logs
LOG_CONSOLE_ENABLED=true
LOG_COLORIZE=true

# =============================================================================
# Tool Configuration
# =============================================================================
TOOLS_DIRECTORY=src/tools
ENABLED_TOOL_CATEGORIES=system,manufacturing,financial,database,integration
TOOL_TIMEOUT=30000
MAX_CONCURRENT_TOOLS=10
TOOL_CACHING_ENABLED=true
TOOL_CACHE_TTL=300
TOOL_CACHE_MAX_SIZE=1000

# =============================================================================
# Resource Management
# =============================================================================
MAX_FILE_SIZE=10mb
ALLOWED_MIME_TYPES=application/json,text/plain,text/csv,application/xml
TEMP_DIRECTORY=tmp
CLEANUP_INTERVAL=3600000

# =============================================================================
# Monitoring and Metrics
# =============================================================================
MONITORING_ENABLED=true
METRICS_ENDPOINT=/metrics
HEALTH_ENDPOINT=/health
COLLECT_SYSTEM_METRICS=true
COLLECT_TOOL_METRICS=true
COLLECT_BUSINESS_METRICS=false
METRICS_RETENTION_PERIOD=604800000

# Performance monitoring
RESPONSE_TIME_WARNING=1000
RESPONSE_TIME_CRITICAL=5000
MEMORY_WARNING=80
MEMORY_CRITICAL=95
CPU_WARNING=70
CPU_CRITICAL=90

# Health checks
ENABLE_HEALTH_CHECKS=true
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# Alerting
ENABLE_ALERTING=false
ALERT_STORM_PROTECTION=true
MAX_ALERTS_PER_MINUTE=10
ALERT_DEDUP_WINDOW=300000

# Notification settings
WEBHOOK_NOTIFICATIONS_ENABLED=false
WEBHOOK_URL=
WEBHOOK_SECRET=
EMAIL_NOTIFICATIONS_ENABLED=false
EMAIL_RECIPIENTS=
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
SLACK_NOTIFICATIONS_ENABLED=false
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#alerts
SMS_NOTIFICATIONS_ENABLED=false
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=
SMS_RECIPIENTS=

# Prometheus integration
PROMETHEUS_ENABLED=false

# =============================================================================
# Cache Configuration
# =============================================================================
CACHE_TYPE=memory
CACHE_DEFAULT_TTL=300
CACHE_MAX_SIZE=1000
CACHE_KEY_PREFIX=sentia-mcp:
CACHE_COMPRESSION=false
CACHE_COMPRESSION_THRESHOLD=1024

# Redis configuration
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0
REDIS_KEY_PREFIX=sentia-mcp:
REDIS_RETRY_DELAY=100
REDIS_MAX_RETRIES=3
REDIS_CONNECT_TIMEOUT=10000
REDIS_KEEP_ALIVE=30000

# Memory cache configuration
MEMORY_CACHE_MAX_SIZE=1000
MEMORY_CACHE_CHECK_PERIOD=600

# Cache performance
CACHE_ENABLE_METRICS=true
CACHE_HIT_RATE_THRESHOLD=0.8
CACHE_GC_INTERVAL=300000
CACHE_POOL_SIZE=10
CACHE_POOL_IDLE_TIMEOUT=30000
CACHE_POOL_MAX_WAITING=50

# =============================================================================
# Integration Configuration
# =============================================================================
# Global integration settings
INTEGRATION_TIMEOUT=30000
INTEGRATION_RETRY_ATTEMPTS=3
INTEGRATION_RETRY_DELAY=1000
INTEGRATION_ENABLE_CACHING=true
INTEGRATION_CACHE_TTL=300
INTEGRATION_LOG_REQUESTS=false
INTEGRATION_LOG_RESPONSES=false
INTEGRATION_LOG_ERRORS=true
INTEGRATION_SANDBOX_MODE=true
INTEGRATION_MOCK_MODE=false
INTEGRATION_VALIDATE_SSL=true
INTEGRATION_RATE_LIMITING=true
INTEGRATION_GLOBAL_RATE_LIMIT=1000
INTEGRATION_CIRCUIT_BREAKER=false
INTEGRATION_CB_THRESHOLD=5
INTEGRATION_CB_TIMEOUT=30000
INTEGRATION_HEALTH_CHECKS=true
INTEGRATION_HEALTH_INTERVAL=60000

# =============================================================================
# External AI Service Integrations (Optional)
# =============================================================================
# Anthropic Claude
ANTHROPIC_API_KEY=your-anthropic-api-key
ANTHROPIC_MODEL=claude-3-sonnet-20240229
ANTHROPIC_MAX_TOKENS=4096
ANTHROPIC_TEMPERATURE=0.7

# OpenAI GPT
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.7

# =============================================================================
# Business System Integrations (Optional)
# =============================================================================
# Xero Accounting
XERO_CLIENT_ID=your-xero-client-id
XERO_CLIENT_SECRET=your-xero-client-secret
XERO_REDIRECT_URI=http://localhost:3001/auth/xero/callback
XERO_SCOPES=accounting.read,accounting.transactions

# Shopify E-commerce
SHOPIFY_SHOP_DOMAIN=your-shop.myshopify.com
SHOPIFY_ACCESS_TOKEN=your-shopify-access-token
SHOPIFY_API_VERSION=2024-01

# Unleashed ERP
UNLEASHED_API_ID=your-unleashed-api-id
UNLEASHED_API_KEY=your-unleashed-api-key
UNLEASHED_BASE_URL=https://api.unleashedsoftware.com

# Amazon SP-API
AMAZON_SELLER_ID=your-amazon-seller-id
AMAZON_CLIENT_ID=your-amazon-client-id
AMAZON_CLIENT_SECRET=your-amazon-client-secret
AMAZON_REFRESH_TOKEN=your-amazon-refresh-token
AMAZON_REGION=us-east-1

# =============================================================================
# Development/Debug Configuration
# =============================================================================
# Set to true to enable development mode features
DEVELOPMENT_MODE=true

# Enable verbose debugging for specific components
DEBUG_DATABASE=false
DEBUG_TOOLS=false
DEBUG_AUTH=false
DEBUG_CACHE=false