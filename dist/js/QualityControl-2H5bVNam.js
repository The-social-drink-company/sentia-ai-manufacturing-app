import{r as e,j as s,v as t,T as a,i as r,ay as d,bp as l}from"./react-core-DlJGLw67.js";import{C as i}from"./ChartErrorBoundary-D7u50YP5.js";import"./index-DuY1VrEM.js";import{R as c,A as x,C as n,X as m,Y as o,T as h,b as g,P as j,h as y,i as p}from"./charts-C-BUlHpY.js";import"./auth-BIfipbc6.js";import"./vendor-TZ9aDXZU.js";import"./vendor-utils-W0IPh-on.js";import"./router-BgNYfmsc.js";import"./animation-Cxa7csYq.js";const b=()=>{const[b,u]=e.useState(null),[N,f]=e.useState(!0),[w,v]=e.useState([]),[k,T]=e.useState([]);return e.useEffect(()=>{const e=async()=>{try{const e="https://sentia-manufacturing-production.onrender.com/api",s=await fetch(`${e}/quality/metrics`);if(s.ok){const e=await s.json();u(e),v(e.activeTests||[]),T(e.alerts||[])}}catch(e){}finally{f(!1)}};e();const s=setInterval(e,6e4);return()=>clearInterval(s)},[]),N?s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/4 mb-4"}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[...Array(4)].map((e,t)=>s.jsx("div",{className:"h-32 bg-gray-300 rounded"},t))})]})}):s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Quality Control"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Monitor quality metrics, testing schedules, and compliance standards"})]}),k.length>0&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(t,{className:"h-5 w-5 text-red-600 mr-2"}),s.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Quality Alerts"})]}),s.jsx("div",{className:"mt-2 space-y-1",children:k.map((e,t)=>s.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:["â€¢ ",e.message]},t))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Pass Rate"}),s.jsxs("p",{className:"text-3xl font-bold text-green-600 mt-2",children:[b?.kpis?.passRate||98.2,"%"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Last 30 days"})]}),s.jsx(a,{className:"h-8 w-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Tests Today"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:b?.kpis?.testsToday||47}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Completed"})]}),s.jsx(r,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Pending"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:b?.kpis?.pending||8}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Awaiting review"})]}),s.jsx(d,{className:"h-8 w-8 text-orange-600"})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Alerts"}),s.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:b?.kpis?.alerts||2}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Require attention"})]}),s.jsx(t,{className:"h-8 w-8 text-red-600"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Quality Trend (7 days)"})}),s.jsx("div",{className:"p-6",children:s.jsx(i,{children:s.jsx(c,{width:"100%",height:300,children:s.jsxs(x,{data:mockQualityTrend,children:[s.jsx(n,{strokeDasharray:"3 3"}),s.jsx(m,{dataKey:"date"}),s.jsx(o,{}),s.jsx(h,{}),s.jsx(g,{type:"monotone",dataKey:"passRate",stackId:"1",stroke:"#10B981",fill:"#10B981",fillOpacity:.3,name:"Pass Rate %"}),s.jsx(g,{type:"monotone",dataKey:"defectRate",stackId:"2",stroke:"#EF4444",fill:"#EF4444",fillOpacity:.3,name:"Defect Rate %"})]})})})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Defect Types"})}),s.jsx("div",{className:"p-6",children:s.jsx(i,{children:s.jsx(c,{width:"100%",height:300,children:s.jsxs(j,{children:[s.jsx(y,{data:mockDefectTypes,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",label:({name:e,percent:s})=>`${e} ${(100*s).toFixed(0)}%`,children:mockDefectTypes.map((e,t)=>s.jsx(p,{fill:e.color},`cell-${t}`))}),s.jsx(h,{})]})})})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Test Performance Today"})}),s.jsx("div",{className:"p-6",children:s.jsx(i,{children:s.jsx(c,{width:"100%",height:300,children:s.jsxs(x,{data:mockTestPerformance,children:[s.jsx(n,{strokeDasharray:"3 3"}),s.jsx(m,{dataKey:"hour"}),s.jsx(o,{}),s.jsx(h,{}),s.jsx(g,{type:"monotone",dataKey:"completed",stackId:"1",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.6,name:"Completed"}),s.jsx(g,{type:"monotone",dataKey:"failed",stackId:"2",stroke:"#EF4444",fill:"#EF4444",fillOpacity:.6,name:"Failed"})]})})})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Active Quality Tests"}),s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"+ New Test"})]})}),s.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:s.jsx("div",{className:"space-y-4",children:w.length>0?w.map((e,t)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.batch})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+("Passed"===e.status?"bg-green-100 text-green-800":"In Progress"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})})]},t)):[{name:"Tensile Strength Test",batch:"BATCH-2025-001",status:"In Progress"},{name:"Surface Finish QC",batch:"BATCH-2025-002",status:"Passed"},{name:"Dimensional Check",batch:"BATCH-2025-003",status:"In Progress"},{name:"Material Composition",batch:"BATCH-2025-004",status:"Failed"},{name:"Color Matching",batch:"BATCH-2025-005",status:"Passed"}].map((e,t)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.batch})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+("Passed"===e.status?"bg-green-100 text-green-800":"In Progress"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})})]},t))})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Compliance Standards"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsx(l,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"ISO 9001"}),s.jsx("p",{className:"text-sm text-green-600",children:"Compliant"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Last audit: Mar 2025"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsx(l,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"FDA CFR 21"}),s.jsx("p",{className:"text-sm text-green-600",children:"Compliant"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Last audit: Feb 2025"})]}),s.jsxs("div",{className:"text-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[s.jsx(l,{className:"h-8 w-8 text-yellow-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"CE Marking"}),s.jsx("p",{className:"text-sm text-yellow-600",children:"Review Required"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Due: Oct 2025"})]})]})})]})]})};export{b as default};
