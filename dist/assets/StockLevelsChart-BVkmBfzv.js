import{r as j,ab as e}from"./vendor-C1LNgw1J.js";import{R as S,c as y,C as N,X as b,Y as L,T as C,b as v,e as R}from"./charts-1s3mMhcR.js";const A=({data:n})=>{const d=(t,a)=>({"GABA Red":"#ef4444","GABA Black":"#374151","GABA Gold":"#f59e0b"})[t]||"#6b7280",x=(t,a,s)=>t===0?"#dc2626":t<=a?"#f59e0b":d(s),m=({active:t,payload:a,label:s})=>{if(t&&a&&a.length){const r=a[0].payload,l=(r.currentStock/r.maxStock*100).toFixed(1);return e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:s}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Current Stock:"})," ",e.jsxs("span",{className:"font-medium",children:[r.currentStock.toLocaleString()," ",r.unit]})]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:"Reorder Level:"})," ",e.jsxs("span",{className:"font-medium",children:[r.reorderLevel.toLocaleString()," ",r.unit]})]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"Max Stock:"})," ",e.jsxs("span",{className:"font-medium",children:[r.maxStock.toLocaleString()," ",r.unit]})]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Stock Level:"})," ",e.jsxs("span",{className:`font-medium ${r.currentStock<=r.reorderLevel?"text-red-600":r.currentStock<=r.reorderLevel*1.5?"text-yellow-600":"text-green-600"}`,children:[l,"%"]})]}),e.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-600",children:e.jsxs("p",{className:`text-xs font-medium ${r.currentStock===0?"text-red-600":r.currentStock<=r.reorderLevel?"text-yellow-600":"text-green-600"}`,children:["Status: ",r.currentStock===0?"OUT OF STOCK":r.currentStock<=r.reorderLevel?"LOW STOCK - REORDER NEEDED":"IN STOCK"]})})]})]})}return null},u=t=>t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toString();if(!n||n.length===0)return e.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400",children:e.jsx("p",{children:"No stock data available"})});const h=t=>{const{fill:a,payload:s,x:r,y:l,width:c,height:i}=t;if(!s)return null;const f=s.reorderLevel/s.currentStock,o=l+i-i*f,k=g=>"#ffffff",p=g=>"#1f2937";return e.jsxs("g",{children:[e.jsx("rect",{x:r,y:l,width:c,height:i,fill:a,rx:4,ry:4}),e.jsx("line",{x1:r,y1:o,x2:r+c,y2:o,stroke:p(s.product),strokeWidth:5,strokeDasharray:"8 4"}),e.jsx("line",{x1:r,y1:o,x2:r+c,y2:o,stroke:k(s.product),strokeWidth:3,strokeDasharray:"8 4"}),e.jsx("rect",{x:r+c+4,y:o-8,width:80,height:16,fill:"rgba(255, 255, 255, 0.9)",stroke:"#1f2937",strokeWidth:1,rx:2,ry:2}),e.jsxs("text",{x:r+c+8,y:o+4,fill:"#1f2937",fontSize:11,fontWeight:"600",textAnchor:"start",children:["Reorder: ",s.reorderLevel]})]})};return e.jsx(S,{width:"100%",height:"100%",children:e.jsxs(y,{data:n,margin:{top:20,right:80,left:20,bottom:5},barCategoryGap:"20%",children:[e.jsx(N,{strokeDasharray:"3 3",className:"opacity-30"}),e.jsx(b,{dataKey:"product",tick:{fontSize:12},tickLine:!1,axisLine:!1}),e.jsx(L,{tickFormatter:u,tick:{fontSize:12},tickLine:!1,axisLine:!1}),e.jsx(C,{content:e.jsx(m,{})}),e.jsx(v,{dataKey:"currentStock",shape:e.jsx(h,{}),children:n.map((t,a)=>e.jsx(R,{fill:x(t.currentStock,t.reorderLevel,t.product)},`cell-${a}`))})]})})},O=j.memo(A);export{O as default};
