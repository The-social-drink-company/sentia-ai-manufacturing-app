import{bO as e,r as a,an as n,e as i,ab as r,bh as s,ay as t,ae as o,b$ as d,bk as m,bl as c,aA as u,bP as l,aC as b,F as g,ac as f}from"./chunk-50VakDq_.js";import{a as N,c as p,e as x,b as h}from"./index-D_sYezzK.js";import"./chunk-B0gV6PC-.js";import"./chunk-Bdzhvng1.js";import"./chunk-CPoxpMGX.js";import"./chunk-Cl39Cy1-.js";import"./chunk-CD0qKuw4.js";import"./chunk-b9fRcCU5.js";import"./chunk-CeZtwEmw.js";import"./chunk-Dozjk7Op.js";const v=({status:e,lastUsed:a})=>{const n=(()=>{if("revoked"===e)return{color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",icon:l,text:"Revoked"};if(!a)return{color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",icon:b,text:"Never Used"};const n=Math.floor((new Date-new Date(a))/864e5);return n>90?{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",icon:g,text:"Inactive"}:n>30?{color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",icon:b,text:"Low Usage"}:{color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",icon:f,text:"Active"}})(),r=n.icon;return i.jsxDEV("span",{className:p("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",n.color),children:[i.jsxDEV(r,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:66,columnNumber:7},void 0),n.text]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:62,columnNumber:5},void 0)},j=({apiKey:e,isOpen:n,onClose:r,onSave:s,mode:t="create"})=>{const[o,d]=a.useState(e||{name:"",description:"",scopes:[],expiresAt:null,rateLimitPerHour:1e3,environment:"development"});return n?i.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxDEV("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:i.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"create"===t?"Create API Key":"Edit API Key"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:113,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:112,columnNumber:9},void 0),i.jsxDEV("form",{onSubmit:e=>{e.preventDefault(),s(o)},className:"px-6 py-4 space-y-6",children:[i.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxDEV("div",{className:"md:col-span-2",children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:121,columnNumber:15},void 0),i.jsxDEV("input",{type:"text",value:o.name,onChange:e=>d({...o,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"My API Key",required:!0},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:124,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:120,columnNumber:13},void 0),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Environment"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:135,columnNumber:15},void 0),i.jsxDEV("select",{value:o.environment,onChange:e=>d({...o,environment:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[i.jsxDEV("option",{value:"development",children:"Development"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:143,columnNumber:17},void 0),i.jsxDEV("option",{value:"testing",children:"Testing"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:144,columnNumber:17},void 0),i.jsxDEV("option",{value:"production",children:"Production"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:145,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:138,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:134,columnNumber:13},void 0),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rate Limit (per hour)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:150,columnNumber:15},void 0),i.jsxDEV("input",{type:"number",value:o.rateLimitPerHour,onChange:e=>d({...o,rateLimitPerHour:parseInt(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",min:"1",max:"10000"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:153,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:149,columnNumber:13},void 0),i.jsxDEV("div",{className:"md:col-span-2",children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:164,columnNumber:15},void 0),i.jsxDEV("textarea",{value:o.description,onChange:e=>d({...o,description:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"What is this API key used for?"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:167,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:163,columnNumber:13},void 0),i.jsxDEV("div",{className:"md:col-span-2",children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Expiration (optional)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:177,columnNumber:15},void 0),i.jsxDEV("input",{type:"date",value:o.expiresAt?o.expiresAt.split("T")[0]:"",onChange:e=>d({...o,expiresAt:e.target.value?`${e.target.value}T23:59:59Z`:null}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",min:(new Date).toISOString().split("T")[0]},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:180,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:176,columnNumber:13},void 0),i.jsxDEV("div",{className:"md:col-span-2",children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Permissions"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:193,columnNumber:15},void 0),i.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{id:"read",name:"Read Access",description:"View data and reports"},{id:"write",name:"Write Access",description:"Create and update resources"},{id:"delete",name:"Delete Access",description:"Remove resources"},{id:"admin",name:"Admin Access",description:"Full system administration"},{id:"analytics",name:"Analytics",description:"Access to analytics and reports"},{id:"integrations",name:"Integrations",description:"Manage external integrations"}].map(e=>i.jsxDEV("label",{className:"flex items-start space-x-3",children:[i.jsxDEV("input",{type:"checkbox",checked:o.scopes.includes(e.id),onChange:()=>{return a=e.id,void d(e=>({...e,scopes:e.scopes.includes(a)?e.scopes.filter(e=>e!==a):[...e.scopes,a]}));var a},className:"w-4 h-4 mt-0.5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:199,columnNumber:21},void 0),i.jsxDEV("div",{className:"flex-1 min-w-0",children:[i.jsxDEV("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:206,columnNumber:23},void 0),i.jsxDEV("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.description},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:209,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:205,columnNumber:21},void 0)]},e.id,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:198,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:196,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:192,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:119,columnNumber:11},void 0),i.jsxDEV("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsxDEV("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700",children:"Cancel"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:220,columnNumber:13},void 0),i.jsxDEV("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"create"===t?"Create API Key":"Update API Key"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:227,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:219,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:118,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:111,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:110,columnNumber:5},void 0):null},A=()=>{const{hasPermission:l}=N(),b=e(),[g,f]=a.useState(null),[A,P]=a.useState("create"),[y,D]=a.useState(!1),[k,C]=a.useState(new Set),[I,S]=a.useState(""),{data:E,isLoading:M}=n({queryKey:["admin","api-keys",I],queryFn:async()=>(await new Promise(e=>setTimeout(e,800)),[{id:1,name:"Production Analytics API",key:"sentia_prod_ak_1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0t",description:"Used by analytics dashboard for real-time data",scopes:["read","analytics"],environment:"production",rateLimitPerHour:5e3,createdAt:"2025-01-01T00:00:00Z",lastUsed:"2025-09-08T12:30:00Z",usageCount:45623,status:"active",expiresAt:null},{id:2,name:"Development Testing Key",key:"sentia_dev_ak_9z8y7x6w5v4u3t2s1r0q9p8o7n6m5l4k3j2i1h0g",description:"Testing API integration during development",scopes:["read","write"],environment:"development",rateLimitPerHour:1e3,createdAt:"2025-08-15T00:00:00Z",lastUsed:"2025-09-07T16:45:00Z",usageCount:1234,status:"active",expiresAt:null},{id:3,name:"Legacy Integration Key",key:"sentia_leg_ak_f9e8d7c6b5a4938271605948372615048372610593",description:"Legacy system integration - scheduled for deprecation",scopes:["read"],environment:"production",rateLimitPerHour:100,createdAt:"2024-06-01T00:00:00Z",lastUsed:"2024-12-15T10:20:00Z",usageCount:8456,status:"active",expiresAt:"2025-12-31T23:59:59Z"},{id:4,name:"Revoked Admin Key",key:"sentia_rev_ak_0000000000000000000000000000000000000000",description:"Former admin key - revoked for security reasons",scopes:["admin"],environment:"production",rateLimitPerHour:0,createdAt:"2024-03-01T00:00:00Z",lastUsed:"2024-03-15T09:30:00Z",usageCount:234,status:"revoked",expiresAt:null}]),refetchInterval:3e4}),V=E?.filter(e=>e.name.toLowerCase().includes(I.toLowerCase())||e.description.toLowerCase().includes(I.toLowerCase())||e.environment.toLowerCase().includes(I.toLowerCase()))||[];return l("admin.api.manage")?M?i.jsxDEV("div",{className:"p-6 space-y-6",children:i.jsxDEV("div",{className:"animate-pulse",children:[i.jsxDEV("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-6"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:399,columnNumber:11},void 0),i.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[...Array(4)].map((e,a)=>i.jsxDEV("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:i.jsxDEV("div",{className:"flex items-center justify-between",children:i.jsxDEV("div",{className:"flex-1",children:[i.jsxDEV("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-2"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:405,columnNumber:21},void 0),i.jsxDEV("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:406,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:404,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:403,columnNumber:17},void 0)},a,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:402,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:400,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:398,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:397,columnNumber:7},void 0):i.jsxDEV("div",{className:"p-6 space-y-6",children:[i.jsxDEV("div",{className:"flex items-center justify-between",children:[i.jsxDEV("div",{children:[i.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"API Keys & Tokens"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:422,columnNumber:11},void 0),i.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage API keys, authentication tokens, and external service credentials"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:423,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:421,columnNumber:9},void 0),l("admin.api.create")&&i.jsxDEV("button",{onClick:()=>{f(null),P("create"),D(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[i.jsxDEV(s,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:433,columnNumber:13},void 0),i.jsxDEV("span",{children:"Create API Key"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:434,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:429,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:420,columnNumber:7},void 0),i.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:i.jsxDEV("input",{type:"text",placeholder:"Search API keys...",value:I,onChange:e=>S(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:441,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:440,columnNumber:7},void 0),i.jsxDEV("div",{className:"space-y-4",children:[V.map(e=>{const a=k.has(e.id),n=`${e.key.substring(0,20)}${"•".repeat(20)}${e.key.substring(e.key.length-8)}`;return i.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:i.jsxDEV("div",{className:"flex items-start justify-between mb-4",children:[i.jsxDEV("div",{className:"flex-1",children:[i.jsxDEV("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:e.name},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:464,columnNumber:21},void 0),i.jsxDEV(v,{status:e.status,lastUsed:e.lastUsed},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:467,columnNumber:21},void 0),i.jsxDEV("span",{className:p("px-2 py-1 text-xs font-medium rounded-full","production"===e.environment?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"testing"===e.environment?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"),children:e.environment},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:468,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:463,columnNumber:19},void 0),i.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:e.description},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:479,columnNumber:19},void 0),i.jsxDEV("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-3 mb-3",children:i.jsxDEV("div",{className:"flex items-center justify-between",children:[i.jsxDEV("code",{className:"text-sm font-mono text-gray-800 dark:text-gray-200",children:a?e.key:n},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:486,columnNumber:23},void 0),i.jsxDEV("div",{className:"flex items-center space-x-2",children:[i.jsxDEV("button",{onClick:()=>{return a=e.id,void C(e=>{const n=new Set(e);return n.has(a)?n.delete(a):n.add(a),n});var a},className:"p-1 text-gray-500 hover:text-gray-700",title:a?"Hide":"Show",children:a?i.jsxDEV(t,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:495,columnNumber:40},void 0):i.jsxDEV(o,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:495,columnNumber:79},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:490,columnNumber:25},void 0),i.jsxDEV("button",{onClick:()=>{return a=e.key,void navigator.clipboard.writeText(a);var a},className:"p-1 text-gray-500 hover:text-gray-700",title:"Copy to clipboard",children:i.jsxDEV(d,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:502,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:497,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:489,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:485,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:484,columnNumber:19},void 0),i.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[i.jsxDEV("div",{children:[i.jsxDEV("span",{className:"text-gray-500 dark:text-gray-400",children:"Scopes:"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:511,columnNumber:23},void 0),i.jsxDEV("div",{className:"flex flex-wrap gap-1 mt-1",children:e.scopes.map(e=>i.jsxDEV("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-700 rounded dark:bg-gray-700 dark:text-gray-300",children:e},e,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:514,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:512,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:510,columnNumber:21},void 0),i.jsxDEV("div",{children:[i.jsxDEV("span",{className:"text-gray-500 dark:text-gray-400",children:"Rate Limit:"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:524,columnNumber:23},void 0),i.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-white",children:[e.rateLimitPerHour,"/hour"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:525,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:523,columnNumber:21},void 0),i.jsxDEV("div",{children:[i.jsxDEV("span",{className:"text-gray-500 dark:text-gray-400",children:"Usage:"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:530,columnNumber:23},void 0),i.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-white",children:[(r=e.usageCount,r>=1e6?`${(r/1e6).toFixed(1)}M`:r>=1e3?`${(r/1e3).toFixed(1)}K`:r.toString())," requests"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:531,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:529,columnNumber:21},void 0),i.jsxDEV("div",{children:[i.jsxDEV("span",{className:"text-gray-500 dark:text-gray-400",children:"Expires:"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:536,columnNumber:23},void 0),i.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-white",children:e.expiresAt?new Date(e.expiresAt).toLocaleDateString():"Never"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:537,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:535,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:509,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:462,columnNumber:17},void 0),i.jsxDEV("div",{className:"flex items-center space-x-2 ml-4",children:[l("admin.api.edit")&&"revoked"!==e.status&&i.jsxDEV("button",{onClick:()=>(f(e),P("edit"),void D(!0)),className:"p-2 text-blue-500 hover:text-blue-700",title:"Edit API Key",children:i.jsxDEV(m,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:552,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:547,columnNumber:21},void 0),l("admin.api.delete")&&"revoked"!==e.status&&i.jsxDEV("button",{onClick:()=>(async e=>{if(confirm("This will immediately revoke the API key. This action cannot be undone. Continue?"))try{await new Promise(e=>setTimeout(e,500)),b.invalidateQueries(["admin","api-keys"]),x("API key revoked",{component:"AdminAPI",keyId:e})}catch(a){h("Error revoking API key",a,{component:"AdminAPI",keyId:e})}})(e.id),className:"p-2 text-red-500 hover:text-red-700",title:"Revoke API Key",children:i.jsxDEV(c,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:562,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:557,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:545,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:461,columnNumber:15},void 0)},e.id,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:457,columnNumber:13},void 0);var r}),0===V.length&&i.jsxDEV("div",{className:"text-center py-12",children:[i.jsxDEV(u,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:573,columnNumber:13},void 0),i.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No API keys found"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:574,columnNumber:13},void 0),i.jsxDEV("p",{className:"text-gray-500 dark:text-gray-400",children:I?"Try adjusting your search terms":"Create your first API key to get started"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:575,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:572,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:451,columnNumber:7},void 0),i.jsxDEV(j,{apiKey:g,isOpen:y,onClose:()=>D(!1),onSave:async e=>{try{await new Promise(e=>setTimeout(e,1e3)),b.invalidateQueries(["admin","api-keys"]),D(!1),x("API key saved",{component:"AdminAPI",keyData:e})}catch(a){h("Error saving API key",a,{component:"AdminAPI"})}},mode:A},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:583,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:418,columnNumber:5},void 0):i.jsxDEV("div",{className:"p-6 text-center",children:[i.jsxDEV("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsxDEV(r,{className:"w-8 h-8 text-red-600"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:385,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:384,columnNumber:9},void 0),i.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Access Denied"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:387,columnNumber:9},void 0),i.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"You don't have permission to manage API keys."},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:388,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/admin/pages/AdminAPI.jsx",lineNumber:383,columnNumber:7},void 0)};export{A as default};
