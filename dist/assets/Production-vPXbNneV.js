import{r as m,ab as e}from"./vendor-if_euMW7.js";import{B as p,C as n,a as r,b as l,c,d}from"./index-rKvy0QRK.js";import{S as k,a as L,b as S,c as C,d as o}from"./select-BgOCkScb.js";import{R as j,B as T,C as g,X as f,Y as x,T as b,b as I,L as M,a as y}from"./charts-BqGm_-DZ.js";import"./data-layer-BNrHGTjD.js";import"./radix-DXWB-ErX.js";import"./router-D3j4TwQA.js";const A={"24h":[{label:"00:00",units:320},{label:"04:00",units:410},{label:"08:00",units:530},{label:"12:00",units:560},{label:"16:00",units:505},{label:"20:00",units:480}],"7d":[{label:"Mon",units:7420},{label:"Tue",units:7680},{label:"Wed",units:7510},{label:"Thu",units:7895},{label:"Fri",units:8210},{label:"Sat",units:7055},{label:"Sun",units:6840}],"30d":[{label:"Week 1",units:22100},{label:"Week 2",units:22840},{label:"Week 3",units:23310},{label:"Week 4",units:24020}]},E=[{label:"Filling",oee:87,scrap:2.4},{label:"Capping",oee:83,scrap:3.1},{label:"Labelling",oee:91,scrap:1.6},{label:"Packaging",oee:85,scrap:2.8}],R=[{reason:"Changeover",duration:"38 min",impact:"Medium",action:"Standardised setup checklist"},{reason:"Quality hold",duration:"22 min",impact:"High",action:"Inline inspection recalibrated"},{reason:"Maintenance",duration:"16 min",impact:"Low",action:"Lubrication schedule automated"}],K=()=>{const[t,a]=m.useState("24h"),i=m.useMemo(()=>A[t],[t]),u=i.reduce((s,N)=>s+N.units,0),v=Math.round(u/i.length);return e.jsxs("section",{className:"space-y-6",children:[e.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"Production performance"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor throughput, equipment effectiveness, and downtime hotspots across lines."})]}),e.jsx(p,{variant:"outline",children:"Shift 3 active"})]}),e.jsxs(n,{children:[e.jsxs(r,{children:[e.jsx(l,{children:"Throughput overview"}),e.jsx(c,{children:"Select a horizon to compare output trends."})]}),e.jsxs(d,{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(w,{label:"Time horizon",children:e.jsxs(k,{value:t,onValueChange:a,children:[e.jsx(L,{children:e.jsx(S,{})}),e.jsxs(C,{children:[e.jsx(o,{value:"24h",children:"Last 24 hours"}),e.jsx(o,{value:"7d",children:"Last 7 days"}),e.jsx(o,{value:"30d",children:"Last 30 days"})]})]})}),e.jsx(h,{label:"Units produced",value:u.toLocaleString(),helper:"Included in selected window"}),e.jsx(h,{label:"Average per interval",value:v.toLocaleString(),helper:"Mean output"}),e.jsx(h,{label:"Top cell",value:"Line B",helper:"Peak at 92% OEE"})]})]}),e.jsxs(n,{children:[e.jsx(r,{children:e.jsx(l,{children:"Output by interval"})}),e.jsx(d,{className:"h-80",children:e.jsx(j,{width:"100%",height:"100%",children:e.jsxs(T,{data:i,children:[e.jsx(g,{strokeDasharray:"3 3",vertical:!1}),e.jsx(f,{dataKey:"label",tickLine:!1,axisLine:!1}),e.jsx(x,{tickFormatter:s=>s.toLocaleString()}),e.jsx(b,{formatter:s=>`${s.toLocaleString()} units`}),e.jsx(I,{dataKey:"units",fill:"#1d4ed8",radius:[6,6,0,0]})]})})})]}),e.jsxs(n,{children:[e.jsxs(r,{children:[e.jsx(l,{children:"Cell effectiveness"}),e.jsx(c,{children:"Overall equipment effectiveness compared to scrap rate per sub-process."})]}),e.jsx(d,{className:"h-72",children:e.jsx(j,{width:"100%",height:"100%",children:e.jsxs(M,{data:E,children:[e.jsx(g,{strokeDasharray:"3 3"}),e.jsx(f,{dataKey:"label",tickLine:!1,axisLine:!1}),e.jsx(x,{yAxisId:"oee",tickFormatter:s=>`${s}%`,domain:[70,100]}),e.jsx(x,{yAxisId:"scrap",orientation:"right",tickFormatter:s=>`${s}%`,domain:[0,5]}),e.jsx(b,{formatter:s=>`${s}%`}),e.jsx(y,{yAxisId:"oee",type:"monotone",dataKey:"oee",stroke:"#16a34a",strokeWidth:2,dot:!0}),e.jsx(y,{yAxisId:"scrap",type:"monotone",dataKey:"scrap",stroke:"#f97316",strokeWidth:2,strokeDasharray:"5 3",dot:!0})]})})})]}),e.jsxs(n,{children:[e.jsxs(r,{children:[e.jsx(l,{children:"Downtime snapshot"}),e.jsx(c,{children:"Recent stoppages and mitigating actions logged by the shift lead."})]}),e.jsx(d,{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-border text-sm",children:[e.jsx("thead",{className:"bg-muted/40 text-left text-xs uppercase text-muted-foreground",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 font-medium",children:"Reason"}),e.jsx("th",{className:"px-4 py-2 font-medium",children:"Duration"}),e.jsx("th",{className:"px-4 py-2 font-medium",children:"Impact"}),e.jsx("th",{className:"px-4 py-2 font-medium",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-border",children:R.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium text-foreground",children:s.reason}),e.jsx("td",{className:"px-4 py-3",children:s.duration}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(p,{variant:s.impact==="High"?"destructive":s.impact==="Medium"?"secondary":"outline",children:s.impact})}),e.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:s.action})]},s.reason))})]})})]})]})},w=({label:t,children:a})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:t}),a]}),h=({label:t,value:a,helper:i})=>e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:t}),e.jsx("p",{className:"text-lg font-semibold text-foreground",children:a}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i})]});export{K as default};
