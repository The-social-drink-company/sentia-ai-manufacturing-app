import{j as e}from"./query-CJR12TOn.js";import{a as r}from"./vendor-BPOA5ME_.js";import{R as s,A as t,C as a,X as n,Y as i,T as l,a as d,B as c,e as o,P as m,c as x,d as h}from"./charts-D8EF9NMr.js";import{F as g}from"./FunnelIcon-e9w62AjR.js";import{i as u,g as p,b as j}from"./index-BHgYpTK7.js";import{F as f}from"./ArrowUpIcon-CNNKR6jt.js";import{F as v}from"./ClockIcon-BNTGqfUF.js";import{F as y}from"./CurrencyPoundIcon-D4FY613Y.js";import"./utils-BeLtu-UY.js";import"./auth-zWw5cpzK.js";function b({title:e,titleId:s,...t},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},t),e?r.createElement("title",{id:s},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const N=r.forwardRef(b);function w({title:e,titleId:s,...t},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},t),e?r.createElement("title",{id:s},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const k=r.forwardRef(w);function F({title:e,titleId:s,...t},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},t),e?r.createElement("title",{id:s},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const E=r.forwardRef(F),M=()=>{const[b,w]=r.useState(null),[F,M]=r.useState(!0),[B,A]=r.useState("monthly");r.useEffect(()=>{const e=async()=>{try{const e="https://sentiaprod.financeflo.ai/api",r=await fetch(`${e}/analytics/overview?period=${B}`);if(r.ok){const e=await r.json();w(e)}else w(I)}catch(e){w(I)}finally{M(!1)}};e();const r=setInterval(e,3e5);return()=>clearInterval(r)},[B]);const I={revenue:{current:28e5,previous:26e5,change:7.7},profit:{current:7e5,previous:58e4,change:20.7},margins:{current:25,previous:22.3,change:2.7},efficiency:{current:89.2,previous:85.4,change:3.8}},P=[{month:"Jan",revenue:24e5,profit:6e5,margin:25},{month:"Feb",revenue:22e5,profit:55e4,margin:25},{month:"Mar",revenue:28e5,profit:7e5,margin:25},{month:"Apr",revenue:32e5,profit:8e5,margin:25},{month:"May",revenue:29e5,profit:725e3,margin:25},{month:"Jun",revenue:31e5,profit:775e3,margin:25}],C=[{name:"Raw Materials",value:45,color:"#EF4444"},{name:"Labor",value:25,color:"#F59E0B"},{name:"Overhead",value:18,color:"#3B82F6"},{name:"Marketing",value:12,color:"#10B981"}];if(F)return e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/4 mb-4"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(4)].map((r,s)=>e.jsx("div",{className:"h-32 bg-gray-300 rounded"},s))})]})});const R=b,L=e=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),S=(r,s,t,a,n,i=!1,l=!1)=>{const d=s,c=n>0,o=l?L(t):i?`${t.toFixed(1)}%`:t.toLocaleString();return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:r}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o}),e.jsxs("div",{className:"flex items-center mt-2",children:[c?e.jsx(f,{className:"h-4 w-4 text-green-500"}):e.jsx(N,{className:"h-4 w-4 text-red-500"}),e.jsxs("span",{className:"ml-1 text-sm font-medium "+(c?"text-green-600":"text-red-600"),children:[Math.abs(n).toFixed(1),"%"]}),e.jsxs("span",{className:"ml-1 text-sm text-gray-500",children:["vs last ",B.slice(0,-2)]})]})]}),e.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-full",children:e.jsx(d,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Financial Analytics"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Comprehensive financial performance analysis and insights"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("select",{value:B,onChange:e=>A(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[S("Total Revenue",y,R.revenue.current,R.revenue.previous,R.revenue.change,!1,!0),S("Net Profit",j,R.profit.current,R.profit.previous,R.profit.change,!1,!0),S("Profit Margin",p,R.margins.current,R.margins.previous,R.margins.change,!0,!1),S("Efficiency Rate",v,R.efficiency.current,R.efficiency.previous,R.efficiency.change,!0,!1)]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Revenue Trend"}),e.jsx("div",{className:"h-64",children:e.jsx(s,{width:"100%",height:"100%",children:e.jsxs(t,{data:P,children:[e.jsx(a,{strokeDasharray:"3 3"}),e.jsx(n,{dataKey:"month"}),e.jsx(i,{}),e.jsx(l,{formatter:e=>L(e)}),e.jsx(d,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3,strokeWidth:2})]})})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Profit Analysis"}),e.jsx("div",{className:"h-64",children:e.jsx(s,{width:"100%",height:"100%",children:e.jsxs(c,{data:P,children:[e.jsx(a,{strokeDasharray:"3 3"}),e.jsx(n,{dataKey:"month"}),e.jsx(i,{}),e.jsx(l,{formatter:(e,r)=>["profit"===r?L(e):`${e}%`,"profit"===r?"Profit":"Margin"]}),e.jsx(o,{dataKey:"profit",fill:"#10B981",name:"profit"}),e.jsx(o,{dataKey:"margin",fill:"#F59E0B",name:"margin"})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Product Performance"}),e.jsx(g,{className:"h-5 w-5 text-gray-400"})]}),e.jsx("div",{className:"space-y-4",children:[{name:"Sentia Red Premium",revenue:12e5,margin:28,units:45e3},{name:"Sentia Gold Edition",revenue:95e4,margin:32,units:32e3},{name:"Sentia Blue Classic",revenue:65e4,margin:22,units:38e3},{name:"Limited Editions",revenue:4e5,margin:35,units:8e3}].map((r,s)=>e.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:r.name}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("span",{className:"text-xs text-gray-500",children:L(r.revenue)}),e.jsxs("span",{className:"text-xs text-green-600",children:[r.margin,"% margin"]})]}),e.jsx("div",{className:"flex items-center justify-between mt-1",children:e.jsxs("span",{className:"text-xs text-gray-500",children:[r.units.toLocaleString()," units"]})})]})},s))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Cost Breakdown"}),e.jsx(E,{className:"h-5 w-5 text-gray-400"})]}),e.jsx("div",{className:"h-48",children:e.jsx(s,{width:"100%",height:"100%",children:e.jsxs(m,{children:[e.jsx(x,{data:C,cx:"50%",cy:"50%",outerRadius:70,fill:"#8884d8",dataKey:"value",label:({name:e,percent:r})=>`${e} ${(100*r).toFixed(0)}%`,children:C.map((r,s)=>e.jsx(h,{fill:r.color},`cell-${s}`))}),e.jsx(l,{formatter:e=>`${e}%`})]})})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Key Insights"}),e.jsx(u,{className:"h-5 w-5 text-gray-400"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"h-4 w-4 text-green-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Revenue Growth"})]}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:"+7.7% increase this month driven by premium product sales"})]}),e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"h-4 w-4 text-blue-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Margin Improvement"})]}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Profit margins increased by 2.7 percentage points"})]}),e.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{className:"h-4 w-4 text-orange-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-orange-800 dark:text-orange-200",children:"Efficiency Gains"})]}),e.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300 mt-1",children:"Operational efficiency up 3.8% through process optimization"})]}),e.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"h-4 w-4 text-purple-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-purple-800 dark:text-purple-200",children:"Seasonal Trends"})]}),e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300 mt-1",children:"Q2 showing 15% higher demand vs historical averages"})]})]})]})]})]})};export{M as default};
