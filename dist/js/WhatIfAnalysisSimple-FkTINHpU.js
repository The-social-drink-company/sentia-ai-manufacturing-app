import{r as e,j as s,a9 as a,$ as t,aa as r,ab as l}from"./react-core-DkFbty9o.js";import{B as i,C as n,c,a as d,b as o}from"./AdminWebhooks-DypapV6H.js";import{bd as x,be as m,bf as h,bg as j}from"./vendor-CHbOot_X.js";import{c as u}from"./index-C8migC5L.js";import{R as p,B as f,C as g,X as y,Y as b,T as v,h as N,c as w,L as k,b as C}from"./charts-DxLx1lqX.js";import"./vendor-utils-BvmCeSbq.js";import"./ui-components-J4-_vVnI.js";import"./router-C0m1gglZ.js";import"./auth-M1VfQxmO.js";import"./forms-CtqjxpzJ.js";import"./animation-CTJwy-Vh.js";const P=e.forwardRef(({className:e,...a},t)=>s.jsxs(x,{ref:t,className:u("relative flex w-full touch-none select-none items-center",e),...a,children:[s.jsx(m,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(h,{className:"absolute h-full bg-primary"})}),s.jsx(j,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));P.displayName=x.displayName;const R=()=>{const[x,m]=e.useState({salesGrowth:10,priceIncrease:5,costReduction:8,inventoryTurnover:12,daysPayable:45,daysReceivable:30,marketShare:25,productionCapacity:75}),h=(()=>{const e=28e5,s=e*(1+x.salesGrowth/100)*(1+x.priceIncrease/100),a=196e4*(1-x.costReduction/100),t=s-a,r=t/s*100,l=s/365*(x.daysReceivable-x.daysPayable);return{revenue:s,cost:a,profit:t,margin:r,workingCapital:l,cashFlow:t-l,roi:t/e*100}})(),j=[{metric:"Revenue",current:28e5,projected:h.revenue,change:(h.revenue-28e5)/28e5*100},{metric:"Costs",current:196e4,projected:h.cost,change:(h.cost-196e4)/196e4*100},{metric:"Profit",current:84e4,projected:h.profit,change:(h.profit-84e4)/84e4*100},{metric:"Working Capital",current:23e4,projected:Math.abs(h.workingCapital),change:(Math.abs(h.workingCapital)-23e4)/23e4*100}],u=Array.from({length:12},(e,s)=>({month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][s],revenue:h.revenue/12*(1+.02*s),profit:h.profit/12*(1+.03*s)})),R=(e,s)=>{m(a=>({...a,[e]:s[0]}))},F=e=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),I=e=>`${e.toFixed(1)}%`;return s.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"What-If Analysis"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Adjust parameters to see projected business impact"})]}),s.jsx(i,{onClick:()=>{m({salesGrowth:10,priceIncrease:5,costReduction:8,inventoryTurnover:12,daysPayable:45,daysReceivable:30,marketShare:25,productionCapacity:75})},variant:"outline",children:"Reset Scenario"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(n,{children:s.jsx(c,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Projected Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:F(h.revenue)}),s.jsxs("p",{className:"text-sm mt-1 "+(h.revenue>28e5?"text-green-600":"text-red-600"),children:[h.revenue>28e5?"↑":"↓"," ",I((h.revenue-28e5)/28e5*100)]})]}),s.jsx(a,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(n,{children:s.jsx(c,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Projected Profit"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:F(h.profit)}),s.jsxs("p",{className:"text-sm mt-1 "+(h.profit>84e4?"text-green-600":"text-red-600"),children:[h.profit>84e4?"↑":"↓"," ",I((h.profit-84e4)/84e4*100)]})]}),s.jsx(t,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(n,{children:s.jsx(c,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Profit Margin"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:I(h.margin)}),s.jsx("p",{className:"text-sm mt-1 "+(h.margin>30?"text-green-600":"text-yellow-600"),children:h.margin>30?"Excellent":"Good"})]}),s.jsx(r,{className:"h-8 w-8 text-purple-500"})]})})}),s.jsx(n,{children:s.jsx(c,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cash Flow"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:F(h.cashFlow)}),s.jsx("p",{className:"text-sm mt-1 "+(h.cashFlow>0?"text-green-600":"text-red-600"),children:h.cashFlow>0?"Positive":"Negative"})]}),s.jsx(l,{className:"h-8 w-8 text-indigo-500"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(n,{children:[s.jsx(d,{children:s.jsx(o,{children:"Revenue Parameters"})}),s.jsxs(c,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Sales Growth"}),s.jsxs("span",{className:"text-sm font-bold",children:[x.salesGrowth,"%"]})]}),s.jsx(P,{value:[x.salesGrowth],onValueChange:e=>R("salesGrowth",e),min:-20,max:50,step:1,className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Price Increase"}),s.jsxs("span",{className:"text-sm font-bold",children:[x.priceIncrease,"%"]})]}),s.jsx(P,{value:[x.priceIncrease],onValueChange:e=>R("priceIncrease",e),min:-10,max:30,step:1,className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Market Share"}),s.jsxs("span",{className:"text-sm font-bold",children:[x.marketShare,"%"]})]}),s.jsx(P,{value:[x.marketShare],onValueChange:e=>R("marketShare",e),min:5,max:50,step:1,className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Production Capacity"}),s.jsxs("span",{className:"text-sm font-bold",children:[x.productionCapacity,"%"]})]}),s.jsx(P,{value:[x.productionCapacity],onValueChange:e=>R("productionCapacity",e),min:50,max:100,step:5,className:"w-full"})]})]})]}),s.jsxs(n,{children:[s.jsx(d,{children:s.jsx(o,{children:"Cost & Working Capital Parameters"})}),s.jsxs(c,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Cost Reduction"}),s.jsxs("span",{className:"text-sm font-bold",children:[x.costReduction,"%"]})]}),s.jsx(P,{value:[x.costReduction],onValueChange:e=>R("costReduction",e),min:0,max:25,step:1,className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Inventory Turnover"}),s.jsxs("span",{className:"text-sm font-bold",children:[x.inventoryTurnover,"x"]})]}),s.jsx(P,{value:[x.inventoryTurnover],onValueChange:e=>R("inventoryTurnover",e),min:4,max:24,step:1,className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Days Payable"}),s.jsxs("span",{className:"text-sm font-bold",children:[x.daysPayable," days"]})]}),s.jsx(P,{value:[x.daysPayable],onValueChange:e=>R("daysPayable",e),min:15,max:90,step:5,className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Days Receivable"}),s.jsxs("span",{className:"text-sm font-bold",children:[x.daysReceivable," days"]})]}),s.jsx(P,{value:[x.daysReceivable],onValueChange:e=>R("daysReceivable",e),min:15,max:90,step:5,className:"w-full"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(n,{children:[s.jsx(d,{children:s.jsx(o,{children:"Current vs Projected Metrics"})}),s.jsx(c,{children:s.jsx(p,{width:"100%",height:300,children:s.jsxs(f,{data:j,children:[s.jsx(g,{strokeDasharray:"3 3"}),s.jsx(y,{dataKey:"metric"}),s.jsx(b,{tickFormatter:e=>`£${(e/1e6).toFixed(1)}M`}),s.jsx(v,{formatter:e=>F(e)}),s.jsx(N,{}),s.jsx(w,{dataKey:"current",fill:"#8884d8",name:"Current"}),s.jsx(w,{dataKey:"projected",fill:"#82ca9d",name:"Projected"})]})})})]}),s.jsxs(n,{children:[s.jsx(d,{children:s.jsx(o,{children:"Monthly Projection"})}),s.jsx(c,{children:s.jsx(p,{width:"100%",height:300,children:s.jsxs(k,{data:u,children:[s.jsx(g,{strokeDasharray:"3 3"}),s.jsx(y,{dataKey:"month"}),s.jsx(b,{tickFormatter:e=>`£${(e/1e3).toFixed(0)}k`}),s.jsx(v,{formatter:e=>F(e)}),s.jsx(N,{}),s.jsx(C,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",name:"Revenue",strokeWidth:2}),s.jsx(C,{type:"monotone",dataKey:"profit",stroke:"#82ca9d",name:"Profit",strokeWidth:2})]})})})]})]}),s.jsxs(n,{children:[s.jsx(d,{children:s.jsx(o,{children:"Scenario Summary"})}),s.jsx(c,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Revenue Impact"}),s.jsx("p",{className:"text-lg font-bold",children:F(h.revenue-28e5)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Profit Impact"}),s.jsx("p",{className:"text-lg font-bold",children:F(h.profit-84e4)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"ROI"}),s.jsx("p",{className:"text-lg font-bold",children:I(h.roi)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Working Capital"}),s.jsx("p",{className:"text-lg font-bold",children:F(Math.abs(h.workingCapital))})]})]})})]})]})};export{R as default};
