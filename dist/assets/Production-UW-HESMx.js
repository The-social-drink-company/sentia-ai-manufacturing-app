import{r as x,j as e,aH as B,x as o,y as O,aK as Q,aE as L,I as Y,H as I,aL as q,aM as R,aN as C,aO as p,o as E,aP as M,C as F,J as K,ab as D,af as W,aI as H,aQ as G}from"./react-vendor-CbFVVgBZ.js";import{C as y}from"./ChartErrorBoundary-Dc94omeU.js";import{h as b,n as z,j as w,X as k,Y as P,T as S,B as T,m as u,o as X,q as J}from"./charts-Dbk9-C0f.js";import"./vendor-BHPHB5s9.js";import"./utils-Pe79r9Ua.js";function V(){const[l,j]=x.useState(new Date),[n,m]=x.useState({totalUnits:2847,targetUnits:3e3,efficiency:94.2,oeeScore:87.5,downtime:45,defectRate:.8});x.useEffect(()=>{const s=setInterval(()=>{j(new Date),m(d=>({...d,totalUnits:d.totalUnits+Math.floor(Math.random()*3),efficiency:Math.min(100,Math.max(85,d.efficiency+(Math.random()-.5)*2)),oeeScore:Math.min(100,Math.max(75,d.oeeScore+(Math.random()-.5)*1.5)),downtime:Math.max(0,d.downtime+(Math.random()>.8?Math.floor(Math.random()*5):0)),defectRate:Math.max(0,Math.min(5,d.defectRate+(Math.random()-.5)*.2))}))},2e3);return()=>clearInterval(s)},[]);const f=[{id:"LINE-01",name:"Assembly Line A",status:"running",output:847,target:900,efficiency:94.1,operators:8,shift:"Day Shift",lastMaintenance:"2 days ago"},{id:"LINE-02",name:"Assembly Line B",status:"running",output:823,target:850,efficiency:96.8,operators:6,shift:"Day Shift",lastMaintenance:"1 week ago"},{id:"LINE-03",name:"Quality Control",status:"maintenance",output:0,target:500,efficiency:0,operators:3,shift:"Day Shift",lastMaintenance:"In progress"},{id:"LINE-04",name:"Packaging Line",status:"running",output:1177,target:1250,efficiency:94.2,operators:4,shift:"Day Shift",lastMaintenance:"5 days ago"},{id:"LINE-05",name:"Testing Station",status:"idle",output:0,target:200,efficiency:0,operators:2,shift:"Day Shift",lastMaintenance:"3 days ago"}],g=s=>{switch(s){case"running":return"text-green-600 bg-green-100";case"idle":return"text-yellow-600 bg-yellow-100";case"maintenance":return"text-red-600 bg-red-100";case"error":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},N=s=>{switch(s){case"running":return e.jsx(R,{className:"w-4 h-4"});case"idle":return e.jsx(M,{className:"w-4 h-4"});case"maintenance":return e.jsx(p,{className:"w-4 h-4"});case"error":return e.jsx(E,{className:"w-4 h-4"});default:return e.jsx(C,{className:"w-4 h-4"})}},h=n.totalUnits/n.targetUnits*100;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(B,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Real-Time Production Monitor"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Live production data and line status"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Last updated"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:l.toLocaleTimeString()})]}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Output"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.totalUnits.toLocaleString()}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Target: ",n.targetUnits.toLocaleString()]})]}),e.jsx(o,{className:"w-8 h-8 text-blue-500"})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,h)}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[h.toFixed(1),"% of target"]})]})]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Efficiency"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[n.efficiency.toFixed(1),"%"]}),e.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[n.efficiency>90?e.jsx(O,{className:"w-3 h-3 text-green-500"}):e.jsx(Q,{className:"w-3 h-3 text-red-500"}),e.jsx("span",{className:"text-gray-500",children:"vs target 95%"})]})]}),e.jsx(L,{className:"w-8 h-8 text-green-500"})]})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"OEE Score"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[n.oeeScore.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Overall Equipment Effectiveness"})]}),e.jsx(Y,{className:"w-8 h-8 text-purple-500"})]})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Downtime"}),e.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[n.downtime,"m"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Today total"})]}),e.jsx(I,{className:"w-8 h-8 text-red-500"})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Production Lines Status"}),e.jsx("div",{className:"space-y-3",children:f.map(s=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:`px-3 py-1 rounded-full flex items-center space-x-2 ${g(s.status)}`,children:[N(s.status),e.jsx("span",{className:"text-sm font-medium capitalize",children:s.status})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.id," â€¢ ",s.shift]})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.output.toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-500",children:"Output"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.target.toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-500",children:"Target"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:`text-sm font-medium ${s.efficiency>90?"text-green-600":s.efficiency>75?"text-yellow-600":"text-red-600"}`,children:[s.efficiency.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Efficiency"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.operators}),e.jsx("p",{className:"text-xs text-gray-500",children:"Operators"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.lastMaintenance}),e.jsx("p",{className:"text-xs text-gray-500",children:"Last Maintenance"})]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[e.jsx("span",{children:"Progress to Target"}),e.jsxs("span",{children:[(s.output/s.target*100).toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${s.status==="running"?"bg-green-500":s.status==="idle"?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,s.output/s.target*100)}%`}})})]})]},s.id))})]}),e.jsx(y,{title:"Production Chart Error",children:e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Production Trend (Last 24 Hours)"}),e.jsx(q,{className:"w-5 h-5 text-gray-500"})]}),e.jsx("div",{className:"h-64 bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-600 dark:to-gray-500 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(o,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Production trend chart would be displayed here"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Showing hourly output data"})]})})]})}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:"Start Line",icon:R,color:"green"},{label:"Emergency Stop",icon:C,color:"red"},{label:"Schedule Maintenance",icon:p,color:"yellow"},{label:"View Reports",icon:o,color:"blue"}].map((s,d)=>e.jsxs("button",{className:`flex items-center justify-center space-x-2 p-3 rounded-lg border-2 border-dashed border-${s.color}-200 hover:border-${s.color}-400 hover:bg-${s.color}-50 dark:hover:bg-${s.color}-900/20 transition-all duration-200`,children:[e.jsx(s.icon,{className:`w-5 h-5 text-${s.color}-600`}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:s.label})]},d))})]})]})]})}const ie=()=>{const[l,j]=x.useState("realtime"),[n]=x.useState("all"),[m,f]=x.useState("today"),{data:g,isLoading:N,refetch:h}=F({queryKey:["production",_selectedLine,_timeRange],queryFn:async()=>{try{const t=await fetch(`/api/production/overview?line=${n}&range=${m}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok)return await t.json()}catch(t){console.error("Production API error:",t)}return $},staleTime:300*1e3,refetchInterval:1e4}),{data:s}=F({queryKey:["personnel-production"],queryFn:async()=>{try{const t=await fetch("/api/personnel/for-task/production_operator");if(t.ok)return(await t.json()).data||[]}catch(t){console.error("Error fetching personnel:",t)}return[]},staleTime:300*1e3}),d=(t=0)=>{if(s&&s.length>0){const a=s[t%s.length];return a.display_name||a.full_name||`${a.first_name} ${a.last_name}`}return"Production Operator"},A=(t=0)=>{if(s&&s.length>0){const a=s.filter(c=>c.role==="manager"||c.role==="admin");if(a.length>0){const c=a[t%a.length];return c.display_name||c.full_name||`${c.first_name} ${c.last_name}`}}return"Production Supervisor"},$={overview:{totalProduced:2847,targetProduction:3200,efficiency:89,oee:76.4,activeLines:4,totalLines:5,downtime:2.3,defectRate:1.2,currentShift:"Day Shift",shiftProgress:67.5},productionLines:[{id:"LINE_01",name:"Sentia Red Production",status:"running",currentProduct:"Sentia Red 500ml",batchNumber:"SR-2025-089",produced:1250,target:1500,efficiency:91.2,oee:82.1,startTime:"2025-09-08T06:00:00Z",estimatedCompletion:"2025-09-08T18:30:00Z",operator:d(0),lastMaintenance:"2025-09-07T22:00:00Z"},{id:"LINE_02",name:"Sentia Gold Production",status:"running",currentProduct:"Sentia Gold 500ml",batchNumber:"SG-2025-034",produced:890,target:1e3,efficiency:89,oee:79.3,startTime:"2025-09-08T07:15:00Z",estimatedCompletion:"2025-09-08T17:45:00Z",operator:d(1),lastMaintenance:"2025-09-06T20:00:00Z"},{id:"LINE_03",name:"Packaging Line A",status:"maintenance",currentProduct:null,batchNumber:null,produced:0,target:800,efficiency:0,oee:0,startTime:"2025-09-08T08:00:00Z",estimatedCompletion:"2025-09-08T10:00:00Z",operator:A(0),lastMaintenance:"2025-09-08T08:00:00Z"},{id:"LINE_04",name:"Quality Control Station",status:"running",currentProduct:"Mixed Products",batchNumber:"QC-2025-BATCH",produced:657,target:900,efficiency:73,oee:65.8,startTime:"2025-09-08T06:30:00Z",estimatedCompletion:"2025-09-08T19:00:00Z",operator:d(2),lastMaintenance:"2025-09-05T18:00:00Z"},{id:"LINE_05",name:"Secondary Packaging",status:"idle",currentProduct:null,batchNumber:null,produced:50,target:400,efficiency:12.5,oee:8.2,startTime:"2025-09-08T14:00:00Z",estimatedCompletion:null,operator:"Unassigned",lastMaintenance:"2025-09-04T16:00:00Z"}],hourlyProduction:[{hour:"06:00",produced:145,target:200,efficiency:72.5},{hour:"07:00",produced:189,target:200,efficiency:94.5},{hour:"08:00",produced:156,target:200,efficiency:78},{hour:"09:00",produced:198,target:200,efficiency:99},{hour:"10:00",produced:203,target:200,efficiency:101.5},{hour:"11:00",produced:195,target:200,efficiency:97.5},{hour:"12:00",produced:178,target:200,efficiency:89},{hour:"13:00",produced:201,target:200,efficiency:100.5},{hour:"14:00",produced:187,target:200,efficiency:93.5},{hour:"15:00",produced:199,target:200,efficiency:99.5},{hour:"16:00",produced:202,target:200,efficiency:101},{hour:"17:00",produced:194,target:200,efficiency:97}],productionByProduct:[{product:"Sentia Red",produced:1250,target:1500,percentage:83.3},{product:"Sentia Gold",produced:890,target:1e3,percentage:89},{product:"Sentia White",produced:457,target:500,percentage:91.4},{product:"Limited Edition",produced:250,target:200,percentage:125}],oeeBreakdown:[{metric:"Availability",value:94.2,target:95,color:"#10B981"},{metric:"Performance",value:87.5,target:90,color:"#F59E0B"},{metric:"Quality",value:92.8,target:95,color:"#3B82F6"}],downtimeEvents:[{id:"DT001",line:"LINE_03",reason:"Scheduled Maintenance",startTime:"2025-09-08T08:00:00Z",duration:120,category:"Planned",impact:"Medium",resolvedBy:"Maintenance Team"},{id:"DT002",line:"LINE_01",reason:"Material Shortage",startTime:"2025-09-08T10:30:00Z",duration:15,category:"Unplanned",impact:"Low",resolvedBy:"Production Team"},{id:"DT003",line:"LINE_04",reason:"Equipment Calibration",startTime:"2025-09-08T14:15:00Z",duration:45,category:"Quality",impact:"Medium",resolvedBy:"Quality Team"}],qualityMetrics:{defectRate:1.2,scrapRate:.8,reworkRate:2.1,firstPassYield:96.8,customerReturns:.04},shifts:[{shift:"Night Shift",time:"22:00 - 06:00",produced:1456,target:1600,efficiency:91,crew:8,status:"completed"},{shift:"Day Shift",time:"06:00 - 14:00",produced:2847,target:3200,efficiency:89,crew:12,status:"active"},{shift:"Evening Shift",time:"14:00 - 22:00",produced:0,target:3200,efficiency:0,crew:10,status:"upcoming"}]},_=t=>{switch(t){case"running":return e.jsx(R,{className:"h-5 w-5 text-green-500"});case"maintenance":return e.jsx(p,{className:"h-5 w-5 text-yellow-500"});case"idle":return e.jsx(M,{className:"h-5 w-5 text-gray-500"});case"error":return e.jsx(G,{className:"h-5 w-5 text-red-500"});default:return e.jsx(I,{className:"h-5 w-5 text-gray-500"})}},Z=t=>{switch(t){case"running":return"bg-green-100 text-green-800 border-green-200";case"maintenance":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"idle":return"bg-gray-100 text-gray-800 border-gray-200";case"error":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},v=t=>new Date(dateString).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),U=t=>{const a=Math.floor(t/60),c=t%60;return a>0?`${a}h ${c}m`:`${c}m`};if(N&&!g)return e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3 mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(8)].map((t,a)=>e.jsx("div",{className:"h-32 bg-gray-300 rounded"},i))})]})});const r=g||$;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Production Tracking & Control"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Real-time production monitoring and optimization"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:m,onChange:t=>f(t.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"})]}),e.jsxs("button",{onClick:()=>h(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(K,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Produced"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.overview.totalProduced.toLocaleString()}),e.jsxs("p",{className:"text-sm text-blue-600",children:[(r.overview.totalProduced/r.overview.targetProduction*100).toFixed(1),"% of target"]})]}),e.jsx(D,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Efficiency"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[r.overview.efficiency,"%"]}),e.jsx("p",{className:"text-sm text-green-600",children:"Above target (85%)"})]}),e.jsx(o,{className:"h-8 w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"OEE Score"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[r.overview.oee,"%"]}),e.jsx("p",{className:"text-sm text-yellow-600",children:"World-class: >85%"})]}),e.jsx(B,{className:"h-8 w-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Lines"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[r.overview.activeLines,"/",r.overview.totalLines]}),e.jsxs("p",{className:"text-sm text-green-600",children:[(r.overview.activeLines/r.overview.totalLines*100).toFixed(0),"% operational"]})]}),e.jsx(L,{className:"h-8 w-8 text-orange-600"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Defect Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[r.overview.defectRate,"%"]}),e.jsx("p",{className:"text-sm text-red-600",children:"Target: <1.0%"})]}),e.jsx(E,{className:"h-8 w-8 text-red-600"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"realtime",label:"Real-Time Monitor",icon:L},{id:"overview",label:"Production Overview",icon:o},{id:"lines",label:"Production Lines",icon:D},{id:"quality",label:"Quality Metrics",icon:W},{id:"downtime",label:"Downtime Analysis",icon:E},{id:"shifts",label:"Shift Management",icon:H}].map(t=>e.jsxs("button",{onClick:()=>j(t.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${l===t.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(t.icon,{className:"h-4 w-4"}),e.jsx("span",{children:t.label})]},t.id))})}),e.jsxs("div",{className:"p-6",children:[l==="realtime"&&e.jsx("div",{className:"space-y-6",children:e.jsx(V,{})}),l==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Hourly Production Performance"}),e.jsx("div",{className:"h-80",children:e.jsx(y,{children:e.jsx(b,{width:"100%",height:"100%",children:e.jsxs(z,{data:r.hourlyProduction,children:[e.jsx(w,{strokeDasharray:"3 3"}),e.jsx(k,{dataKey:"hour"}),e.jsx(P,{}),e.jsx(S,{}),e.jsx(T,{dataKey:"produced",fill:"#3B82F6",name:"Produced"}),e.jsx(u,{type:"monotone",dataKey:"target",stroke:"#EF4444",strokeWidth:2,name:"Target"}),e.jsx(u,{type:"monotone",dataKey:"efficiency",stroke:"#10B981",strokeWidth:2,name:"Efficiency %",yAxisId:"right"})]})})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"Production by Product"}),e.jsx("div",{className:"h-64",children:e.jsx(y,{children:e.jsx(b,{width:"100%",height:"100%",children:e.jsxs(X,{data:r.productionByProduct,children:[e.jsx(w,{strokeDasharray:"3 3"}),e.jsx(k,{dataKey:"product"}),e.jsx(P,{}),e.jsx(S,{}),e.jsx(T,{dataKey:"produced",fill:"#3B82F6",name:"Produced"}),e.jsx(T,{dataKey:"target",fill:"#F59E0B",name:"Target"})]})})})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"OEE Breakdown"}),e.jsx("div",{className:"space-y-4",children:r.oeeBreakdown.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.metric}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Target: ",t.target,"%"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full",style:{width:`${t.value/100*100}%`,backgroundColor:t.color}})}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white min-w-[3rem]",children:[t.value,"%"]})]})]},a))})]})]})]}),l==="lines"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Production Line Status"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:r.productionLines.map(t=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:_(t.status)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500",children:t.id})]})]}),e.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium border ${Z(t.status)}`,children:t.status})]}),t.currentProduct&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Current Product"}),e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.currentProduct})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Batch Number"}),e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.batchNumber})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Operator"}),e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.operator})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[t.produced.toLocaleString()," / ",t.target.toLocaleString()]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${t.status==="running"?"bg-green-600":"bg-gray-400"}`,style:{width:`${Math.min(t.produced/t.target*100,100)}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"Efficiency"}),e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[t.efficiency,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"OEE"}),e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[t.oee,"%"]})]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-gray-500",children:"Estimated Completion"}),e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.estimatedCompletion?v():"N/A"})]})]}),!t.currentProduct&&t.status==="maintenance"&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx(p,{className:"h-12 w-12 text-yellow-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Scheduled maintenance in progress"}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Last maintenance: ",v()]})]}),!t.currentProduct&&t.status==="idle"&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Production line idle"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Awaiting assignment"})]})]},t.id))})]}),l==="quality"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Quality Control Metrics"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:Object.entries(r.qualityMetrics).map(([t,a])=>e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[a,"%"]}),e.jsx("div",{className:"text-sm text-gray-500 capitalize",children:t.replace(/([A-Z])/g," $1").replace(/^./,c=>c.toUpperCase())}),e.jsx("div",{className:`text-xs mt-1 ${t==="firstPassYield"&&a>95||(t==="defectRate"||t==="scrapRate"||t==="reworkRate")&&a<2?"text-green-600":"text-yellow-600"}`,children:t==="firstPassYield"?a>95?"Excellent":"Needs improvement":a<2?"Within target":"Above target"})]})},t))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"Quality Trend (7 Days)"}),e.jsx("div",{className:"h-64",children:e.jsx(y,{children:e.jsx(b,{width:"100%",height:"100%",children:e.jsxs(J,{data:[{day:"Mon",defectRate:.9,firstPassYield:97.2},{day:"Tue",defectRate:1.1,firstPassYield:96.8},{day:"Wed",defectRate:.8,firstPassYield:97.5},{day:"Thu",defectRate:1.3,firstPassYield:96.1},{day:"Fri",defectRate:1,firstPassYield:97},{day:"Sat",defectRate:1.2,firstPassYield:96.8},{day:"Sun",defectRate:.7,firstPassYield:97.8}],children:[e.jsx(w,{strokeDasharray:"3 3"}),e.jsx(k,{dataKey:"day"}),e.jsx(P,{}),e.jsx(S,{}),e.jsx(u,{type:"monotone",dataKey:"defectRate",stroke:"#EF4444",name:"Defect Rate %"}),e.jsx(u,{type:"monotone",dataKey:"firstPassYield",stroke:"#10B981",name:"First Pass Yield %"})]})})})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"Quality Improvement Actions"}),e.jsx("div",{className:"space-y-3",children:[{action:"Calibrate Line 4 sensors",priority:"High",due:"Today",status:"In Progress"},{action:"Train operators on new QC procedures",priority:"Medium",due:"This Week",status:"Pending"},{action:"Review supplier quality specs",priority:"Low",due:"Next Week",status:"Scheduled"}].map((t,a)=>e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:t.action}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Due: ",t.due]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${t.priority==="High"?"bg-red-100 text-red-800":t.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:t.priority}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t.status})]})]})},a))})]})]})]}),l==="downtime"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Downtime Analysis & Events"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[r.overview.downtime,"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Downtime"}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Below target (5%)"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.downtimeEvents.filter(t=>t.category==="Planned").length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Planned Events"}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Scheduled maintenance"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.downtimeEvents.filter(t=>t.category==="Unplanned").length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Unplanned Events"}),e.jsx("div",{className:"text-xs text-red-600 mt-1",children:"Requires attention"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"Recent Downtime Events"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Line"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Reason"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Start Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Duration"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Impact"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Resolved By"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:r.downtimeEvents.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:t.line}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:t.reason}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:v()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:U(t.duration)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${t.category==="Planned"?"bg-blue-100 text-blue-800":t.category==="Unplanned"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:t.category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${t.impact==="High"?"bg-red-100 text-red-800":t.impact==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:t.impact})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:t.resolvedBy})]},t.id))})]})})]})]}),l==="shifts"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Shift Management & Performance"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:r.shifts.map((t,a)=>e.jsxs("div",{className:`rounded-lg p-6 border-2 ${t.status==="active"?"bg-blue-50 border-blue-200 dark:bg-blue-900/20":t.status==="completed"?"bg-green-50 border-green-200 dark:bg-green-900/20":"bg-gray-50 border-gray-200 dark:bg-gray-700"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:t.shift}),e.jsx("p",{className:"text-sm text-gray-500",children:t.time})]}),e.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${t.status==="active"?"bg-blue-100 text-blue-800":t.status==="completed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.status})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Production Progress"}),e.jsxs("span",{children:[t.produced.toLocaleString()," / ",t.target.toLocaleString()]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${t.status==="active"?"bg-blue-600":t.status==="completed"?"bg-green-600":"bg-gray-400"}`,style:{width:`${Math.min(t.produced/t.target*100,100)}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"Efficiency"}),e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[t.efficiency,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"Crew Size"}),e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[t.crew," people"]})]})]}),t.status==="active"&&e.jsxs("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-600",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Shift Progress"}),e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[r.overview.shiftProgress,"% complete"]})]})]})]},a))}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"Shift Performance Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.shifts.reduce((t,a)=>t+(a.status==="completed"?a.produced:0),0).toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-500",children:"Units Completed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[(r.shifts.reduce((t,a)=>t+(a.status==="completed"?a.efficiency:0),0)/r.shifts.filter(t=>t.status==="completed").length||0).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Avg Efficiency"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.shifts.reduce((t,a)=>t+a.crew,0)}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Workforce"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.shifts.filter(t=>t.status==="active").length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Active Shifts"})]})]})]})]})]})]})]})};export{ie as default};
