const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RegionalContributionChart-Daw9ugs2.js","assets/vendor-p3-iQ3F_.js","assets/charts-Dey77zvL.js","assets/KPIWidget-C0cRZQ-h.js","assets/index-B8mUr23Y.js","assets/data-layer-BkzdPwU9.js","assets/radix-DYNFt2S6.js","assets/router-Dxo6lio_.js","assets/index-CK1BSWy7.css","assets/ProductionMetrics-CF3bUvvH.js","assets/InventoryOverview-7oZkqSXM.js"])))=>i.map(i=>d[i]);
import{u as J,a as X,b as Y,c as Z,B as M,d as ee,C as u,e as j,f as b,g as f,h as N,_ as x}from"./index-B8mUr23Y.js";import{ab as e,aK as Q,b1 as se,b3 as te,r as d}from"./vendor-p3-iQ3F_.js";import"./data-layer-BkzdPwU9.js";import"./radix-DYNFt2S6.js";import"./router-Dxo6lio_.js";d.lazy(()=>x(()=>import("./RegionalContributionChart-Daw9ugs2.js"),__vite__mapDeps([0,1,2])));d.lazy(()=>x(()=>import("./KPIWidget-C0cRZQ-h.js"),__vite__mapDeps([3,4,1,5,6,7,8])));const ae=d.lazy(()=>x(()=>import("./ProductionMetrics-CF3bUvvH.js"),__vite__mapDeps([9,4,1,5,6,7,8])));d.lazy(()=>x(()=>import("./InventoryOverview-7oZkqSXM.js"),__vite__mapDeps([10,4,1,5,6,7,8])));const o=({error:t,componentName:i,hookName:n})=>e.jsx("div",{className:"min-h-screen bg-slate-900 p-6",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-red-900/20 border border-red-500 rounded-lg p-6",children:[e.jsx("h1",{className:"text-red-400 text-xl font-bold mb-4",children:"Dashboard Initialization Error"}),e.jsxs("div",{className:"space-y-4 text-slate-300",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Error:"})," ",(t==null?void 0:t.message)||"Unknown QueryClient error"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Component:"})," ",i]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Hook:"})," ",n]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Environment:"})," Development Mode"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Timestamp:"})," ",new Date().toISOString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"QueryClient Status:"})," Not Available"]}),e.jsxs("div",{className:"bg-slate-800 p-4 rounded border-l-4 border-yellow-500",children:[e.jsx("h3",{className:"text-yellow-400 font-semibold",children:"Troubleshooting Steps:"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Check if QueryClientProvider is properly wrapping the component"}),e.jsx("li",{children:"Verify React Query version compatibility"}),e.jsx("li",{children:"Ensure imports are using correct file extensions (.js not .jsx)"}),e.jsx("li",{children:"Check browser console for additional errors"}),e.jsx("li",{children:"Verify that the component is wrapped in the proper provider hierarchy"})]})]}),e.jsxs("div",{className:"bg-slate-800 p-4 rounded border-l-4 border-blue-500",children:[e.jsx("h3",{className:"text-blue-400 font-semibold",children:"Error Stack:"}),e.jsx("pre",{className:"text-xs mt-2 text-slate-400 overflow-x-auto",children:(t==null?void 0:t.stack)||"No stack trace available"})]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-white mr-4",children:"Reload Application"}),e.jsx("button",{onClick:()=>console.log("Error Details:",{error:t,componentName:i,hookName:n}),className:"bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded text-white",children:"Log Error Details"})]})]})})}),oe=()=>{var g,y,v,w,C,k,E,D,R,_,S,L;let t,i,n,c,q,a,B,G,m,h,p;try{const s=J();t=s.data,i=s.isLoading,n=s.error}catch(s){return console.error("[DashboardEnterprise] useDashboardSummary error:",s),e.jsx(o,{error:s,componentName:"DashboardEnterprise",hookName:"useDashboardSummary"})}try{const s=X();c=s.data,q=s.isLoading}catch(s){return console.error("[DashboardEnterprise] useWorkingCapital error:",s),e.jsx(o,{error:s,componentName:"DashboardEnterprise",hookName:"useWorkingCapital"})}try{const s=Y();a=s.data,B=s.isLoading}catch(s){return console.error("[DashboardEnterprise] useAnalyticsKPIs error:",s),e.jsx(o,{error:s,componentName:"DashboardEnterprise",hookName:"useAnalyticsKPIs"})}try{const s=Z();G=s.connectionStatus,m=s.isConnected,h=s.refreshAll,p=s.lastUpdate}catch(s){return console.error("[DashboardEnterprise] useRealtimeUpdates error:",s),e.jsx(o,{error:s,componentName:"DashboardEnterprise",hookName:"useRealtimeUpdates"})}const l=s=>s?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(s):"$0",r=s=>s?`${s.toFixed(1)}%`:"0%",H=(()=>{var s,P,A,O,I,T,U,z,F,K,$,V,W;return t?[{label:"Global working capital",value:l((s=t.workingCapital)==null?void 0:s.current),helper:`Ratio: ${((A=(P=t.workingCapital)==null?void 0:P.ratio)==null?void 0:A.toFixed(2))||"0.00"}`,trend:((O=t.workingCapital)==null?void 0:O.current)>0?"up":"neutral"},{label:"Monthly Revenue",value:l((I=t.revenue)==null?void 0:I.monthly),helper:`Growth: ${r((T=t.revenue)==null?void 0:T.growth)}`,trend:((U=t.revenue)==null?void 0:U.growth)>0?"up":"down"},{label:"Production Efficiency",value:r((z=t.production)==null?void 0:z.efficiency),helper:`OEE: ${r((F=t.production)==null?void 0:F.oeeScore)}`,trend:((K=t.production)==null?void 0:K.efficiency)>85?"up":"neutral"},{label:"Inventory Value",value:l(($=t.inventory)==null?void 0:$.value),helper:`${((V=t.inventory)==null?void 0:V.lowStock)||0} items low stock`,trend:((W=t.inventory)==null?void 0:W.lowStock)>5?"down":"up"}]:[]})();return i?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading enterprise dashboard..."})]})}):n?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load dashboard data"}),e.jsxs(M,{onClick:h,variant:"outline",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Retry"]})]})}):e.jsxs("section",{className:"space-y-6",children:[e.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-white",children:"Enterprise Dashboard"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Real-time manufacturing intelligence and performance analytics"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-lg bg-slate-800 border border-slate-700",children:[m?e.jsx(se,{className:"w-4 h-4 text-green-400"}):e.jsx(te,{className:"w-4 h-4 text-red-400"}),e.jsx("span",{className:"text-xs text-slate-300",children:m?"Live":"Offline"})]}),e.jsx(ee,{variant:"outline",className:`${(t==null?void 0:t.dataSource)==="fallback-offline"?"border-yellow-500 text-yellow-400":"border-green-500 text-green-400"}`,children:(t==null?void 0:t.dataSource)==="fallback-offline"?"Offline Mode":"Live Data"}),e.jsxs(M,{onClick:h,variant:"outline",size:"sm",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),e.jsxs(u,{className:"bg-slate-900 border-slate-800",children:[e.jsxs(j,{children:[e.jsx(b,{className:"text-white",children:"Key Performance Indicators"}),e.jsxs(f,{className:"text-slate-400",children:["Real-time metrics updated every 30 seconds",p&&e.jsxs("span",{className:"ml-2 text-xs",children:["Last update: ",p.timestamp.toLocaleTimeString()]})]})]}),e.jsx(N,{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:H.map(s=>e.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800/50 p-4",children:[e.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:s.label}),e.jsx("p",{className:"text-lg font-semibold text-white",children:s.value}),e.jsx("p",{className:"text-xs text-slate-500",children:s.helper})]},s.label))})]}),e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"h-64 bg-slate-900 border border-slate-800 rounded-lg flex items-center justify-center",children:"Loading production metrics..."}),children:e.jsx(ae,{data:t})}),c&&e.jsxs(u,{className:"bg-slate-900 border-slate-800",children:[e.jsxs(j,{children:[e.jsx(b,{className:"text-white",children:"Working Capital Overview"}),e.jsx(f,{className:"text-slate-400",children:"Financial liquidity and cash flow management"})]}),e.jsx(N,{children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Current Assets"}),e.jsx("p",{className:"text-2xl font-bold text-green-400",children:l((g=c.latest)==null?void 0:g.currentAssets)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Current Liabilities"}),e.jsx("p",{className:"text-2xl font-bold text-red-400",children:l((y=c.latest)==null?void 0:y.currentLiabilities)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Working Capital"}),e.jsx("p",{className:"text-2xl font-bold text-blue-400",children:l((v=c.latest)==null?void 0:v.workingCapital)})]})]})})]}),a&&e.jsxs(u,{className:"bg-slate-900 border-slate-800",children:[e.jsxs(j,{children:[e.jsx(b,{className:"text-white",children:"Analytics Summary"}),e.jsx(f,{className:"text-slate-400",children:"Performance metrics and efficiency indicators"})]}),e.jsx(N,{children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400 mb-2",children:"Revenue Performance"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white",children:"Current"}),e.jsx("span",{className:"text-green-400",children:l((w=a.revenue)==null?void 0:w.value)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Target"}),e.jsx("span",{className:"text-slate-300",children:l((C=a.revenue)==null?void 0:C.target)})]}),e.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Math.min(100,(((k=a.revenue)==null?void 0:k.achievement)||0)*100)}%`}})})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400 mb-2",children:"Operational Efficiency"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white",children:"OEE"}),e.jsx("span",{className:"text-blue-400",children:r(((E=a.efficiency)==null?void 0:E.oee)*100)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white",children:"Utilization"}),e.jsx("span",{className:"text-blue-400",children:r(((D=a.efficiency)==null?void 0:D.utilization)*100)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white",children:"Productivity"}),e.jsx("span",{className:"text-blue-400",children:r(((R=a.efficiency)==null?void 0:R.productivity)*100)})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400 mb-2",children:"Quality Metrics"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white",children:"Defect Rate"}),e.jsx("span",{className:"text-yellow-400",children:r(((_=a.quality)==null?void 0:_.defectRate)*100)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white",children:"Customer Satisfaction"}),e.jsx("span",{className:"text-green-400",children:r(((S=a.quality)==null?void 0:S.customerSatisfaction)*100)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white",children:"On-Time Delivery"}),e.jsx("span",{className:"text-green-400",children:r(((L=a.quality)==null?void 0:L.onTimeDelivery)*100)})]})]})]})]})})]})]})};export{oe as default};
