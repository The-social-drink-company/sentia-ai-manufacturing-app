import{a,e,aG as n,aH as s,aI as i,aJ as t,av as r,aK as o,at as c,aL as l,aM as u,aN as m,aO as d}from"./chunk-SRh8dkRL.js";import{D as f}from"./chunk-E_h9yjlz.js";import{C as h}from"./chunk-Bcr4iqHm.js";import{R as b,g as N,h as g,X as y,Y as v,j,k as x,l as p,m as D}from"./chunk-Di4DTUu4.js";import"./chunk--Hr70hxL.js";import"./chunk-BHpcy1DP.js";import"./chunk-BfA8HdBv.js";import"./chunk-BDHSdOv1.js";import"./chunk-BPKxMKbT.js";import"./chunk-Dozjk7Op.js";const C=()=>{const[d]=a.useState(()=>new f),[C]=a.useState(()=>new h),[W,A]=a.useState({rawMaterials:{availability:85,deliveryTime:14,costVariation:0,bufferStock:20},manufacturing:{capacity:80,efficiency:92,overtime:0,downtime:5},inventory:{finishedGoods:30,rawMaterials:21,workInProcess:7,safetyStock:15},sales:{ukGrowth:8,usGrowth:12,euGrowth:5,seasonality:15,newProducts:0},finance:{interestRate:4.5,paymentTerms:30,collectionPeriod:45,payablesPeriod:60,cashReserve:10}}),[w]=a.useState({uk:{revenue:125e5,growth:8,margin:22,risk:"Low"},us:{revenue:182e5,growth:12,margin:25,risk:"Medium"},eu:{revenue:98e5,growth:5,margin:18,risk:"Low"}}),k=a.useMemo(()=>{const{rawMaterials:a,manufacturing:e,inventory:n,sales:s,finance:i}=W;try{const t=d.getCurrentContext(),r={targetDSO:i.collectionPeriod,targetDPO:i.payablesPeriod,targetDIO:(n.finishedGoods+n.rawMaterials+n.workInProcess)/3,creditTerms:{net15:.1,net30:i.collectionPeriod<=30?.6:.4,net45:i.collectionPeriod>30?.4:.2,net60:i.collectionPeriod>45?.3:.1}},o=new h(r).calculateCashConversionCycle({annualRevenue:w.uk.revenue+w.us.revenue+w.eu.revenue,annualCOGS:.65*(w.uk.revenue+w.us.revenue+w.eu.revenue)}),c=d.seasonalPatterns.getBusinessSeasonality(t.currentMonth,t.currentQuarter),l=w.uk.revenue*(1+s.ukGrowth/100)*c+w.us.revenue*(1+s.usGrowth/100)*c+w.eu.revenue*(1+s.euGrowth/100)*c,u=e.capacity/100,m=e.efficiency/100,f=(100-e.downtime)/100,b=Math.min(1,u*m*f),N=l*b,g=o.balanceSheetItems.receivables+o.balanceSheetItems.inventory-o.balanceSheetItems.payables,y=(100-a.availability)/100,v=(y+Math.max(0,(a.deliveryTime-7)/30))/2,j=g*(i.interestRate/100),x=s.seasonality/100,p=([10,11,12].includes(t.currentMonth),g*(1+x)),D=g*(1-x/2),C=b>.95?.8:b<.7?.6:.3,M=Math.min(100,100*(40*v+30*C+i.interestRate/12*30));return{projectedRevenue:Math.round(N),workingCapital:Math.round(g),seasonalPeak:Math.round(p),seasonalTrough:Math.round(D),interestCost:Math.round(j),inventoryValue:Math.round(o.balanceSheetItems.inventory),receivablesValue:Math.round(o.balanceSheetItems.receivables),payablesValue:Math.round(o.balanceSheetItems.payables),actualCapacity:Math.round(100*b),rawMaterialRisk:Math.round(100*v),overallRisk:Math.round(M),cashConversionCycle:o.cashConversionCycle,cccComponents:o.components,seasonalMultiplier:Math.round(100*c)/100,businessContext:t,recommendations:V(W,{workingCapital:g,actualCapacity:b,supplychainRisk:v,cccResults:o,context:t})}}catch(t){return E(W,w)}},[W,w,d,C]),R=a.useMemo(()=>{const a=[],e=k.workingCapital;for(let n=0;n<12;n++){const s=1+W.sales.seasonality/100*Math.sin(n*Math.PI*2/12+Math.PI/2);a.push({month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n],workingCapital:Math.round(e*s),cashFlow:Math.round(k.projectedRevenue/12*s-k.interestCost/12*s),inventory:Math.round(k.inventoryValue*s),receivables:Math.round(k.receivablesValue*s)})}return a},[k,W]),$=a.useCallback((a,e,n)=>{A(s=>({...s,[a]:{...s[a],[e]:n}}))},[]);return e.jsxDEV("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxDEV("div",{className:"max-w-7xl mx-auto",children:[e.jsxDEV("div",{className:"mb-8",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[e.jsxDEV(n,{className:"w-8 h-8 mr-3 text-blue-600"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:206,columnNumber:17},void 0),"What-If Analysis"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:205,columnNumber:15},void 0),e.jsxDEV("p",{className:"mt-2 text-gray-600",children:"Interactive working capital optimization for UK, US, and EU markets"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:209,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:204,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center space-x-4",children:e.jsxDEV("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[e.jsxDEV("div",{className:"text-sm text-gray-500",children:"Total Working Capital"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:215,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-2xl font-bold text-gray-900",children:["$",(k.workingCapital/1e6).toFixed(1),"M"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:216,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:214,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:213,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:203,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:202,columnNumber:9},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxDEV(M,{title:"Projected Revenue",value:`$${(k.projectedRevenue/1e6).toFixed(1)}M`,change:"vs current year",trend:"up",icon:e.jsxDEV(s,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:231,columnNumber:19},void 0),color:"green"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:226,columnNumber:11},void 0),e.jsxDEV(M,{title:"Seasonal Peak WC",value:`$${(k.seasonalPeak/1e6).toFixed(1)}M`,change:`+${W.sales.seasonality}% seasonal`,trend:"up",icon:e.jsxDEV(i,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:239,columnNumber:19},void 0),color:"orange"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:234,columnNumber:11},void 0),e.jsxDEV(M,{title:"Interest Cost",value:`$${(k.interestCost/1e3).toFixed(0)}K`,change:`@ ${W.finance.interestRate}% rate`,trend:"neutral",icon:e.jsxDEV(t,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:247,columnNumber:19},void 0),color:"blue"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:242,columnNumber:11},void 0),e.jsxDEV(M,{title:"Capacity Utilization",value:`${k.actualCapacity}%`,change:"effective capacity",trend:k.actualCapacity>95?"up":"neutral",icon:e.jsxDEV(r,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:255,columnNumber:19},void 0),color:k.actualCapacity>95?"red":"blue"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:250,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:225,columnNumber:9},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxDEV("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxDEV(S,{title:"Raw Materials & Supply Chain",icon:e.jsxDEV(o,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:266,columnNumber:21},void 0),children:[e.jsxDEV(P,{label:"Material Availability",value:W.rawMaterials.availability,onChange:a=>$("rawMaterials","availability",a),min:50,max:100,suffix:"%",description:"Supplier reliability and material availability"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:268,columnNumber:15},void 0),e.jsxDEV(P,{label:"Delivery Lead Time",value:W.rawMaterials.deliveryTime,onChange:a=>$("rawMaterials","deliveryTime",a),min:7,max:60,suffix:" days",description:"Average delivery time from suppliers"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:277,columnNumber:15},void 0),e.jsxDEV(P,{label:"Cost Variation",value:W.rawMaterials.costVariation,onChange:a=>$("rawMaterials","costVariation",a),min:-20,max:30,suffix:"%",description:"Expected change in raw material costs"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:286,columnNumber:15},void 0),e.jsxDEV(P,{label:"Buffer Stock Level",value:W.rawMaterials.bufferStock,onChange:a=>$("rawMaterials","bufferStock",a),min:0,max:50,suffix:"%",description:"Safety stock as % of normal inventory"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:295,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:264,columnNumber:13},void 0),e.jsxDEV(S,{title:"Manufacturing Operations",icon:e.jsxDEV(c,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:309,columnNumber:21},void 0),children:[e.jsxDEV(P,{label:"Capacity Utilization",value:W.manufacturing.capacity,onChange:a=>$("manufacturing","capacity",a),min:50,max:100,suffix:"%",description:"Percentage of maximum production capacity"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:311,columnNumber:15},void 0),e.jsxDEV(P,{label:"Manufacturing Efficiency",value:W.manufacturing.efficiency,onChange:a=>$("manufacturing","efficiency",a),min:70,max:100,suffix:"%",description:"Overall equipment effectiveness (OEE)"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:320,columnNumber:15},void 0),e.jsxDEV(P,{label:"Overtime Hours",value:W.manufacturing.overtime,onChange:a=>$("manufacturing","overtime",a),min:0,max:40,suffix:"%",description:"Overtime as % of regular hours"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:329,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:307,columnNumber:13},void 0),e.jsxDEV(S,{title:"Inventory Management",icon:e.jsxDEV(o,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:343,columnNumber:21},void 0),children:[e.jsxDEV(P,{label:"Finished Goods Inventory",value:W.inventory.finishedGoods,onChange:a=>$("inventory","finishedGoods",a),min:7,max:90,suffix:" days",description:"Days of finished goods inventory"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:345,columnNumber:15},void 0),e.jsxDEV(P,{label:"Raw Materials Inventory",value:W.inventory.rawMaterials,onChange:a=>$("inventory","rawMaterials",a),min:7,max:60,suffix:" days",description:"Days of raw materials inventory"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:354,columnNumber:15},void 0),e.jsxDEV(P,{label:"Safety Stock Level",value:W.inventory.safetyStock,onChange:a=>$("inventory","safetyStock",a),min:5,max:40,suffix:"%",description:"Safety stock as % of normal inventory"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:363,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:341,columnNumber:13},void 0),e.jsxDEV(S,{title:"Sales Projections by Market",icon:e.jsxDEV(i,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:377,columnNumber:21},void 0),children:[e.jsxDEV(P,{label:"UK Market Growth",value:W.sales.ukGrowth,onChange:a=>$("sales","ukGrowth",a),min:-10,max:25,suffix:"%",description:"Expected growth in UK market"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:379,columnNumber:15},void 0),e.jsxDEV(P,{label:"US Market Growth",value:W.sales.usGrowth,onChange:a=>$("sales","usGrowth",a),min:-10,max:30,suffix:"%",description:"Expected growth in US market"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:388,columnNumber:15},void 0),e.jsxDEV(P,{label:"EU Market Growth",value:W.sales.euGrowth,onChange:a=>$("sales","euGrowth",a),min:-15,max:20,suffix:"%",description:"Expected growth in EU market"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:397,columnNumber:15},void 0),e.jsxDEV(P,{label:"Seasonal Variation",value:W.sales.seasonality,onChange:a=>$("sales","seasonality",a),min:0,max:50,suffix:"%",description:"Peak season vs. normal sales"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:406,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:375,columnNumber:13},void 0),e.jsxDEV(S,{title:"Financial Parameters",icon:e.jsxDEV(s,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:420,columnNumber:21},void 0),children:[e.jsxDEV(P,{label:"Borrowing Interest Rate",value:W.finance.interestRate,onChange:a=>$("finance","interestRate",a),min:1,max:12,suffix:"%",step:.1,description:"Cost of borrowing working capital"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:422,columnNumber:15},void 0),e.jsxDEV(P,{label:"Customer Payment Terms",value:W.finance.collectionPeriod,onChange:a=>$("finance","collectionPeriod",a),min:15,max:90,suffix:" days",description:"Average customer payment period"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:432,columnNumber:15},void 0),e.jsxDEV(P,{label:"Supplier Payment Terms",value:W.finance.payablesPeriod,onChange:a=>$("finance","payablesPeriod",a),min:15,max:120,suffix:" days",description:"Payment terms with suppliers"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:441,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:418,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:262,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsxDEV(l,{className:"w-5 h-5 mr-2 text-blue-600"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:458,columnNumber:17},void 0),"Working Capital Components"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:457,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsxDEV("span",{className:"text-sm font-medium text-green-900",children:"Inventory"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:463,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-lg font-bold text-green-900",children:["$",(k.inventoryValue/1e6).toFixed(1),"M"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:464,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:462,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsxDEV("span",{className:"text-sm font-medium text-blue-900",children:"Receivables"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:469,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-lg font-bold text-blue-900",children:["$",(k.receivablesValue/1e6).toFixed(1),"M"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:470,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:468,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg",children:[e.jsxDEV("span",{className:"text-sm font-medium text-red-900",children:"Payables"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:475,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-lg font-bold text-red-900",children:["-$",(k.payablesValue/1e6).toFixed(1),"M"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:476,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:474,columnNumber:17},void 0),e.jsxDEV("div",{className:"border-t pt-3",children:e.jsxDEV("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxDEV("span",{className:"text-sm font-bold text-gray-900",children:"Net Working Capital"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:482,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-xl font-bold text-gray-900",children:["$",(k.workingCapital/1e6).toFixed(1),"M"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:483,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:481,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:480,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:461,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:456,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsxDEV(u,{className:"w-5 h-5 mr-2 text-orange-600"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:494,columnNumber:17},void 0),"Risk Assessment"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:493,columnNumber:15},void 0),e.jsxDEV(I,{label:"Overall Risk",level:k.overallRisk},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:497,columnNumber:15},void 0),e.jsxDEV(I,{label:"Supply Chain Risk",level:k.rawMaterialRisk},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:501,columnNumber:15},void 0),e.jsxDEV(I,{label:"Capacity Risk",level:k.actualCapacity>95?85:25},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:505,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:492,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsxDEV(m,{className:"w-5 h-5 mr-2 text-green-600"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:514,columnNumber:17},void 0),"Recommendations"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:513,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-3",children:k.recommendations.map((a,n)=>e.jsxDEV("div",{className:"p-3 rounded-lg text-sm "+("high"===a.priority?"bg-red-50 border border-red-200":"medium"===a.priority?"bg-yellow-50 border border-yellow-200":"bg-blue-50 border border-blue-200"),children:[e.jsxDEV("div",{className:"font-medium mb-1",children:a.title},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:524,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-gray-600",children:a.description},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:525,columnNumber:21},void 0)]},n,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:519,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:517,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:512,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:454,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:260,columnNumber:9},void 0),e.jsxDEV("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:"Seasonal Working Capital Requirements"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:537,columnNumber:13},void 0),e.jsxDEV(b,{width:"100%",height:300,children:e.jsxDEV(N,{data:R,children:[e.jsxDEV(g,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:540,columnNumber:17},void 0),e.jsxDEV(y,{dataKey:"month"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:541,columnNumber:17},void 0),e.jsxDEV(v,{tickFormatter:a=>`$${(a/1e6).toFixed(1)}M`},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:542,columnNumber:17},void 0),e.jsxDEV(j,{formatter:a=>[`$${(a/1e6).toFixed(1)}M`,"Working Capital"]},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:543,columnNumber:17},void 0),e.jsxDEV(x,{type:"monotone",dataKey:"workingCapital",stroke:"#3B82F6",fill:"#93C5FD",strokeWidth:2},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:544,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:539,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:538,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:536,columnNumber:11},void 0),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:"Monthly Cash Flow Projection"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:557,columnNumber:13},void 0),e.jsxDEV(b,{width:"100%",height:300,children:e.jsxDEV(p,{data:R,children:[e.jsxDEV(g,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:560,columnNumber:17},void 0),e.jsxDEV(y,{dataKey:"month"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:561,columnNumber:17},void 0),e.jsxDEV(v,{tickFormatter:a=>`$${(a/1e6).toFixed(1)}M`},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:562,columnNumber:17},void 0),e.jsxDEV(j,{formatter:a=>[`$${(a/1e6).toFixed(1)}M`]},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:563,columnNumber:17},void 0),e.jsxDEV(D,{type:"monotone",dataKey:"cashFlow",stroke:"#10B981",strokeWidth:2,dot:{fill:"#10B981",strokeWidth:2,r:4}},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:564,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:559,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:558,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:556,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:534,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:200,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:199,columnNumber:5},void 0)},M=({title:a,value:n,change:s,trend:t,icon:r,color:o})=>e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("h3",{className:"text-sm font-medium text-gray-500",children:a},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:592,columnNumber:9},void 0),e.jsxDEV("div",{className:`p-2 rounded-lg ${{green:"bg-green-50 text-green-600",red:"bg-red-50 text-red-600",blue:"bg-blue-50 text-blue-600",orange:"bg-orange-50 text-orange-600"}[o]}`,children:r},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:593,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:591,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex items-end justify-between",children:e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-2xl font-bold text-gray-900",children:n},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:599,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center mt-1",children:["up"===t&&e.jsxDEV(i,{className:"w-4 h-4 text-green-500"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:601,columnNumber:32},void 0),"down"===t&&e.jsxDEV(d,{className:"w-4 h-4 text-red-500"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:602,columnNumber:34},void 0),e.jsxDEV("span",{className:"text-sm text-gray-500 ml-1",children:s},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:603,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:600,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:598,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:597,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:590,columnNumber:5},void 0),S=({title:a,icon:n,children:s})=>e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold mb-4 flex items-center text-gray-900",children:[e.jsxDEV("span",{className:"text-blue-600 mr-2",children:n},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:614,columnNumber:7},void 0),a]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:613,columnNumber:5},void 0),e.jsxDEV("div",{className:"space-y-4",children:s},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:617,columnNumber:5},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:612,columnNumber:3},void 0),P=({label:a,value:n,onChange:s,min:i,max:t,suffix:r="",step:o=1,description:c})=>e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-700",children:a},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:626,columnNumber:7},void 0),e.jsxDEV("span",{className:"text-sm font-bold text-blue-600",children:[n,r]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:627,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:625,columnNumber:5},void 0),e.jsxDEV("input",{type:"range",min:i,max:t,step:o,value:n,onChange:a=>s(parseFloat(a.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:631,columnNumber:5},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500",children:c},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:640,columnNumber:5},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:624,columnNumber:3},void 0),I=({label:a,level:n})=>{return e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("div",{className:"flex justify-between text-sm font-medium text-gray-700 mb-1",children:[e.jsxDEV("span",{children:a},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:660,columnNumber:9},void 0),e.jsxDEV("span",{children:(s=n,s<=30?"Low":s<=60?"Medium":"High")},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:661,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:659,columnNumber:7},void 0),e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsxDEV("div",{className:`h-2 rounded-full ${(a=>a<=30?"bg-green-500":a<=60?"bg-yellow-500":"bg-red-500")(n)}`,style:{width:`${n}%`}},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:664,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:663,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/analytics/WhatIfAnalysis.jsx",lineNumber:658,columnNumber:5},void 0);var s},V=(a,e)=>{const{workingCapital:n,actualCapacity:s,cccResults:i,context:t}=e,r=[];return i&&i.cashConversionCycle>(i.benchmarks?.targetCCC||45)+10&&r.push({type:"cash-conversion",priority:"high",message:`CCC of ${i.cashConversionCycle.toFixed(1)} days exceeds target`,impact:`Potential cash release: £${Math.round(4e7*(i.cashConversionCycle-45)/365).toLocaleString()}`}),t&&[9,10].includes(t.currentMonth)&&r.push({type:"seasonal",priority:"medium",message:"Q4 peak season approaching. Ensure adequate credit facilities.",impact:`Additional WC needed: £${Math.round(.2*n).toLocaleString()}`}),s>95&&t&&[10,11,12].includes(t.currentMonth)&&r.push({type:"capacity",priority:"high",message:"Peak season capacity constraint detected.",impact:"Revenue at risk during peak demand period"}),r},E=(a,e)=>{const{rawMaterials:n,manufacturing:s,sales:i,finance:t}=a,r=(e.uk.revenue+e.us.revenue+e.eu.revenue)*(1+i.ukGrowth/200),o=Math.min(100,s.capacity*s.efficiency/100),c=.25*r;return{projectedRevenue:Math.round(r),workingCapital:Math.round(c),seasonalPeak:Math.round(1.2*c),seasonalTrough:Math.round(.8*c),interestCost:Math.round(c*t.interestRate/100),inventoryValue:Math.round(.4*c),receivablesValue:Math.round(.35*c),payablesValue:Math.round(.25*c),actualCapacity:Math.round(o),rawMaterialRisk:Math.round(100-n.availability),overallRisk:50,cashConversionCycle:45,cccComponents:{dso:30,dio:35,dpo:20},seasonalMultiplier:1,businessContext:{currentDate:(new Date).toISOString().split("T")[0]},recommendations:[{type:"fallback",priority:"medium",message:"Using simplified calculations. Full calendar analysis unavailable.",impact:"Limited scenario accuracy"}]}};export{C as default};
