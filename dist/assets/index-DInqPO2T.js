import{j as e,S as a,R as s,r,a as t,T as n,b as i,c as l,d as o,D as c,e as d,C as u,f as h,g as x,h as m,i as p,k as g,l as v,m as f}from"./react-Bistw5it.js";import{t as j,c as b,a as y}from"./vendor-CncijY0C.js";import"./ui-Dozjk7Op.js";function N(...e){return j(b(e))}function C({className:a,...s}){return e.jsx("div",{"data-slot":"card",className:N("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...s})}function w({className:a,...s}){return e.jsx("div",{"data-slot":"card-header",className:N("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...s})}function k({className:a,...s}){return e.jsx("div",{"data-slot":"card-title",className:N("leading-none font-semibold",a),...s})}function D({className:a,...s}){return e.jsx("div",{"data-slot":"card-description",className:N("text-muted-foreground text-sm",a),...s})}function S({className:a,...s}){return e.jsx("div",{"data-slot":"card-content",className:N("px-6",a),...s})}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const z=y("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function A({className:s,variant:r,size:t,asChild:n=!1,...i}){const l=n?a:"button";return e.jsx(l,{"data-slot":"button",className:N(z({variant:r,size:t,className:s})),...i})}function R({className:a,type:s,...r}){return e.jsx("input",{type:s,"data-slot":"input",className:N("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...r})}function E({className:a,...r}){return e.jsx(s,{"data-slot":"label",className:N("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...r})}function I({className:a,defaultValue:s,value:o,min:c=0,max:d=100,...u}){const h=r.useMemo(()=>Array.isArray(o)?o:Array.isArray(s)?s:[c,d],[o,s,c,d]);return e.jsxs(t,{"data-slot":"slider",defaultValue:s,value:o,min:c,max:d,className:N("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",a),...u,children:[e.jsx(n,{"data-slot":"slider-track",className:N("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:e.jsx(i,{"data-slot":"slider-range",className:N("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:h.length},(a,s)=>e.jsx(l,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},s))]})}const L=y("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function M({className:s,variant:r,asChild:t=!1,...n}){const i=t?a:"span";return e.jsx(i,{"data-slot":"badge",className:N(L({variant:r}),s),...n})}function P({className:a,orientation:s="horizontal",decorative:r=!0,...t}){return e.jsx(o,{"data-slot":"separator-root",decorative:r,orientation:s,className:N("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...t})}const O=()=>{const[a,s]=r.useState({annualRevenue:25e5,averageDebtorDays:45,averageCreditorDays:30,currentDebtors:312500,currentCreditors:208333,grossMargin:35,netMargin:12,ebitda:3e5,currentCash:15e4,averageBankBalance:125e3,inventoryTurns:8,numberOfEmployees:25,revenueGrowth:15,reduceDebtorDays:10,extendCreditorDays:5}),[t,n]=r.useState({cashUnlock90Days:83e3,cashImprovement12Months:334e3,daysToUnlock:90,workingCapitalEfficiency:3,cashConversionCycle:-46}),[i,l]=r.useState(!1),o=(e,a)=>{s(s=>({...s,[e]:a}))},f=[`Potential to unlock £${t.cashUnlock90Days.toLocaleString()} in working capital within 90 days`,`12-month cash flow improvement of £${t.cashImprovement12Months.toLocaleString()} without new debt`,`Working capital efficiency improvement of ${t.workingCapitalEfficiency}% of annual revenue`,`Improved cash conversion cycle by ${t.cashConversionCycle} days`];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Working Capital Calculator"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Advanced cash flow analysis and optimization recommendations"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(A,{variant:"outline",size:"sm",children:[e.jsx(c,{className:"h-4 w-4 mr-2"}),"Export Report"]}),e.jsxs(A,{onClick:async()=>{l(!0),await new Promise(e=>setTimeout(e,1500));const e=a.annualRevenue/365,s=a.currentDebtors-a.currentCreditors,r=a.averageDebtorDays-a.reduceDebtorDays,t=a.averageCreditorDays+a.extendCreditorDays,i=s-(e*r-e*t),o=4*i;n({cashUnlock90Days:Math.round(i),cashImprovement12Months:Math.round(o),daysToUnlock:90,workingCapitalEfficiency:Math.round(i/a.annualRevenue*100*10)/10,cashConversionCycle:r-t}),l(!1)},disabled:i,children:[i?e.jsx(d,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(u,{className:"h-4 w-4 mr-2"}),i?"Calculating...":"Recalculate"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(C,{children:[e.jsxs(w,{children:[e.jsxs(k,{className:"flex items-center space-x-2",children:[e.jsx(h,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:"Financial Metrics"})]}),e.jsx(D,{children:"Core financial data for working capital analysis"})]}),e.jsx(S,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"annualRevenue",children:"Annual Revenue (GBP)"}),e.jsx(R,{id:"annualRevenue",type:"number",value:a.annualRevenue,onChange:e=>o("annualRevenue",parseInt(e.target.value)),className:"text-right"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"currentCash",children:"Current Cash on Hand (£)"}),e.jsx(R,{id:"currentCash",type:"number",value:a.currentCash,onChange:e=>o("currentCash",parseInt(e.target.value)),className:"text-right"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"currentDebtors",children:"Current Debtors (£)"}),e.jsx(R,{id:"currentDebtors",type:"number",value:a.currentDebtors,onChange:e=>o("currentDebtors",parseInt(e.target.value)),className:"text-right"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"currentCreditors",children:"Current Creditors (£)"}),e.jsx(R,{id:"currentCreditors",type:"number",value:a.currentCreditors,onChange:e=>o("currentCreditors",parseInt(e.target.value)),className:"text-right"})]})]})})]}),e.jsxs(C,{children:[e.jsxs(w,{children:[e.jsxs(k,{className:"flex items-center space-x-2",children:[e.jsx(x,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Payment Terms"})]}),e.jsx(D,{children:"Days Sales Outstanding and Days Payable Outstanding"})]}),e.jsx(S,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Average Debtor Days (DSO): ",a.averageDebtorDays," days"]}),e.jsx(I,{value:[a.averageDebtorDays],onValueChange:e=>o("averageDebtorDays",e[0]),max:120,min:15,step:1,className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Average Creditor Days (DPO): ",a.averageCreditorDays," days"]}),e.jsx(I,{value:[a.averageCreditorDays],onValueChange:e=>o("averageCreditorDays",e[0]),max:90,min:15,step:1,className:"w-full"})]})]})})]}),e.jsxs(C,{children:[e.jsxs(w,{children:[e.jsxs(k,{className:"flex items-center space-x-2",children:[e.jsx(m,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{children:"Optimization Levers"})]}),e.jsx(D,{children:"Adjust these parameters to see potential improvements"})]}),e.jsx(S,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Reduce Debtor Days By: ",a.reduceDebtorDays," days"]}),e.jsx(I,{value:[a.reduceDebtorDays],onValueChange:e=>o("reduceDebtorDays",e[0]),max:30,min:0,step:1,className:"w-full"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Get paid faster"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Extend Creditor Days By: ",a.extendCreditorDays," days"]}),e.jsx(I,{value:[a.extendCreditorDays],onValueChange:e=>o("extendCreditorDays",e[0]),max:20,min:0,step:1,className:"w-full"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Pay suppliers later"})]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(C,{className:"border-green-200 dark:border-green-800",children:[e.jsx(w,{children:e.jsx(k,{className:"text-green-700 dark:text-green-300",children:"Estimated Cash Unlock in 90 Days"})}),e.jsx(S,{children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"text-4xl font-bold text-green-600",children:["£",t.cashUnlock90Days.toLocaleString()]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Without new debt or external funding"}),e.jsx(P,{}),e.jsxs("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["£",t.cashImprovement12Months.toLocaleString()]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"12-month improvement"}),e.jsxs(M,{variant:"outline",className:"text-green-600 border-green-600",children:[t.daysToUnlock," Days to unlock"]})]})})]}),e.jsxs(C,{children:[e.jsx(w,{children:e.jsx(k,{children:"Working Capital Levers"})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-3",children:["Improve invoicing discipline and collections process","Negotiate better payment terms with suppliers","Optimise inventory levels and reduce stock holding","Implement automated payment systems","Enhance credit management procedures"].map((a,s)=>e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(p,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:a})]},s))})})]}),e.jsxs(C,{children:[e.jsx(w,{children:e.jsxs(k,{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Board-Ready Talking Points"})]})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-3",children:f.map((a,s)=>e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(v,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:a})]},s))})})]})]})]})]})};function T(){const[a,s]=r.useState("Loading..."),[t,n]=r.useState(null),[i,l]=r.useState(null),[o,c]=r.useState("dashboard");r.useEffect(()=>{fetch("/api/status").then(e=>e.json()).then(e=>{n(e),s("Connected")}).catch(e=>{l(e.message),s("Connection Failed")})},[]);const d=()=>"working-capital"===o?e.jsx(O,{}):e.jsx("div",{className:"App",children:e.jsxs("header",{className:"App-header",children:[e.jsx("h1",{children:"🏭 Sentia Manufacturing Dashboard"}),e.jsx("h2",{children:"Enterprise Working Capital Intelligence"}),e.jsxs("div",{className:"status-card",children:[e.jsx("h3",{children:"System Status"}),e.jsx("div",{className:"status-indicator "+("Connected"===a?"success":"Connection Failed"===a?"error":"loading"),children:a}),t&&e.jsxs("div",{className:"server-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Service:"})," ",t.service]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Version:"})," ",t.version]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Environment:"})," ",t.environment]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Timestamp:"})," ",new Date(t.timestamp).toLocaleString()]})]}),i&&e.jsx("div",{className:"error-info",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Error:"})," ",i]})})]}),e.jsxs("div",{className:"features-grid",children:[e.jsxs("div",{className:"feature-card",children:[e.jsx("h4",{children:"📊 Working Capital Calculator"}),e.jsx("p",{children:"Analyze cash flow and optimize working capital"}),e.jsx("button",{className:"feature-button active",onClick:()=>c("working-capital"),children:"Launch Calculator"})]}),e.jsxs("div",{className:"feature-card",children:[e.jsx("h4",{children:"🤖 AI Insights"}),e.jsx("p",{children:"AI-powered manufacturing intelligence"}),e.jsx("button",{disabled:!0,children:"Coming Soon"})]}),e.jsxs("div",{className:"feature-card",children:[e.jsx("h4",{children:"📈 Real-time Analytics"}),e.jsx("p",{children:"Live production and financial metrics"}),e.jsx("button",{disabled:!0,children:"Coming Soon"})]}),e.jsxs("div",{className:"feature-card",children:[e.jsx("h4",{children:"🔗 Enterprise Integration"}),e.jsx("p",{children:"Connect with Xero, Shopify, and more"}),e.jsx("button",{disabled:!0,children:"Coming Soon"})]})]}),e.jsxs("div",{className:"deployment-info",children:[e.jsx("h3",{children:"🚀 Deployment Status"}),e.jsx("p",{children:"✅ React Application: Loaded Successfully"}),e.jsxs("p",{children:["✅ Server Connection: ",a]}),e.jsx("p",{children:"✅ Static Assets: Serving Correctly"}),e.jsx("p",{children:"✅ Health Checks: Operational"}),e.jsx("p",{children:"✅ Working Capital Calculator: Ready"})]})]})});return"dashboard"!==o?e.jsxs("div",{className:"app-container",children:[e.jsxs("nav",{className:"app-nav",children:[e.jsx("button",{className:"nav-button",onClick:()=>c("dashboard"),children:"← Back to Dashboard"}),e.jsx("h3",{children:"Sentia Manufacturing Dashboard"})]}),d()]}):d()}const V=document.getElementById("root");if(V)try{f.createRoot(V).render(e.jsx(r.StrictMode,{children:e.jsx(T,{})}))}catch(B){V.innerHTML=`\n      <div style="\n        padding: 2rem; \n        text-align: center; \n        font-family: system-ui, sans-serif;\n        background-color: #fee2e2;\n        color: #dc2626;\n        min-height: 100vh;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-direction: column;\n      ">\n        <h1>Application Error</h1>\n        <p>Failed to initialize the React application.</p>\n        <p>Error: ${B.message}</p>\n        <p>Please refresh the page or contact support.</p>\n      </div>\n    `}else document.body.innerHTML='<div style="padding: 2rem; text-align: center; color: red;">Error: Root element not found</div>';
