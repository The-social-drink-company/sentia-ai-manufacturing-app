{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "NIXPACKS",
    "buildCommand": "npm ci && npm run build"
  },
  "deploy": {
    "startCommand": "npm start",
    "healthcheckPath": "/health",
    "healthcheckTimeout": 30,
    "restartPolicyType": "ALWAYS",
    "restartPolicyMaxRetries": 3,
    "numReplicas": 1
  },
  "environments": {
    "development": {
      "branch": "development",
      "domains": ["sentiadeploy.financeflo.ai"],
      "variables": {
        "NODE_ENV": "development",
        "RAILWAY_ENVIRONMENT": "development",
        "VITE_API_BASE_URL": "https://sentiadeploy.financeflo.ai/api",
        "VITE_APP_TITLE": "Sentia Manufacturing Dashboard (Development)",
        "VITE_ENVIRONMENT": "development",
        "ENABLE_AUTONOMOUS_TESTING": "true",
        "ENABLE_AI_FEATURES": "true",
        "ENABLE_BETA_FEATURES": "true",
        "ENABLE_DEBUG_MODE": "true",
        "AUTO_FIX_ENABLED": "true",
        "AUTO_DEPLOY_ENABLED": "false",
        "LOG_LEVEL": "debug"
      }
    },
    "testing": {
      "branch": "test",
      "domains": ["sentiatest.financeflo.ai"],
      "variables": {
        "NODE_ENV": "test",
        "RAILWAY_ENVIRONMENT": "testing",
        "VITE_API_BASE_URL": "https://sentiatest.financeflo.ai/api",
        "VITE_APP_TITLE": "Sentia Manufacturing Dashboard (Testing)",
        "VITE_ENVIRONMENT": "testing",
        "ENABLE_AUTONOMOUS_TESTING": "true",
        "ENABLE_AI_FEATURES": "true",
        "ENABLE_BETA_FEATURES": "true",
        "ENABLE_DEBUG_MODE": "false",
        "AUTO_FIX_ENABLED": "true",
        "AUTO_DEPLOY_ENABLED": "false",
        "LOG_LEVEL": "info",
        "ENABLE_TEST_MODE": "true"
      }
    },
    "production": {
      "branch": "production",
      "domains": ["sentia.financeflo.ai"],
      "variables": {
        "NODE_ENV": "production",
        "RAILWAY_ENVIRONMENT": "production",
        "VITE_API_BASE_URL": "https://sentia.financeflo.ai/api",
        "VITE_APP_TITLE": "Sentia Manufacturing Dashboard",
        "VITE_ENVIRONMENT": "production",
        "ENABLE_AUTONOMOUS_TESTING": "false",
        "ENABLE_AI_FEATURES": "true",
        "ENABLE_BETA_FEATURES": "false",
        "ENABLE_DEBUG_MODE": "false",
        "AUTO_FIX_ENABLED": "false",
        "AUTO_DEPLOY_ENABLED": "false",
        "LOG_LEVEL": "error",
        "ENABLE_CACHE": "true",
        "CACHE_TTL": "7200",
        "MAX_WORKERS": "8",
        "CONNECTION_POOL_SIZE": "50"
      }
    }
  },
  "services": {
    "web": {
      "port": 5000,
      "protocol": "HTTP",
      "internalPort": 5000
    }
  }
}