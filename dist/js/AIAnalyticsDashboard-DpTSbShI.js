import{r as e,u as s,j as t}from"./react-core-DkFbty9o.js";import{b as a,d as i}from"./index-D4EDaX83.js";import{s as r,E as n,X as c,K as l,Y as d,a as o,p as m,e as x,o as h}from"./ui-components-J4-_vVnI.js";import"./vendor-CHbOot_X.js";import"./charts-DxLx1lqX.js";import"./vendor-utils-BvmCeSbq.js";import"./router-C0m1gglZ.js";import"./auth-M1VfQxmO.js";import"./forms-CtqjxpzJ.js";import"./animation-CTJwy-Vh.js";const p=()=>{const{user:x,getToken:h}=a(),[p,N]=e.useState("demand_forecast"),[f,v]=e.useState(!1),{data:w,refetch:A}=s({queryKey:["ai-analytics",p],queryFn:async()=>{try{const e=await h(),s=await fetch(`/api/ai/analytics?model=${p}`,{headers:e?{Authorization:`Bearer ${e}`}:{}});if(!s.ok)throw new Error("AI Analytics API unavailable");return await s.json()}catch(e){return{confidence:85,predictions:124,accuracy:91,insights:[{title:"Demand Peak Detected",description:"AI model predicts 25% increase in demand for next month",type:"positive",impact:"+15% revenue potential"},{title:"Production Bottleneck Risk",description:"Assembly line capacity may be exceeded during peak period",type:"warning",impact:"Potential 5-day delay"}],performance:{accuracy:91.2,precision:88.7,recall:94.1,f1_score:91.3},recommendations:[{title:"Increase Production Capacity",description:"Consider adding an extra shift during peak demand period",impact:"+20% throughput"},{title:"Optimize Inventory Levels",description:"Preposition inventory based on demand predictions",impact:"-12% carrying costs"}]}}},refetchInterval:3e4}),I=w||{confidence:0,predictions:0,accuracy:0,insights:[],performance:{},recommendations:[]},P=[{id:"demand_forecast",name:"Demand Forecasting",description:"Predict future product demand using historical sales data",icon:t.jsx(l,{className:"w-5 h-5"}),accuracy:86.4,status:"active"},{id:"production_optimization",name:"Production Optimization",description:"Optimize manufacturing schedules and resource allocation",icon:t.jsx(d,{className:"w-5 h-5"}),accuracy:91.2,status:"active"},{id:"quality_prediction",name:"Quality Prediction",description:"Predict quality issues before they occur in production",icon:t.jsx(o,{className:"w-5 h-5"}),accuracy:78.9,status:"training"},{id:"inventory_optimization",name:"Inventory Optimization",description:"Optimize stock levels and reduce carrying costs",icon:t.jsx(m,{className:"w-5 h-5"}),accuracy:83.7,status:"active"}];return t.jsx("div",{className:"min-h-screen bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsx("div",{className:"mb-8",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"AI Analytics Dashboard"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Artificial Intelligence powered insights and predictions - Fixed Authentication"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{onClick:async()=>{v(!0);try{(await fetch("/api/forecasting/run-model",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await h()}`},body:JSON.stringify({modelType:p,parameters:{horizon:30,seasonality:!0,confidence:.95}})})).ok&&A()}catch(e){i.error("Analysis failed:",e)}finally{v(!1)}},disabled:f,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[f?t.jsx(r,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(n,{className:"w-4 h-4 mr-2"}),f?"Running Analysis...":"Run Analysis"]}),t.jsxs("button",{className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[t.jsx(c,{className:"w-4 h-4 mr-2"}),"Export Results"]})]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:P.map(e=>t.jsx(g,{model:e,isSelected:p===e.id,onSelect:N},e.id))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsx(u,{data:I,selectedModel:p})}),t.jsx("div",{children:t.jsx(y,{insights:I.insights})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsx(j,{performance:I.performance}),t.jsx(b,{recommendations:I.recommendations})]})]})})},g=({model:e,isSelected:s,onSelect:a})=>t.jsxs("button",{onClick:()=>a(e.id),className:"text-left p-6 rounded-lg border transition-all "+(s?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-2 rounded-lg "+(s?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-500"),children:e.icon}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${{active:"bg-green-100 text-green-800",training:"bg-yellow-100 text-yellow-800",inactive:"bg-red-100 text-red-800"}[e.status]}`,children:e.status})]}),t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:e.name}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Accuracy"}),t.jsxs("span",{className:"font-semibold text-gray-900",children:[e.accuracy,"%"]})]}),t.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${e.accuracy}%`}})})]}),u=({data:e,selectedModel:s})=>{const a=e=>({demand_forecast:"Demand Forecast Results",production_optimization:"Production Optimization Results",quality_prediction:"Quality Prediction Results",inventory_optimization:"Inventory Optimization Results"}[e]||"Analysis Results");return e&&"object"==typeof e?t.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:a(s)}),t.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg mb-6",children:t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx(x,{className:"w-12 h-12 mx-auto mb-2"}),t.jsx("p",{children:"AI Model Visualization"}),t.jsx("p",{className:"text-sm",children:"Real-time analysis results"})]})}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[t.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[e.confidence||0,"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Confidence Level"})]}),t.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.predictions||0}),t.jsx("div",{className:"text-sm text-gray-600",children:"Predictions"})]}),t.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[e.accuracy||0,"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Model Accuracy"})]})]})]}):t.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:a(s)}),t.jsx("div",{className:"text-center py-8 text-gray-500",children:t.jsx("p",{children:"Loading analysis results..."})})]})},y=({insights:e})=>e&&Array.isArray(e)?t.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Key Insights"}),t.jsx("div",{className:"space-y-4",children:e.map((e,s)=>t.jsxs("div",{className:"p-4 rounded-lg border-l-4 "+("positive"===e.type?"border-green-400 bg-green-50":"warning"===e.type?"border-yellow-400 bg-yellow-50":"border-blue-400 bg-blue-50"),children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:e.title}),t.jsx("p",{className:"text-sm text-gray-600",children:e.description}),e.impact&&t.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Impact: ",e.impact]})]},s))})]}):t.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Key Insights"}),t.jsx("div",{className:"text-center py-8 text-gray-500",children:t.jsx("p",{children:"No insights available"})})]}),j=({performance:e})=>e&&"object"==typeof e?t.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Model Performance"}),t.jsx("div",{className:"space-y-6",children:Object.entries(e).map(([e,s])=>t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:e.replace("_"," ")}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"number"==typeof s?`${s.toFixed(1)}%`:s})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${"number"==typeof s?s:50}%`}})})]},e))})]}):t.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Model Performance"}),t.jsx("div",{className:"text-center py-8 text-gray-500",children:t.jsx("p",{children:"No performance data available"})})]}),b=({recommendations:e})=>e&&Array.isArray(e)?t.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"AI Recommendations"}),t.jsx("div",{className:"space-y-4",children:e.map((e,s)=>t.jsxs("div",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg",children:[t.jsx(h,{className:"w-5 h-5 text-yellow-500 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:e.title}),t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),e.impact&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Potential Impact:"}),t.jsx("span",{className:"text-xs font-medium text-green-600",children:e.impact})]})]})]},s))})]}):t.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"AI Recommendations"}),t.jsx("div",{className:"text-center py-8 text-gray-500",children:t.jsx("p",{children:"No recommendations available"})})]});export{p as default};
