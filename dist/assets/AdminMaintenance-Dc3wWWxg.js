import{j as e}from"./query-CJR12TOn.js";import{a}from"./vendor-BPOA5ME_.js";import{u as s}from"./auth-zWw5cpzK.js";import{r as t,s as r}from"./index-D-ByIpm_.js";const i=()=>{const{hasPermission:i}=(()=>{const{user:e,isLoaded:t,isSignedIn:r}=s();return a.useMemo(()=>{if(!t)return{isLoading:!0,isAuthenticated:!1,user:null,role:null,permissions:[],features:{},hasRole:()=>!1,hasPermission:()=>!1,hasFeature:()=>!1,isRoleAtLeast:()=>!1,getUserDisplayName:()=>"",getUserInitials:()=>"",canAccess:()=>!1};if(!r||!e)return{isLoading:!1,isAuthenticated:!1,user:null,role:null,permissions:[],features:{},hasRole:()=>!1,hasPermission:()=>!1,hasFeature:()=>!1,isRoleAtLeast:()=>!1,getUserDisplayName:()=>"",getUserInitials:()=>"",canAccess:()=>!1};const a=e.publicMetadata?.role||e.organizationMemberships?.[0]?.role||"viewer",s=e.publicMetadata?.permissions||function(e){switch(e){case"admin":return["read","write","delete","admin","export","working-capital","what-if-analysis","user-management"];case"manager":return["read","write","export","working-capital","what-if-analysis"];case"operator":return["read","write","export"];default:return["read"]}}(a),i=e.publicMetadata?.features||function(e){switch(e){case"admin":return{advancedAnalytics:!0,systemDiagnostics:!0,userManagement:!0,apiAccess:!0,experimentalFeatures:!0,debugMode:!0};case"manager":return{advancedAnalytics:!0,systemDiagnostics:!1,userManagement:!1,apiAccess:!0,experimentalFeatures:!1,debugMode:!1};default:return{advancedAnalytics:!1,systemDiagnostics:!1,userManagement:!1,apiAccess:!1,experimentalFeatures:!1,debugMode:!1}}}(a),n={admin:4,manager:3,operator:2,viewer:1},l=e=>(n[a]||0)>=(n[e]||0),c=()=>e.fullName||e.firstName||e.emailAddresses?.[0]?.emailAddress||"User";return{isLoading:!1,isAuthenticated:!0,user:{id:e.id,email:e.emailAddresses?.[0]?.emailAddress,name:c(),role:a,permissions:s,imageUrl:e.imageUrl,createdAt:e.createdAt,lastSignInAt:e.lastSignInAt},role:a,permissions:s,features:i,hasRole:e=>a===e,hasPermission:e=>s.includes(e),hasFeature:e=>!0===i[e],isRoleAtLeast:l,getUserDisplayName:c,getUserInitials:()=>c().split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),canAccess:e=>!e||l(e)}},[e,t,r])})();return i("admin.maintenance.database")?e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Maintenance"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"System maintenance tools, database operations, and backup management"})]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx(r,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Maintenance Tools"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Maintenance and system administration interface will be implemented here"})]})]}):e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(t,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You don't have permission to access maintenance tools."})]})};export{i as default};
