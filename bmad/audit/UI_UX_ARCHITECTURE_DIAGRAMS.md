# UI/UX Architecture Diagrams
## CapLiquify Manufacturing Platform

**Companion Document to:** COMPREHENSIVE_UI_UX_AUTHENTICATION_PLAN.md
**Created:** October 19, 2025

---

## 1. Component Hierarchy Diagram

```
App-simple-environment.jsx (Root)
â”œâ”€â”€ ErrorBoundary
â”œâ”€â”€ AuthProvider (Clerk or Development)
â”‚   â”œâ”€â”€ BulletproofAuthProvider
â”‚   â””â”€â”€ ClerkProvider (Production)
â”œâ”€â”€ QueryClientProvider (TanStack Query)
â””â”€â”€ BrowserRouter
    â”œâ”€â”€ PUBLIC ROUTES
    â”‚   â”œâ”€â”€ / (Landing Page)
    â”‚   â”‚   â”œâ”€â”€ Hero Section
    â”‚   â”‚   â”‚   â”œâ”€â”€ Gradient Background
    â”‚   â”‚   â”‚   â”œâ”€â”€ Hero Title + Subtitle
    â”‚   â”‚   â”‚   â”œâ”€â”€ Primary CTA (SignIn Button)
    â”‚   â”‚   â”‚   â””â”€â”€ Secondary CTA (Learn More)
    â”‚   â”‚   â”œâ”€â”€ Features Section
    â”‚   â”‚   â”‚   â””â”€â”€ FeatureCard Ã— 6
    â”‚   â”‚   â”‚       â”œâ”€â”€ Icon
    â”‚   â”‚   â”‚       â”œâ”€â”€ Title
    â”‚   â”‚   â”‚       â””â”€â”€ Description
    â”‚   â”‚   â”œâ”€â”€ Trust Metrics Section
    â”‚   â”‚   â”‚   â””â”€â”€ MetricCard Ã— 4
    â”‚   â”‚   â”‚       â”œâ”€â”€ Icon (CheckCircle)
    â”‚   â”‚   â”‚       â”œâ”€â”€ Value
    â”‚   â”‚   â”‚       â””â”€â”€ Label
    â”‚   â”‚   â”œâ”€â”€ Final CTA Section
    â”‚   â”‚   â””â”€â”€ Footer
    â”‚   â”‚       â”œâ”€â”€ Company Info
    â”‚   â”‚       â””â”€â”€ Links (Privacy, Terms, Contact)
    â”‚   â”‚
    â”‚   â”œâ”€â”€ /app/sign-in (Clerk Sign In)
    â”‚   â””â”€â”€ /app/sign-up (Clerk Sign Up)
    â”‚
    â””â”€â”€ PROTECTED ROUTES (Wrapped in ProtectedRoute)
        â”œâ”€â”€ DashboardLayout (Container)
        â”‚   â”œâ”€â”€ XeroProvider
        â”‚   â”œâ”€â”€ ProgressiveDashboardLoader
        â”‚   â””â”€â”€ Layout Structure
        â”‚       â”œâ”€â”€ Sidebar (Fixed Left)
        â”‚       â”‚   â”œâ”€â”€ Logo Section
        â”‚       â”‚   â”‚   â”œâ”€â”€ Sentia Logo (Gradient)
        â”‚       â”‚   â”‚   â””â”€â”€ Collapse Button
        â”‚       â”‚   â”œâ”€â”€ Navigation Groups
        â”‚       â”‚   â”‚   â”œâ”€â”€ OVERVIEW
        â”‚       â”‚   â”‚   â”‚   â””â”€â”€ Dashboard
        â”‚       â”‚   â”‚   â”œâ”€â”€ PLANNING & ANALYTICS
        â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Demand Forecasting
        â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Inventory Management
        â”‚       â”‚   â”‚   â”‚   â””â”€â”€ AI Analytics
        â”‚       â”‚   â”‚   â”œâ”€â”€ FINANCIAL MANAGEMENT
        â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Working Capital
        â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ What-If Analysis
        â”‚       â”‚   â”‚   â”‚   â””â”€â”€ Financial Reports
        â”‚       â”‚   â”‚   â”œâ”€â”€ DATA MANAGEMENT
        â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Import Wizard
        â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Export Builder
        â”‚       â”‚   â”‚   â”‚   â””â”€â”€ Data Import
        â”‚       â”‚   â”‚   â””â”€â”€ ADMINISTRATION
        â”‚       â”‚   â”‚       â”œâ”€â”€ Admin Panel
        â”‚       â”‚   â”‚       â”œâ”€â”€ User Management
        â”‚       â”‚   â”‚       â”œâ”€â”€ System Configuration
        â”‚       â”‚   â”‚       â””â”€â”€ Monitoring
        â”‚       â”‚   â””â”€â”€ User Section
        â”‚       â”‚       â”œâ”€â”€ User Avatar
        â”‚       â”‚       â”œâ”€â”€ User Name
        â”‚       â”‚       â””â”€â”€ User Role
        â”‚       â”‚
        â”‚       â”œâ”€â”€ Header (Sticky Top)
        â”‚       â”‚   â”œâ”€â”€ Mobile Menu Button (< 1024px)
        â”‚       â”‚   â”œâ”€â”€ Breadcrumb Navigation
        â”‚       â”‚   â”œâ”€â”€ System Status Badge
        â”‚       â”‚   â”œâ”€â”€ Current Time Display
        â”‚       â”‚   â”œâ”€â”€ Notification Bell
        â”‚       â”‚   â””â”€â”€ Clerk UserButton
        â”‚       â”‚
        â”‚       â””â”€â”€ Main Content Area (Scrollable)
        â”‚           â”œâ”€â”€ /app/dashboard (DashboardEnterprise)
        â”‚           â”‚   â”œâ”€â”€ Page Header
        â”‚           â”‚   â”‚   â”œâ”€â”€ Title + Subtitle
        â”‚           â”‚   â”‚   â””â”€â”€ SSE Status Indicator
        â”‚           â”‚   â”œâ”€â”€ Capital Position Section
        â”‚           â”‚   â”‚   â”œâ”€â”€ Section Header
        â”‚           â”‚   â”‚   â””â”€â”€ KPIGrid (4 cards)
        â”‚           â”‚   â”‚       â”œâ”€â”€ Global Working Capital
        â”‚           â”‚   â”‚       â”œâ”€â”€ Cash Coverage
        â”‚           â”‚   â”‚       â”œâ”€â”€ Current Ratio
        â”‚           â”‚   â”‚       â””â”€â”€ Quick Ratio
        â”‚           â”‚   â”œâ”€â”€ Performance Metrics Section
        â”‚           â”‚   â”‚   â”œâ”€â”€ Section Header
        â”‚           â”‚   â”‚   â””â”€â”€ KPIGrid (3 cards)
        â”‚           â”‚   â”‚       â”œâ”€â”€ Annual Revenue
        â”‚           â”‚   â”‚       â”œâ”€â”€ Units Sold
        â”‚           â”‚   â”‚       â””â”€â”€ Gross Margin
        â”‚           â”‚   â”œâ”€â”€ Financial Analysis Section
        â”‚           â”‚   â”‚   â””â”€â”€ Chart Grid (3 columns)
        â”‚           â”‚   â”‚       â”œâ”€â”€ Product Sales Chart
        â”‚           â”‚   â”‚       â”œâ”€â”€ P&L Analysis Chart
        â”‚           â”‚   â”‚       â””â”€â”€ Regional Contribution Chart
        â”‚           â”‚   â”œâ”€â”€ Stock Levels Widget
        â”‚           â”‚   â”œâ”€â”€ Working Capital Card
        â”‚           â”‚   â”‚   â”œâ”€â”€ Header
        â”‚           â”‚   â”‚   â””â”€â”€ Metrics Grid (4 metrics)
        â”‚           â”‚   â””â”€â”€ Quick Actions Section
        â”‚           â”‚       â””â”€â”€ Action Buttons Grid (4 buttons)
        â”‚           â”‚           â”œâ”€â”€ Run Forecast
        â”‚           â”‚           â”œâ”€â”€ Analyze Cash Flow
        â”‚           â”‚           â”œâ”€â”€ What-If Analysis
        â”‚           â”‚           â””â”€â”€ Generate Report
        â”‚           â”‚
        â”‚           â”œâ”€â”€ /app/forecasting (Forecasting)
        â”‚           â”œâ”€â”€ /app/inventory (InventoryDashboard)
        â”‚           â”œâ”€â”€ /app/working-capital (RealWorkingCapital)
        â”‚           â”œâ”€â”€ /app/what-if (WhatIfAnalysis)
        â”‚           â”œâ”€â”€ /app/reports (FinancialReports)
        â”‚           â”œâ”€â”€ /app/admin (AdminPanelEnhanced)
        â”‚           â”œâ”€â”€ /app/admin/import (ImportWizard)
        â”‚           â””â”€â”€ /app/admin/export (ExportBuilder)
        â”‚
        â””â”€â”€ DebugPanel (Development Only)
```

---

## 2. Authentication State Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    APPLICATION INITIALIZATION                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Check         â”‚
         â”‚ VITE_         â”‚
         â”‚ DEVELOPMENT_  â”‚
         â”‚ MODE          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚
        â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Development   â”‚   â”‚ Production    â”‚
â”‚ Mode          â”‚   â”‚ Mode          â”‚
â”‚ (true)        â”‚   â”‚ (false)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                   â”‚
        â”‚                   â–¼
        â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚           â”‚ Load Clerk    â”‚
        â”‚           â”‚ Provider      â”‚
        â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                   â”‚
        â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
        â”‚            â”‚             â”‚
        â”‚            â–¼             â–¼
        â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    â”‚ Clerk Loaded  â”‚ â”‚ Clerk Failed  â”‚
        â”‚    â”‚ Successfully  â”‚ â”‚ (Timeout 3s)  â”‚
        â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚            â”‚                 â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
        â”‚            â”‚                 â”‚
        â–¼            â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FALLBACK AUTH STATE (Development Mode)             â”‚
â”‚  â€¢ isSignedIn: true                                             â”‚
â”‚  â€¢ user: { id: 'dev', fullName: 'Dev User' }                   â”‚
â”‚  â€¢ mode: 'fallback'                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AUTHENTICATION CONTEXT                       â”‚
â”‚  Available globally via useAuth() hook                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ User navigates â”‚
        â”‚ to route       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚
        â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Public Route  â”‚   â”‚ Protected     â”‚
â”‚ (/, /sign-in) â”‚   â”‚ Route         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Check auth    â”‚
                    â”‚ status        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚                 â”‚
                   â–¼                 â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚ SignedIn      â”‚ â”‚ SignedOut     â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                 â”‚
                   â–¼                 â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚ Render        â”‚ â”‚ Redirect to   â”‚
           â”‚ Dashboard     â”‚ â”‚ /app/sign-in  â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Route Protection Flow

```
User Navigates to URL
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ React Router   â”‚
â”‚ Matches Route  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
    â–¼         â–¼
PUBLIC     PROTECTED
ROUTE      ROUTE
    â”‚         â”‚
    â”‚         â–¼
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    â”‚ ProtectedRoute â”‚
    â”‚    â”‚ Wrapper        â”‚
    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚             â”‚
    â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     â”‚                    â”‚
    â”‚     â–¼                    â–¼
    â”‚ DEVELOPMENT         PRODUCTION
    â”‚ MODE                MODE
    â”‚     â”‚                    â”‚
    â”‚     â”‚                    â–¼
    â”‚     â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     â”‚            â”‚ useAuth()      â”‚
    â”‚     â”‚            â”‚ (Clerk)        â”‚
    â”‚     â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚     â”‚                     â”‚
    â”‚     â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     â”‚            â”‚                 â”‚
    â”‚     â”‚            â–¼                 â–¼
    â”‚     â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     â”‚    â”‚ isSignedIn     â”‚ â”‚ !isSignedIn    â”‚
    â”‚     â”‚    â”‚ = true         â”‚ â”‚ = false        â”‚
    â”‚     â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚     â”‚             â”‚                  â”‚
    â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
    â”‚     â”‚             â”‚                  â”‚
    â–¼     â–¼             â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RENDER COMPONENT             â”‚  â”‚ REDIRECT TO    â”‚
â”‚                              â”‚  â”‚ /app/sign-in   â”‚
â”‚ Wrapped in:                  â”‚  â”‚                â”‚
â”‚ â€¢ XeroProvider               â”‚  â”‚ Store original â”‚
â”‚ â€¢ ProgressiveDashboardLoader â”‚  â”‚ URL in         â”‚
â”‚ â€¢ DashboardLayout            â”‚  â”‚ sessionStorage â”‚
â”‚   â€¢ Sidebar                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚   â€¢ Header                   â”‚
â”‚   â€¢ Main Content             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        USER INTERFACE                           â”‚
â”‚  (React Components)                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STATE MANAGEMENT LAYER                       â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ React Query  â”‚  â”‚ Zustand      â”‚  â”‚ React State  â”‚         â”‚
â”‚  â”‚ (Server)     â”‚  â”‚ (Client)     â”‚  â”‚ (Component)  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                 â”‚                 â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                 â”‚                 â”‚
          â–¼                 â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API Services     â”‚ â”‚ Local Storageâ”‚ â”‚ Component    â”‚
â”‚ (Fetch/Axios)    â”‚ â”‚ (Persist)    â”‚ â”‚ State        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BACKEND API LAYER                          â”‚
â”‚                                                                  â”‚
â”‚  GET /api/financial/kpi-summary                                 â”‚
â”‚  GET /api/financial/pl-analysis                                 â”‚
â”‚  GET /api/sales/product-sales                                   â”‚
â”‚  GET /api/regional/performance                                  â”‚
â”‚  GET /api/working-capital/summary                               â”‚
â”‚  GET /api/inventory/stock-levels                                â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚
        â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Database      â”‚  â”‚ External APIs â”‚
â”‚ (PostgreSQL)  â”‚  â”‚ (Xero, Shopify)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DATA FLOW EXAMPLE (KPI Summary):

1. User loads dashboard
2. DashboardEnterprise.jsx mounts
3. useEffect triggers API call
4. plAnalysisApi.getKPISummary() called
5. HTTP GET request to /api/financial/kpi-summary
6. Backend queries PostgreSQL + Xero API
7. Backend returns JSON response
8. React Query caches response (5 min staleTime)
9. State updated with setPerformanceKpis()
10. KPIGrid component re-renders with data
```

---

## 5. Responsive Layout Breakpoints

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       MOBILE (< 640px)                           â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      HEADER                               â”‚  â”‚
â”‚  â”‚  [â˜°] Breadcrumb (hidden)          [Bell] [User]         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚                  MAIN CONTENT                             â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚ KPI Card 1 (Full Width)                        â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚ KPI Card 2 (Full Width)                        â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚ Chart 1 (Full Width)                           â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  SIDEBAR: Hidden (slides in from left when â˜° clicked)    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      TABLET (640px - 1023px)                     â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      HEADER                               â”‚  â”‚
â”‚  â”‚  [â˜°] Dashboard â€º Overview        [Status] [Bell] [User]  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚                  MAIN CONTENT                             â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚  â”‚  â”‚ KPI Card 1       â”‚  â”‚ KPI Card 2       â”‚              â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚  â”‚  â”‚ KPI Card 3       â”‚  â”‚ KPI Card 4       â”‚              â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚  â”‚  â”‚ Chart 1          â”‚  â”‚ Chart 2          â”‚              â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  SIDEBAR: Overlay when open                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DESKTOP (â‰¥ 1024px)                            â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      HEADER                               â”‚  â”‚
â”‚  â”‚  Dashboard â€º Overview â€º Executive  [Status] [10:53] [Bell]â”‚  â”‚
â”‚  â”‚                                                   [User]   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        â”‚                                                  â”‚  â”‚
â”‚  â”‚ SIDE   â”‚             MAIN CONTENT                         â”‚  â”‚
â”‚  â”‚ BAR    â”‚                                                  â”‚  â”‚
â”‚  â”‚ (256px)â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”            â”‚  â”‚
â”‚  â”‚        â”‚  â”‚ KPI  â”‚ â”‚ KPI  â”‚ â”‚ KPI  â”‚ â”‚ KPI  â”‚            â”‚  â”‚
â”‚  â”‚ Logo   â”‚  â”‚ Card â”‚ â”‚ Card â”‚ â”‚ Card â”‚ â”‚ Card â”‚            â”‚  â”‚
â”‚  â”‚ ----   â”‚  â”‚  1   â”‚ â”‚  2   â”‚ â”‚  3   â”‚ â”‚  4   â”‚            â”‚  â”‚
â”‚  â”‚ Nav    â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜            â”‚  â”‚
â”‚  â”‚ Items  â”‚                                                  â”‚  â”‚
â”‚  â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚ ----   â”‚  â”‚  Chart 1   â”‚ â”‚  Chart 2   â”‚ â”‚  Chart 3   â”‚   â”‚  â”‚
â”‚  â”‚ User   â”‚  â”‚            â”‚ â”‚            â”‚ â”‚            â”‚   â”‚  â”‚
â”‚  â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚        â”‚                                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  SIDEBAR: Always visible, fixed position                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

BREAKPOINT SUMMARY:

â€¢ xs (< 640px):   1-column grid, overlay sidebar
â€¢ sm (640-767px): 2-column grid, overlay sidebar
â€¢ md (768-1023px): 2-column grid, overlay sidebar
â€¢ lg (1024-1279px): 4-column grid, fixed sidebar (256px)
â€¢ xl (1280px+):    4-column grid, fixed sidebar (256px)
```

---

## 6. Component Interaction Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER INTERACTIONS                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ User Action    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            â”‚            â”‚
    â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Click   â”‚ â”‚ Keyboardâ”‚ â”‚ Scroll  â”‚
â”‚ Button  â”‚ â”‚ Shortcutâ”‚ â”‚ Event   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚           â”‚           â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Event Handler  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            â”‚            â”‚
    â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Update   â”‚ â”‚ Navigate â”‚ â”‚ Toggle   â”‚
â”‚ State    â”‚ â”‚ Route    â”‚ â”‚ UI       â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚            â”‚            â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ React Re-renderâ”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Updated UI     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

EXAMPLE FLOWS:

1. CLICK "RUN FORECAST" BUTTON:
   User clicks â†’ onClick handler â†’ navigate('/app/forecasting')
   â†’ React Router changes route â†’ Forecasting component renders

2. TOGGLE SIDEBAR:
   User clicks collapse button â†’ toggleCollapse() called
   â†’ setCollapsed(true) â†’ localStorage.setItem()
   â†’ Sidebar re-renders with w-16 instead of w-64

3. KEYBOARD SHORTCUT (Ctrl+B):
   User presses Ctrl+B â†’ keydown event â†’ toggleCollapse()
   â†’ Same as click flow above

4. SIGN IN:
   User clicks "Sign In" â†’ Clerk modal opens â†’ User enters credentials
   â†’ Clerk validates â†’ Session token stored â†’ Redirect to /app/dashboard
   â†’ ProtectedRoute checks auth â†’ Dashboard renders

5. API DATA UPDATE:
   Component mounts â†’ useEffect triggers â†’ API call via React Query
   â†’ Data fetched â†’ Cache updated â†’ State updated â†’ Component re-renders
```

---

## 7. Authentication Decision Tree

```
START: User Attempts to Access Application
        â”‚
        â–¼
    Is route protected?
        â”‚
   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
   NO        YES
   â”‚          â”‚
   â–¼          â–¼
RENDER    Check Environment Mode
COMPONENT     â”‚
              â–¼
          VITE_DEVELOPMENT_MODE?
              â”‚
         â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
         YES       NO
         â”‚         â”‚
         â–¼         â–¼
    DEVELOPMENT  PRODUCTION
    MODE         MODE
         â”‚         â”‚
         â”‚         â–¼
         â”‚     Is Clerk Loaded?
         â”‚         â”‚
         â”‚    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
         â”‚    YES       NO
         â”‚    â”‚         â”‚
         â”‚    â–¼         â–¼
         â”‚  Check     Fallback to
         â”‚  Auth      Development
         â”‚  Status    Mode
         â”‚    â”‚         â”‚
         â”‚    â–¼         â”‚
         â”‚  isSignedIn? â”‚
         â”‚    â”‚         â”‚
         â”‚ â”Œâ”€â”€â”´â”€â”€â”      â”‚
         â”‚ YES  NO      â”‚
         â”‚ â”‚    â”‚       â”‚
         â”œâ”€â”¤    â”‚       â”‚
         â”‚ â”‚    â–¼       â”‚
         â”‚ â”‚  Redirect  â”‚
         â”‚ â”‚  to        â”‚
         â”‚ â”‚  /app/     â”‚
         â”‚ â”‚  sign-in   â”‚
         â”‚ â”‚            â”‚
         â–¼ â–¼            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ RENDER PROTECTED   â”‚
    â”‚ COMPONENT          â”‚
    â”‚                    â”‚
    â”‚ â€¢ XeroProvider     â”‚
    â”‚ â€¢ DashboardLoader  â”‚
    â”‚ â€¢ DashboardLayout  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AUTHENTICATION TIMEOUT FLOW:

User attempts sign-in
        â”‚
        â–¼
    Clerk API call initiated
        â”‚
        â–¼
    Set 3-second timeout
        â”‚
   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
   â”‚         â”‚
   â–¼         â–¼
SUCCESS   TIMEOUT
(< 3s)    (â‰¥ 3s)
   â”‚         â”‚
   â–¼         â–¼
Generate   Switch to
JWT Token  Fallback Mode
   â”‚         â”‚
   â–¼         â–¼
Redirect   Allow Access
to         (Dev Mode)
Dashboard
```

---

## 8. CSS Class Hierarchy (Tailwind)

```
LAYOUT CLASSES
â”‚
â”œâ”€â”€ Container Widths
â”‚   â”œâ”€â”€ max-w-7xl (1280px)
â”‚   â”œâ”€â”€ max-w-4xl (896px)
â”‚   â””â”€â”€ max-w-3xl (768px)
â”‚
â”œâ”€â”€ Spacing
â”‚   â”œâ”€â”€ p-{size}  (padding)
â”‚   â”œâ”€â”€ m-{size}  (margin)
â”‚   â”œâ”€â”€ gap-{size} (grid/flex gap)
â”‚   â””â”€â”€ space-{x|y}-{size} (stack spacing)
â”‚
â”œâ”€â”€ Grid Layouts
â”‚   â”œâ”€â”€ grid
â”‚   â”œâ”€â”€ grid-cols-{n}
â”‚   â”œâ”€â”€ md:grid-cols-{n}
â”‚   â””â”€â”€ lg:grid-cols-{n}
â”‚
â””â”€â”€ Flex Layouts
    â”œâ”€â”€ flex
    â”œâ”€â”€ flex-col
    â”œâ”€â”€ items-{alignment}
    â””â”€â”€ justify-{alignment}

COMPONENT CLASSES
â”‚
â”œâ”€â”€ Cards
â”‚   â”œâ”€â”€ rounded-xl (12px radius)
â”‚   â”œâ”€â”€ shadow-lg
â”‚   â”œâ”€â”€ p-6 (24px padding)
â”‚   â””â”€â”€ bg-white
â”‚
â”œâ”€â”€ Buttons
â”‚   â”œâ”€â”€ rounded-xl
â”‚   â”œâ”€â”€ px-8 py-4 (padding)
â”‚   â”œâ”€â”€ font-semibold
â”‚   â”œâ”€â”€ transition-all
â”‚   â””â”€â”€ hover:scale-105
â”‚
â”œâ”€â”€ KPI Cards
â”‚   â”œâ”€â”€ bg-gradient-{type}
â”‚   â”œâ”€â”€ rounded-xl
â”‚   â”œâ”€â”€ p-6
â”‚   â”œâ”€â”€ shadow-lg
â”‚   â””â”€â”€ hover:-translate-y-1
â”‚
â””â”€â”€ Navigation Items
    â”œâ”€â”€ rounded-lg
    â”œâ”€â”€ px-3 py-2
    â”œâ”€â”€ hover:bg-slate-700
    â””â”€â”€ text-slate-300

COLOR CLASSES
â”‚
â”œâ”€â”€ Background Colors
â”‚   â”œâ”€â”€ bg-white
â”‚   â”œâ”€â”€ bg-slate-{50-900}
â”‚   â”œâ”€â”€ bg-blue-{50-900}
â”‚   â””â”€â”€ bg-purple-{50-900}
â”‚
â”œâ”€â”€ Text Colors
â”‚   â”œâ”€â”€ text-white
â”‚   â”œâ”€â”€ text-slate-{400-900}
â”‚   â”œâ”€â”€ text-blue-{500-700}
â”‚   â””â”€â”€ text-muted-foreground
â”‚
â””â”€â”€ Gradient Backgrounds
    â”œâ”€â”€ bg-gradient-to-br
    â”œâ”€â”€ from-blue-600
    â””â”€â”€ to-purple-700

TYPOGRAPHY CLASSES
â”‚
â”œâ”€â”€ Headings
â”‚   â”œâ”€â”€ text-7xl (Hero)
â”‚   â”œâ”€â”€ text-5xl (Page title)
â”‚   â”œâ”€â”€ text-3xl (Section title)
â”‚   â”œâ”€â”€ text-xl (Card title)
â”‚   â””â”€â”€ text-lg (Widget title)
â”‚
â”œâ”€â”€ Body Text
â”‚   â”œâ”€â”€ text-base (16px default)
â”‚   â”œâ”€â”€ text-sm (14px small)
â”‚   â””â”€â”€ text-xs (12px caption)
â”‚
â””â”€â”€ Font Weights
    â”œâ”€â”€ font-extrabold (800)
    â”œâ”€â”€ font-bold (700)
    â”œâ”€â”€ font-semibold (600)
    â””â”€â”€ font-medium (500)

INTERACTIVE CLASSES
â”‚
â”œâ”€â”€ Hover States
â”‚   â”œâ”€â”€ hover:bg-{color}
â”‚   â”œâ”€â”€ hover:scale-{scale}
â”‚   â”œâ”€â”€ hover:shadow-{size}
â”‚   â””â”€â”€ hover:-translate-y-{size}
â”‚
â”œâ”€â”€ Focus States
â”‚   â”œâ”€â”€ focus:outline-none
â”‚   â”œâ”€â”€ focus:ring-2
â”‚   â”œâ”€â”€ focus:ring-blue-500
â”‚   â””â”€â”€ focus:ring-offset-2
â”‚
â””â”€â”€ Active States
    â”œâ”€â”€ active:scale-98
    â””â”€â”€ active:shadow-sm

ANIMATION CLASSES
â”‚
â”œâ”€â”€ Transitions
â”‚   â”œâ”€â”€ transition-all
â”‚   â”œâ”€â”€ transition-colors
â”‚   â””â”€â”€ transition-transform
â”‚
â”œâ”€â”€ Durations
â”‚   â”œâ”€â”€ duration-150 (fast)
â”‚   â”œâ”€â”€ duration-300 (normal)
â”‚   â””â”€â”€ duration-500 (slow)
â”‚
â””â”€â”€ Animations
    â”œâ”€â”€ animate-pulse
    â”œâ”€â”€ animate-spin
    â””â”€â”€ animate-pulse-slow (custom)

RESPONSIVE CLASSES
â”‚
â”œâ”€â”€ sm: (â‰¥ 640px)
â”‚   â”œâ”€â”€ sm:text-5xl
â”‚   â”œâ”€â”€ sm:grid-cols-2
â”‚   â””â”€â”€ sm:flex-row
â”‚
â”œâ”€â”€ md: (â‰¥ 768px)
â”‚   â”œâ”€â”€ md:text-6xl
â”‚   â”œâ”€â”€ md:grid-cols-2
â”‚   â””â”€â”€ md:flex
â”‚
â”œâ”€â”€ lg: (â‰¥ 1024px)
â”‚   â”œâ”€â”€ lg:text-7xl
â”‚   â”œâ”€â”€ lg:grid-cols-4
â”‚   â””â”€â”€ lg:block
â”‚
â””â”€â”€ xl: (â‰¥ 1280px)
    â””â”€â”€ xl:max-w-7xl
```

---

## 9. File Structure Diagram

```
sentia-ai-manufacturing-app/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.jsx                    # App entry point
â”‚   â”œâ”€â”€ App-simple-environment.jsx  # Root app component
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/                      # Page components
â”‚   â”‚   â”œâ”€â”€ LandingPage.jsx        # âœ… Exists (needs styling updates)
â”‚   â”‚   â”œâ”€â”€ DashboardEnterprise.jsx # âœ… Exists (needs component updates)
â”‚   â”‚   â”œâ”€â”€ Forecasting.jsx        # âœ… Exists
â”‚   â”‚   â”œâ”€â”€ Analytics.jsx          # âœ… Exists
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ layout/                # Layout components
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.jsx        # âœ… Exists (needs dark theme styling)
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.jsx         # âœ… Exists (needs breadcrumb + status)
â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardLayout.jsx # âœ… Exists
â”‚   â”‚   â”‚   â”œâ”€â”€ Breadcrumb.jsx     # âš ï¸ CREATE NEW
â”‚   â”‚   â”‚   â””â”€â”€ SystemStatusBadge.jsx # âš ï¸ CREATE NEW
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ dashboard/             # Dashboard components
â”‚   â”‚   â”‚   â”œâ”€â”€ KPIGrid.jsx        # âœ… Exists (needs gradient styling)
â”‚   â”‚   â”‚   â”œâ”€â”€ WorkingCapitalCard.jsx # âœ… Exists (needs redesign)
â”‚   â”‚   â”‚   â”œâ”€â”€ QuickActions.jsx   # âœ… Exists (needs styling update)
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductSalesChart.jsx # âœ… Exists
â”‚   â”‚   â”‚   â”œâ”€â”€ PLAnalysisChart.jsx # âœ… Exists
â”‚   â”‚   â”‚   â””â”€â”€ RegionalContributionChart.jsx # âœ… Exists
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ auth/                  # Authentication components
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthGuard.jsx      # âœ… Exists
â”‚   â”‚   â”‚   â”œâ”€â”€ ProtectedRoute.jsx # âœ… Exists
â”‚   â”‚   â”‚   â””â”€â”€ ClerkAuthGuard.jsx # âœ… Exists
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ui/                    # shadcn/ui components
â”‚   â”‚   â”‚   â”œâ”€â”€ card.jsx           # âœ… Exists
â”‚   â”‚   â”‚   â”œâ”€â”€ badge.jsx          # âœ… Exists
â”‚   â”‚   â”‚   â”œâ”€â”€ button.jsx         # âœ… Exists
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ErrorBoundary.jsx      # âœ… Exists
â”‚   â”‚
â”‚   â”œâ”€â”€ auth/                      # Auth providers
â”‚   â”‚   â”œâ”€â”€ BulletproofAuthProvider.jsx # âœ… Exists
â”‚   â”‚   â””â”€â”€ DevelopmentAuthProvider.jsx # âœ… Exists
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                     # Custom hooks
â”‚   â”‚   â”œâ”€â”€ useAuthRole.js         # âœ… Exists
â”‚   â”‚   â”œâ”€â”€ useEnvironmentUser.js  # âœ… Exists
â”‚   â”‚   â””â”€â”€ useSSE.js              # âœ… Exists
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                  # API services
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ plAnalysisApi.js   # âœ… Exists
â”‚   â”‚   â”‚   â”œâ”€â”€ workingCapitalApi.js # âœ… Exists
â”‚   â”‚   â”‚   â”œâ”€â”€ productSalesApi.js # âœ… Exists
â”‚   â”‚   â”‚   â””â”€â”€ regionalPerformanceApi.js # âœ… Exists
â”‚   â”‚   â”œâ”€â”€ xeroService.js         # âœ… Exists
â”‚   â”‚   â””â”€â”€ shopify-multistore.js  # âœ… Exists
â”‚   â”‚
â”‚   â”œâ”€â”€ contexts/                  # React contexts
â”‚   â”‚   â”œâ”€â”€ XeroContext.jsx        # âœ… Exists
â”‚   â”‚   â””â”€â”€ useXero.js             # âœ… Exists
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                     # Utility functions
â”‚   â”‚   â””â”€â”€ cn.js                  # âœ… Exists (classnames helper)
â”‚   â”‚
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ index.css              # âœ… Exists (Tailwind imports)
â”‚
â”œâ”€â”€ public/                        # Static assets
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ bmad/                          # BMAD-METHOD files
â”‚   â”œâ”€â”€ audit/
â”‚   â”‚   â”œâ”€â”€ COMPREHENSIVE_UI_UX_AUTHENTICATION_PLAN.md # âœ… NEW
â”‚   â”‚   â””â”€â”€ UI_UX_ARCHITECTURE_DIAGRAMS.md # âœ… NEW
â”‚   â”œâ”€â”€ docs/
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ vite.config.js                 # âœ… Exists
â”œâ”€â”€ tailwind.config.js             # âœ… Exists (needs gradient updates)
â”œâ”€â”€ package.json                   # âœ… Exists
â””â”€â”€ render.yaml                    # âœ… Exists (deployment config)

LEGEND:
âœ… File exists, minor updates needed
âš ï¸ File needs to be created
ðŸ”§ File exists, major refactor needed
```

---

## 10. Deployment Pipeline Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DEVELOPER WORKFLOW                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Code Changes   â”‚
        â”‚ in Local IDE   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Run Tests      â”‚
        â”‚ Locally        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Git Commit     â”‚
        â”‚ with Message   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Git Push to    â”‚
        â”‚ development    â”‚
        â”‚ branch         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RENDER.COM (CI/CD)                           â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Webhook Triggered on Git Push                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                       â”‚                                         â”‚
â”‚                       â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Clone Repository (development branch)                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                       â”‚                                         â”‚
â”‚                       â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Install Dependencies (pnpm install)                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                       â”‚                                         â”‚
â”‚                       â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Build Application (pnpm run build)                       â”‚  â”‚
â”‚  â”‚ â€¢ Vite builds React app                                  â”‚  â”‚
â”‚  â”‚ â€¢ Tailwind processes CSS                                 â”‚  â”‚
â”‚  â”‚ â€¢ Assets optimized and bundled                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                       â”‚                                         â”‚
â”‚                       â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Inject Environment Variables                             â”‚  â”‚
â”‚  â”‚ â€¢ VITE_CLERK_PUBLISHABLE_KEY                             â”‚  â”‚
â”‚  â”‚ â€¢ VITE_API_BASE_URL                                      â”‚  â”‚
â”‚  â”‚ â€¢ VITE_DEVELOPMENT_MODE                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                       â”‚                                         â”‚
â”‚                       â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Start Server (node server.js)                            â”‚  â”‚
â”‚  â”‚ â€¢ Express serves React build from /dist                  â”‚  â”‚
â”‚  â”‚ â€¢ API routes available at /api/*                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                       â”‚                                         â”‚
â”‚                       â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Health Check (/health endpoint)                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                       â”‚                                         â”‚
â”‚                â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚                â”‚             â”‚                                  â”‚
â”‚                â–¼             â–¼                                  â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚        â”‚ SUCCESS   â”‚  â”‚ FAILURE   â”‚                            â”‚
â”‚        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚              â”‚              â”‚                                   â”‚
â”‚              â”‚              â–¼                                   â”‚
â”‚              â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚              â”‚        â”‚ Rollback  â”‚                            â”‚
â”‚              â”‚        â”‚ Previous  â”‚                            â”‚
â”‚              â”‚        â”‚ Deploy    â”‚                            â”‚
â”‚              â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚              â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LIVE ENVIRONMENTS                            â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Development Environment                                   â”‚  â”‚
â”‚  â”‚ https://capliquify-frontend-prod.onrender.com â”‚  â”‚
â”‚  â”‚ â€¢ Auto-deploys on push to development branch             â”‚  â”‚
â”‚  â”‚ â€¢ VITE_DEVELOPMENT_MODE=true                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Test Environment                                          â”‚  â”‚
â”‚  â”‚ https://sentia-manufacturing-dashboard-test.onrender.com â”‚  â”‚
â”‚  â”‚ â€¢ Auto-deploys on push to test branch                    â”‚  â”‚
â”‚  â”‚ â€¢ VITE_DEVELOPMENT_MODE=false                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Production Environment                                    â”‚  â”‚
â”‚  â”‚ https://sentia-.../...production.onrender.com            â”‚  â”‚
â”‚  â”‚ â€¢ Auto-deploys on push to production branch              â”‚  â”‚
â”‚  â”‚ â€¢ VITE_DEVELOPMENT_MODE=false                            â”‚  â”‚
â”‚  â”‚ â€¢ Stricter monitoring and alerting                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

BRANCH PROMOTION FLOW:

development â†’ test â†’ production

Developer pushes to development
        â”‚
        â–¼
    Auto-deploys to DEV environment
        â”‚
        â–¼
    Testing and QA on DEV
        â”‚
        â–¼
    Merge development â†’ test
        â”‚
        â–¼
    Auto-deploys to TEST environment
        â”‚
        â–¼
    UAT (User Acceptance Testing)
        â”‚
        â–¼
    Approval from stakeholders
        â”‚
        â–¼
    Merge test â†’ production
        â”‚
        â–¼
    Auto-deploys to PRODUCTION
        â”‚
        â–¼
    Monitor production deployment
```

---

## Summary

These architecture diagrams provide visual representations of:

1. **Component Hierarchy** - Complete tree of React components
2. **Authentication State Flow** - How authentication is managed
3. **Route Protection** - How routes are protected and accessed
4. **Data Flow** - How data moves through the application
5. **Responsive Layouts** - How UI adapts to different screen sizes
6. **Component Interactions** - How user actions trigger UI updates
7. **Authentication Decision Tree** - Logic flow for auth decisions
8. **CSS Class Hierarchy** - Tailwind class organization
9. **File Structure** - Complete project file organization
10. **Deployment Pipeline** - How code goes from development to production

These diagrams complement the main **COMPREHENSIVE_UI_UX_AUTHENTICATION_PLAN.md** document and provide visual reference for developers implementing the redesign.

---

**Next Steps:**

1. Review diagrams with development team
2. Use diagrams during implementation for reference
3. Update diagrams as architecture evolves
4. Share with stakeholders for clarity on system design

**Document Version:** 1.0
**Created By:** Claude (BMAD Architect Agent)
**Status:** Ready for Review
