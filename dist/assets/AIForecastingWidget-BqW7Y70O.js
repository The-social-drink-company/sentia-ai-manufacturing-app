import{j as e}from"./index-DaWRsFju.js";import{a}from"./vendor-BFM1ZFC2.js";import{b as n}from"./query-Bn59L2Hx.js";import{C as i,a as s,b as t,c as r}from"./card-Og3H35Le.js";import"./auth-Bm6EvpH2.js";const o=({config:o={}})=>{const{data:c,isLoading:d,error:u}=n({queryKey:["ai-forecasting-data"],queryFn:async()=>{const e=await fetch("/api/ai/forecasting");if(!e.ok)throw new Error("Failed to fetch AI forecasting data");return e.json()},refetchInterval:6e4,staleTime:5e4}),[m,l]=a.useState("ensemble"),[g,b]=a.useState("30d"),[N,f]=a.useState({demand:{current:0,predicted:0,confidence:0,trend:"stable"},inventory:{current:0,predicted:0,confidence:0,trend:"stable"},production:{current:0,predicted:0,confidence:0,trend:"stable"},revenue:{current:0,predicted:0,confidence:0,trend:"stable"}});a.useEffect(()=>{c&&f({demand:c.demand?.[m]?.[g]||N.demand,inventory:c.inventory?.[m]?.[g]||N.inventory,production:c.production?.[m]?.[g]||N.production,revenue:c.revenue?.[m]?.[g]||N.revenue})},[c,m,g]);const h=[{id:"ensemble",name:"4-Model Ensemble",color:"bg-purple-500"},{id:"arima",name:"ARIMA",color:"bg-blue-500"},{id:"lstm",name:"LSTM Neural Net",color:"bg-green-500"},{id:"prophet",name:"Prophet",color:"bg-yellow-500"},{id:"random_forest",name:"Random Forest",color:"bg-red-500"}],v=e=>{switch(e){case"up":return"↗️";case"down":return"↘️";default:return"➡️"}},j=e=>e>=85?"text-green-600":e>=70?"text-yellow-600":"text-red-600";return d?e.jsxDEV(i,{className:"sentia-card h-full",children:[e.jsxDEV(s,{className:"sentia-card-header",children:e.jsxDEV(t,{className:"sentia-widget-title",children:"AI Forecasting"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:64,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:63,columnNumber:9},void 0),e.jsxDEV(r,{className:"sentia-card-content",children:e.jsxDEV("div",{className:"sentia-loading-state",children:[e.jsxDEV("div",{className:"sentia-spinner"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:68,columnNumber:13},void 0),e.jsxDEV("p",{children:"Running AI models..."},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:69,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:67,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:66,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:62,columnNumber:7},void 0):u?e.jsxDEV(i,{className:"sentia-card h-full border-red-200",children:[e.jsxDEV(s,{className:"sentia-card-header",children:e.jsxDEV(t,{className:"sentia-widget-title text-red-600",children:"AI Forecasting"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:80,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:79,columnNumber:9},void 0),e.jsxDEV(r,{className:"sentia-card-content",children:e.jsxDEV("div",{className:"sentia-error-state",children:[e.jsxDEV("p",{className:"text-red-500",children:["Error: ",u.message]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:84,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-2",children:"Check AI service status"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:85,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:83,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:82,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:78,columnNumber:7},void 0):e.jsxDEV(i,{className:"sentia-card h-full",children:[e.jsxDEV(s,{className:"sentia-card-header",children:[e.jsxDEV(t,{className:"sentia-widget-title",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-3 h-3 bg-purple-500 rounded-full animate-pulse"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:97,columnNumber:13},void 0),"AI Predictive Analytics"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:96,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:95,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex gap-2 mt-2",children:[e.jsxDEV("select",{value:m,onChange:e=>l(e.target.value),className:"text-xs px-2 py-1 border rounded",children:h.map(a=>e.jsxDEV("option",{value:a.id,children:a.name},a.id,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:108,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:102,columnNumber:11},void 0),e.jsxDEV("select",{value:g,onChange:e=>b(e.target.value),className:"text-xs px-2 py-1 border rounded",children:[e.jsxDEV("option",{value:"7d",children:"7 Days"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:116,columnNumber:13},void 0),e.jsxDEV("option",{value:"30d",children:"30 Days"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:117,columnNumber:13},void 0),e.jsxDEV("option",{value:"90d",children:"90 Days"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:118,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:111,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:101,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:94,columnNumber:7},void 0),e.jsxDEV(r,{className:"sentia-card-content",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"sentia-metric-card",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("div",{className:"text-sm font-medium",children:"Demand Forecast"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:126,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-lg",children:v(N.demand.trend)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:127,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:125,columnNumber:13},void 0),e.jsxDEV("div",{className:"sentia-metric-value text-blue-600",children:N.demand.predicted.toLocaleString()},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:129,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500",children:["Current: ",N.demand.current.toLocaleString()]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:132,columnNumber:13},void 0),e.jsxDEV("div",{className:`text-xs ${j(N.demand.confidence)}`,children:[N.demand.confidence,"% confidence"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:135,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:124,columnNumber:11},void 0),e.jsxDEV("div",{className:"sentia-metric-card",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("div",{className:"text-sm font-medium",children:"Inventory Needs"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:142,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-lg",children:v(N.inventory.trend)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:143,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:141,columnNumber:13},void 0),e.jsxDEV("div",{className:"sentia-metric-value text-green-600",children:N.inventory.predicted.toLocaleString()},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:145,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500",children:["Current: ",N.inventory.current.toLocaleString()]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:148,columnNumber:13},void 0),e.jsxDEV("div",{className:`text-xs ${j(N.inventory.confidence)}`,children:[N.inventory.confidence,"% confidence"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:151,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:140,columnNumber:11},void 0),e.jsxDEV("div",{className:"sentia-metric-card",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("div",{className:"text-sm font-medium",children:"Production Plan"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:158,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-lg",children:v(N.production.trend)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:159,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:157,columnNumber:13},void 0),e.jsxDEV("div",{className:"sentia-metric-value text-purple-600",children:N.production.predicted.toLocaleString()},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:161,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500",children:["Current: ",N.production.current.toLocaleString()]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:164,columnNumber:13},void 0),e.jsxDEV("div",{className:`text-xs ${j(N.production.confidence)}`,children:[N.production.confidence,"% confidence"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:167,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:156,columnNumber:11},void 0),e.jsxDEV("div",{className:"sentia-metric-card",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("div",{className:"text-sm font-medium",children:"Revenue Forecast"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:174,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-lg",children:v(N.revenue.trend)},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:175,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:173,columnNumber:13},void 0),e.jsxDEV("div",{className:"sentia-metric-value text-emerald-600",children:["$",N.revenue.predicted.toLocaleString()]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:177,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500",children:["Current: $",N.revenue.current.toLocaleString()]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:180,columnNumber:13},void 0),e.jsxDEV("div",{className:`text-xs ${j(N.revenue.confidence)}`,children:[N.revenue.confidence,"% confidence"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:183,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:172,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:123,columnNumber:9},void 0),c?.insights&&c.insights.length>0&&e.jsxDEV("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsxDEV("h4",{className:"font-semibold text-purple-800 mb-2",children:"🤖 AI Insights"},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:191,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-1",children:c.insights.slice(0,3).map((a,n)=>e.jsxDEV("div",{className:"text-sm text-purple-700",children:a.message},n,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:194,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:192,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:190,columnNumber:11},void 0),c?.modelPerformance&&e.jsxDEV("div",{className:"mt-4 grid grid-cols-5 gap-1",children:h.map(a=>e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:`w-2 h-2 ${a.color} rounded-full mx-auto mb-1`},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:206,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-xs text-gray-600",children:[(c.modelPerformance[a.id]?.accuracy||0).toFixed(1),"%"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:207,columnNumber:17},void 0)]},a.id,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:205,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:203,columnNumber:11},void 0),e.jsxDEV("div",{className:"mt-4 text-xs text-gray-500 sentia-data-timestamp",children:["Last updated: ",c?.lastUpdated?new Date(c.lastUpdated).toLocaleTimeString():"Never"]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:215,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:122,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Projects/Sentia Manufacturing Dashboard/sentia-manufacturing-dashboard/src/components/widgets/AIForecastingWidget.jsx",lineNumber:93,columnNumber:5},void 0)};export{o as default};
