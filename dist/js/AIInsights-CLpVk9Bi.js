import{r as e,j as s,l as a,T as t,aa as r,ay as i,$ as n,q as l,k as c,v as d,L as m}from"./react-core-DlJGLw67.js";import{m as o,A as x}from"./animation-Cxa7csYq.js";import"./auth-BIfipbc6.js";import"./vendor-TZ9aDXZU.js";import"./charts-C-BUlHpY.js";import"./vendor-utils-W0IPh-on.js";const g=()=>{const[g,h]=e.useState("all"),[u,p]=e.useState([]),[y,b]=e.useState(!0),[j,N]=e.useState([{id:"all",name:"All Insights",count:0},{id:"production",name:"Production",count:0},{id:"quality",name:"Quality",count:0},{id:"maintenance",name:"Maintenance",count:0},{id:"inventory",name:"Inventory",count:0},{id:"energy",name:"Energy",count:0},{id:"demand",name:"Demand",count:0}]);e.useEffect(()=>{(async()=>{try{b(!0);const e=await fetch("/api/ai/insights");if(e.ok){const s=(await e.json()).insights||[],a=j.map(e=>({...e,count:"all"===e.id?s.length:s.filter(s=>s.category===e.id).length}));N(a);const t="all"===g?s:s.filter(e=>e.category===g);p(t)}else p([])}catch(e){p([])}finally{b(!1)}})()},[g]);const f=e=>{switch(e){case"critical":return"border-red-500 bg-red-50";case"high":return"border-orange-500 bg-orange-50";case"medium":return"border-yellow-500 bg-yellow-50";case"low":return"border-green-500 bg-green-50";default:return"border-gray-500 bg-gray-50"}},w=e=>{switch(e){case"opportunity":return"text-yellow-600";case"alert":return"text-red-600";case"insight":return"text-purple-600";case"prediction":return"text-blue-600";case"optimization":return"text-green-600";case"forecast":return"text-indigo-600";default:return"text-gray-600"}};return s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[s.jsx(a,{className:"w-8 h-8 mr-3 text-blue-600"}),"AI Insights Dashboard"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Real-time artificial intelligence insights and recommendations from your manufacturing data"})]}),s.jsx("div",{className:"mb-8 overflow-x-auto",children:s.jsx("div",{className:"flex space-x-2 pb-2",children:j.map(e=>s.jsxs(o.button,{onClick:()=>h(e.id),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap "+(g===e.id?"bg-blue-600 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"),whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.name,s.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs "+(g===e.id?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"),children:e.count})]},e.id))})}),y?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((e,a)=>s.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200 animate-pulse",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),s.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-3"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})},a))}):0===u.length?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(a,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No AI Insights Available"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No insights found for the selected category. The AI system may be processing new data."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Insights"})]}):s.jsx("div",{className:"space-y-6",children:s.jsx(x,{mode:"wait",children:u.map(e=>{const x=(e=>{switch(e){case"opportunity":return m;case"alert":return d;case"insight":return c;case"prediction":case"forecast":return r;case"optimization":return l;default:return a}})(e.type);return s.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`bg-white rounded-lg shadow-sm border-l-4 p-6 hover:shadow-md transition-shadow ${f(e.impact)}`,children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[s.jsx("div",{className:`p-3 rounded-lg ${w(e.type)} bg-opacity-10`,children:s.jsx(x,{className:`w-6 h-6 ${w(e.type)}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("critical"===e.impact?"bg-red-100 text-red-800":"high"===e.impact?"bg-orange-100 text-orange-800":"medium"===e.impact?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:[e.impact," impact"]}),s.jsx("span",{className:"text-xs text-gray-500",children:e.timestamp})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:e.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(t,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsxs("span",{className:"text-gray-600",children:["Confidence: ",e.confidence,"%"]})]}),e.estimatedSavings&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(r,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsxs("span",{className:"text-gray-600",children:["Est. Savings: Â£",e.estimatedSavings.toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(i,{className:"w-4 h-4 text-blue-500 mr-1"}),s.jsxs("span",{className:"text-gray-600",children:["Timeline: ",e.timeline]})]})]}),e.actions&&e.actions.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Recommended Actions:"}),s.jsx("ul",{className:"space-y-1",children:e.actions.map((e,a)=>s.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(n,{className:"w-3 h-3 mr-2 text-gray-400"}),e]},a))})]})]})]})})},e.id)})})})]})};export{g as default};
