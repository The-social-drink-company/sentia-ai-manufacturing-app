import{r as e,j as s,Z as t,I as a,T as r,q as i,p as c,b6 as d,b4 as n,b5 as l,v as o,ay as x}from"./react-core-DlJGLw67.js";import{C as m}from"./ChartErrorBoundary-D7u50YP5.js";import"./index-DuY1VrEM.js";import{R as h,L as g,C as u,X as j,Y as p,T as y,c as f,B as b,e as N}from"./charts-C-BUlHpY.js";import"./auth-BIfipbc6.js";import"./vendor-TZ9aDXZU.js";import"./vendor-utils-W0IPh-on.js";import"./router-BgNYfmsc.js";import"./animation-Cxa7csYq.js";const v=()=>{const[v,w]=e.useState(null),[k,T]=e.useState(!0),[P,C]=e.useState([]),[A,S]=e.useState({});e.useEffect(()=>{const e=async()=>{try{const e="https://sentia-manufacturing-production.onrender.com/api",s=await fetch(`${e}/automation/overview`);if(s.ok){const e=await s.json();w(e),C(e.activeProcesses||[]),S(e.stats||{})}else w(B),C(E),S($)}catch(e){w(B),C(E),S($)}finally{T(!1)}};e();const s=setInterval(e,3e4);return()=>clearInterval(s)},[]);const E=[{id:"QC-001",name:"Quality Control Batch 2025-001",status:"running",progress:85,startTime:"2025-09-08T08:30:00Z",estimatedCompletion:"2025-09-08T16:00:00Z"},{id:"PKG-002",name:"Packaging Line Alpha",status:"running",progress:62,startTime:"2025-09-08T09:15:00Z",estimatedCompletion:"2025-09-08T17:30:00Z"},{id:"ASM-003",name:"Assembly Station B",status:"paused",progress:45,startTime:"2025-09-08T07:45:00Z",estimatedCompletion:"2025-09-08T19:00:00Z"}],$={totalProcesses:12,activeProcesses:8,completedToday:24,averageEfficiency:94.2},B={stats:$,activeProcesses:E},Z=async(e,s)=>{try{const t="https://sentia-manufacturing-production.onrender.com/api";(await fetch(`${t}/automation/process/${e}/${s}`,{method:"POST"})).ok&&C(t=>t.map(t=>t.id===e?{...t,status:"start"===s?"running":"pause"===s?"paused":"stopped"}:t))}catch(t){}},K=e=>{switch(e){case"running":return"text-green-600 bg-green-100";case"paused":return"text-yellow-600 bg-yellow-100";case"stopped":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return k?s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/4 mb-4"}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[...Array(4)].map((e,t)=>s.jsx("div",{className:"h-32 bg-gray-300 rounded"},t))})]})}):s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Smart Automation"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Monitor and control automated manufacturing processes"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Total Processes"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:A.totalProcesses||12}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configured"})]}),s.jsx(t,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Active"}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:A.activeProcesses||8}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Running now"})]}),s.jsx(a,{className:"h-8 w-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Completed Today"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:A.completedToday||24}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Processes"})]}),s.jsx(r,{className:"h-8 w-8 text-purple-600"})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Avg Efficiency"}),s.jsxs("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:[A.averageEfficiency||94.2,"%"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This week"})]}),s.jsx(i,{className:"h-8 w-8 text-orange-600"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Efficiency Trend (24 hours)"})}),s.jsx("div",{className:"p-6",children:s.jsx(m,{children:s.jsx(h,{width:"100%",height:300,children:s.jsxs(g,{data:[{time:"00:00",efficiency:92},{time:"04:00",efficiency:88},{time:"08:00",efficiency:95},{time:"12:00",efficiency:93},{time:"16:00",efficiency:97},{time:"20:00",efficiency:89}],children:[s.jsx(u,{strokeDasharray:"3 3"}),s.jsx(j,{dataKey:"time"}),s.jsx(p,{domain:[80,100]}),s.jsx(y,{formatter:e=>[`${e}%`,"Efficiency"]}),s.jsx(f,{type:"monotone",dataKey:"efficiency",stroke:"#10B981",strokeWidth:2})]})})})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Process Performance"})}),s.jsx("div",{className:"p-6",children:s.jsx(m,{children:s.jsx(h,{width:"100%",height:300,children:s.jsxs(b,{data:[{name:"Quality Control",uptime:98.5,efficiency:95.2},{name:"Packaging",uptime:92.1,efficiency:88.7},{name:"Assembly",uptime:96.8,efficiency:93.4},{name:"Testing",uptime:99.2,efficiency:97.1}],children:[s.jsx(u,{strokeDasharray:"3 3"}),s.jsx(j,{dataKey:"name"}),s.jsx(p,{}),s.jsx(y,{formatter:e=>[`${e}%`,"Performance"]}),s.jsx(N,{dataKey:"uptime",fill:"#3B82F6",name:"Uptime"}),s.jsx(N,{dataKey:"efficiency",fill:"#10B981",name:"Efficiency"})]})})})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Active Processes"}),s.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(c,{className:"h-4 w-4 mr-2"}),"Configure"]})]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:P.length>0?P.map(e=>{const a=(e=>{switch(e){case"running":return r;case"paused":return x;case"stopped":return o;default:return t}})(e.status);return s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(a,{className:"h-6 w-6 text-gray-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",e.id]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2 mr-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${e.progress}%`}})}),s.jsxs("span",{className:"text-xs text-gray-500",children:[e.progress,"%"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${K(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),s.jsxs("div",{className:"flex space-x-1",children:["running"!==e.status&&s.jsx("button",{onClick:()=>Z(e.id,"start"),className:"p-1 text-green-600 hover:bg-green-100 rounded",children:s.jsx(d,{className:"h-4 w-4"})}),"running"===e.status&&s.jsx("button",{onClick:()=>Z(e.id,"pause"),className:"p-1 text-yellow-600 hover:bg-yellow-100 rounded",children:s.jsx(n,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Z(e.id,"stop"),className:"p-1 text-red-600 hover:bg-red-100 rounded",children:s.jsx(l,{className:"h-4 w-4"})})]})]})]},e.id)}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(t,{className:"h-12 w-12 mx-auto mb-4"}),s.jsx("p",{children:"No active automation processes"}),s.jsx("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Start New Process"})]})})})]})]})};export{v as default};
