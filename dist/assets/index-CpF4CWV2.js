import{a as t,R as e}from"./vendor-CPcSq91-.js";import{C as n,S as s,Q as r,R as a}from"./index-DrxFeC9W.js";const c="label";function u(t,e){"function"==typeof t?t(e):t&&(t.current=e)}function o(t,e){t.labels=e}function f(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;const s=[];t.datasets=e.map(e=>{const r=t.datasets.find(t=>t[n]===e[n]);return r&&e.data&&!s.includes(r)?(s.push(r),Object.assign(r,e),r):{...e}})}function l(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;const n={labels:[],datasets:[]};return o(n,t.labels),f(n,t.datasets,e),n}function i(s,r){const{height:a=150,width:c=300,redraw:i=!1,datasetIdKey:d,type:p,data:g,options:b,plugins:m=[],fallbackContent:h,updateMode:E,...w}=s,y=t.useRef(null),R=t.useRef(null),j=()=>{y.current&&(R.current=new n(y.current,{type:p,data:l(g,d),options:b&&{...b},plugins:m}),u(r,R.current))},v=()=>{u(r,null),R.current&&(R.current.destroy(),R.current=null)};return t.useEffect(()=>{!i&&R.current&&b&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(R.current,b)},[i,b]),t.useEffect(()=>{!i&&R.current&&o(R.current.config.data,g.labels)},[i,g.labels]),t.useEffect(()=>{!i&&R.current&&g.datasets&&f(R.current.config.data,g.datasets,d)},[i,g.datasets]),t.useEffect(()=>{R.current&&(i?(v(),setTimeout(j)):R.current.update(E))},[i,b,g.labels,g.datasets,E]),t.useEffect(()=>{R.current&&(v(),setTimeout(j))},[p]),t.useEffect(()=>(j(),()=>v()),[]),e.createElement("canvas",{ref:y,role:"img",height:a,width:c,...w},h)}const d=t.forwardRef(i);function p(s,r){return n.register(r),t.forwardRef((t,n)=>e.createElement(d,{...t,ref:n,type:s}))}const g=p("line",r),b=p("bar",a),m=p("scatter",s);export{b as B,g as L,m as S};
