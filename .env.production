# ==============================================================================
# Production Environment Configuration
# Sentia Manufacturing Dashboard - Enterprise Edition
# Last Updated: September 2025
# Version: 2.0.0
# ==============================================================================
# CRITICAL: This configuration is for PRODUCTION environment only
# All data must be REAL from APIs and CSV uploads - NO fake/demo/static data
# ==============================================================================

# ==============================================================================
# DEPLOYMENT CONFIGURATION
# ==============================================================================
# Production environment settings for Render deployment
NODE_ENV=production
PORT=10000
NODE_OPTIONS="--expose-gc --max-old-space-size=512"
DEPLOYMENT_STAGE=production
BRANCH=production

# Server configuration
SERVER_TIMEOUT=120000
KEEP_ALIVE_TIMEOUT=65000
HEADERS_TIMEOUT=70000
REQUEST_TIMEOUT=30000

# ==============================================================================
# DATABASE CONFIGURATION - PostgreSQL with pgvector
# ==============================================================================
# Production database with connection pooling and SSL
# Replace placeholders: {PROD_DB_USER}, {PROD_DB_PASS}, {PROD_DB_HOST}
DATABASE_URL=postgresql://{PROD_DB_USER}:{PROD_DB_PASS}@{PROD_DB_HOST}/sentia_manufacturing_prod?schema=public&pgbouncer=true&sslmode=require&connection_limit=10&pool_timeout=60

# Database pool configuration
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_POOL_IDLE=10000
DATABASE_SSL_ENABLED=true

# ==============================================================================
# AUTHENTICATION - Clerk (Production Keys)
# ==============================================================================
# Production Clerk authentication configuration
# Currently using mock mode - replace with actual Clerk credentials when ready
# Replace placeholders: {PROD_CLERK_SECRET}, {PROD_WEBHOOK_SECRET}, {PROD_CLERK_PUBLISHABLE_KEY}
CLERK_ENVIRONMENT=production
CLERK_SECRET_KEY={PROD_CLERK_SECRET}
CLERK_WEBHOOK_SECRET={PROD_WEBHOOK_SECRET}
VITE_CLERK_PUBLISHABLE_KEY={PROD_CLERK_PUBLISHABLE_KEY}
VITE_CLERK_DOMAIN=clerk.financeflo.ai
VITE_DISABLE_AUTH_FALLBACK=true
VITE_FORCE_CLERK_AUTH=false

# Clerk URLs
VITE_CLERK_AFTER_SIGN_IN_URL=/dashboard
VITE_CLERK_AFTER_SIGN_UP_URL=/dashboard
VITE_CLERK_SIGN_IN_URL=/sign-in
VITE_CLERK_SIGN_UP_URL=/sign-up

# ==============================================================================
# AI SERVICE CONFIGURATION
# ==============================================================================
# Production AI/ML API keys for real-time intelligence
# Replace placeholders: {PROD_ANTHROPIC_KEY}, {PROD_OPENAI_KEY}, {PROD_GOOGLE_AI_KEY}
ANTHROPIC_API_KEY={PROD_ANTHROPIC_KEY}
OPENAI_API_KEY={PROD_OPENAI_KEY}
GOOGLE_AI_API_KEY={PROD_GOOGLE_AI_KEY}

# AI Model Configuration
CLAUDE_MODEL=claude-3-sonnet-20240229
GPT_MODEL=gpt-4-turbo-preview
GEMINI_MODEL=gemini-pro
AI_TEMPERATURE=0.7
AI_MAX_TOKENS=4096

# ==============================================================================
# MCP SERVER CONFIGURATION
# ==============================================================================
# Model Context Protocol server for AI orchestration
# Replace placeholder: {PROD_MCP_JWT_SECRET}
MCP_SERVER_URL=https://mcp-server-production.onrender.com
MCP_SERVER_PORT=3001
MCP_ENABLE_WEBSOCKET=true
MCP_JWT_SECRET={PROD_MCP_JWT_SECRET}
MCP_SERVER_HEALTH_CHECK_INTERVAL=30000
MCP_SERVER_TIMEOUT=60000
MCP_MAX_CONNECTIONS=100
MCP_ENABLE_BROADCASTING=true

# ==============================================================================
# XERO ACCOUNTING INTEGRATION (UK/US)
# ==============================================================================
# Production Xero API credentials for real financial data
# Replace placeholders: {PROD_XERO_CLIENT_ID}, {PROD_XERO_CLIENT_SECRET}
XERO_CLIENT_ID={PROD_XERO_CLIENT_ID}
XERO_CLIENT_SECRET={PROD_XERO_CLIENT_SECRET}
XERO_REDIRECT_URI=https://sentia-manufacturing-production.onrender.com/api/xero/callback
XERO_SCOPE=accounting.transactions accounting.reports.read accounting.journals.read accounting.settings accounting.settings.read
XERO_SYNC_INTERVAL="*/30 * * * *"
XERO_ENABLE_WEBHOOKS=true
XERO_WEBHOOK_KEY={PROD_XERO_WEBHOOK_KEY}

# ==============================================================================
# SHOPIFY UK INTEGRATION
# ==============================================================================
# Production Shopify UK store for real sales data
# Replace placeholders: {PROD_SHOPIFY_UK_TOKEN}, {PROD_SHOPIFY_UK_KEY}, {PROD_SHOPIFY_UK_SECRET}
SHOPIFY_UK_ACCESS_TOKEN={PROD_SHOPIFY_UK_TOKEN}
SHOPIFY_UK_API_KEY={PROD_SHOPIFY_UK_KEY}
SHOPIFY_UK_SECRET={PROD_SHOPIFY_UK_SECRET}
SHOPIFY_UK_SHOP_URL=sentiaspirits.myshopify.com
SHOPIFY_UK_API_VERSION=2024-01
SHOPIFY_UK_WEBHOOK_URL=https://sentia-manufacturing-production.onrender.com/api/shopify/uk/webhook
SHOPIFY_UK_SYNC_INTERVAL="*/15 * * * *"
SHOPIFY_UK_ENABLE_INVENTORY_SYNC=true

# ==============================================================================
# SHOPIFY USA INTEGRATION
# ==============================================================================
# Production Shopify US store for real sales data
# Replace placeholders: {PROD_SHOPIFY_USA_TOKEN}, {PROD_SHOPIFY_USA_KEY}, {PROD_SHOPIFY_USA_SECRET}
SHOPIFY_USA_ACCESS_TOKEN={PROD_SHOPIFY_USA_TOKEN}
SHOPIFY_USA_API_KEY={PROD_SHOPIFY_USA_KEY}
SHOPIFY_USA_SECRET={PROD_SHOPIFY_USA_SECRET}
SHOPIFY_USA_SHOP_URL=us-sentiaspirits.myshopify.com
SHOPIFY_USA_API_VERSION=2024-01
SHOPIFY_USA_WEBHOOK_URL=https://sentia-manufacturing-production.onrender.com/api/shopify/usa/webhook
SHOPIFY_USA_SYNC_INTERVAL="*/15 * * * *"
SHOPIFY_USA_ENABLE_INVENTORY_SYNC=true

# ==============================================================================
# AMAZON SELLER CENTRAL INTEGRATION
# ==============================================================================
# Production Amazon SP-API for real marketplace data
# Replace placeholders: {PROD_AMAZON_CLIENT_ID}, {PROD_AMAZON_CLIENT_SECRET}, {PROD_AMAZON_REFRESH_TOKEN}
AMAZON_CLIENT_ID={PROD_AMAZON_CLIENT_ID}
AMAZON_CLIENT_SECRET={PROD_AMAZON_CLIENT_SECRET}
AMAZON_REFRESH_TOKEN={PROD_AMAZON_REFRESH_TOKEN}
AMAZON_UK_MARKETPLACE_ID=A1F83G8C2ARO7P
AMAZON_USA_MARKETPLACE_ID=ATVPDKIKX0DER
AMAZON_EU_MARKETPLACE_ID=A1PA6795UKMFR9
AMAZON_ROLE_ARN={PROD_AMAZON_ROLE_ARN}
AMAZON_API_ENDPOINT=https://sellingpartnerapi-na.amazon.com
AMAZON_SYNC_INTERVAL="*/60 * * * *"
AMAZON_ENABLE_FBA_SYNC=true

# ==============================================================================
# UNLEASHED ERP INTEGRATION
# ==============================================================================
# Production Unleashed API for real inventory data
# Replace placeholders: {PROD_UNLEASHED_ID}, {PROD_UNLEASHED_KEY}
UNLEASHED_API_ID={PROD_UNLEASHED_ID}
UNLEASHED_API_KEY={PROD_UNLEASHED_KEY}
UNLEASHED_API_URL=https://api.unleashedsoftware.com
UNLEASHED_SYNC_INTERVAL="*/20 * * * *"
UNLEASHED_PAGE_SIZE=200
UNLEASHED_ENABLE_REAL_TIME=true

# ==============================================================================
# MICROSOFT 365 INTEGRATION
# ==============================================================================
# Production Microsoft tenant for real business data
# Replace placeholders: {PROD_MICROSOFT_CLIENT_ID}, {PROD_MICROSOFT_CLIENT_SECRET}
MICROSOFT_TENANT_ID=common
MICROSOFT_CLIENT_ID={PROD_MICROSOFT_CLIENT_ID}
MICROSOFT_CLIENT_SECRET={PROD_MICROSOFT_CLIENT_SECRET}
MICROSOFT_REDIRECT_URI=https://sentia-manufacturing-production.onrender.com/api/microsoft/callback
MICROSOFT_ADMIN_EMAIL=admin@app.sentiaspirits.com
MICROSOFT_DATA_EMAIL=data@app.sentiaspirits.com
MICROSOFT_GRAPH_SCOPE=https://graph.microsoft.com/.default
MICROSOFT_ENABLE_SHAREPOINT_SYNC=true

# ==============================================================================
# REDIS CACHE CONFIGURATION
# ==============================================================================
# Production Redis for caching and sessions
# Replace placeholder: {PROD_REDIS_URL}
REDIS_URL={PROD_REDIS_URL}
REDIS_TLS_ENABLED=true
REDIS_FAMILY=4
REDIS_DB=0
REDIS_KEY_PREFIX=sentia:prod:
REDIS_TTL=3600

# ==============================================================================
# SECURITY CONFIGURATION
# ==============================================================================
# Production security keys and settings
# Replace placeholders: {PROD_JWT_SECRET}, {PROD_SESSION_SECRET}, {PROD_ENCRYPTION_KEY}
JWT_SECRET={PROD_JWT_SECRET}
SESSION_SECRET={PROD_SESSION_SECRET}
ENCRYPTION_KEY={PROD_ENCRYPTION_KEY}
BCRYPT_ROUNDS=12
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=strict
SESSION_MAX_AGE=86400000

# CORS Configuration
CORS_ORIGINS=https://sentia-manufacturing-production.onrender.com,https://sentiaprod.financeflo.ai,https://web-production-1f10.up.railway.app
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# ==============================================================================
# FRONTEND CONFIGURATION
# ==============================================================================
# Production frontend environment variables
VITE_API_BASE_URL=https://sentia-manufacturing-production.onrender.com/api
VITE_WEBSOCKET_URL=wss://sentia-manufacturing-production.onrender.com
VITE_MCP_SERVER_URL=https://mcp-server-production.onrender.com
VITE_APP_TITLE="Sentia Manufacturing Dashboard"
VITE_APP_VERSION=2.0.0
VITE_APP_ENVIRONMENT=production
VITE_ENABLE_ANALYTICS=true
VITE_GA_TRACKING_ID={PROD_GA_TRACKING_ID}

# ==============================================================================
# FEATURE FLAGS - PRODUCTION SETTINGS
# ==============================================================================
# Control feature availability in production
AUTO_DEPLOY_ENABLED=true
AUTO_FIX_ENABLED=false
AUTO_SYNC_ENABLED=true
ENABLE_AUTONOMOUS_TESTING=false
ENABLE_DETAILED_LOGGING=false
DISABLE_TEST_DATA_GENERATION=true
ENABLE_REAL_TIME_SYNC=true
ENABLE_AI_INSIGHTS=true
ENABLE_PREDICTIVE_ANALYTICS=true
ENABLE_ADVANCED_REPORTING=true
ENABLE_MULTI_CURRENCY=true
ENABLE_MULTI_WAREHOUSE=true
ENABLE_BATCH_PROCESSING=true
ENABLE_WEBHOOK_PROCESSING=true
ENABLE_EMAIL_NOTIFICATIONS=true

# ==============================================================================
# DATA VALIDATION - CRITICAL FOR PRODUCTION
# ==============================================================================
# Ensure only real data from APIs and CSV uploads
REQUIRE_REAL_DATA=true
BLOCK_MOCK_DATA=true
BLOCK_STATIC_DATA=true
BLOCK_FALLBACK_DATA=true
VALIDATE_API_RESPONSES=true
ENFORCE_DATA_INTEGRITY=true
AUDIT_DATA_SOURCES=true

# ==============================================================================
# MONITORING & LOGGING
# ==============================================================================
# Production monitoring configuration
LOG_LEVEL=error
LOG_FORMAT=json
LOG_TO_FILE=true
LOG_FILE_PATH=/var/log/sentia/production.log
LOG_ROTATION_SIZE=10M
LOG_RETENTION_DAYS=30

# Performance Monitoring
ENABLE_APM=true
APM_SERVICE_NAME=sentia-manufacturing-production
APM_SERVER_URL={PROD_APM_SERVER_URL}
APM_SECRET_TOKEN={PROD_APM_SECRET_TOKEN}

# Error Tracking
SENTRY_DSN={PROD_SENTRY_DSN}
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# ==============================================================================
# SCHEDULED JOBS & BACKGROUND TASKS
# ==============================================================================
# Production cron schedules for data synchronization
DATABASE_SYNC_INTERVAL="0 */6 * * *"
CACHE_CLEANUP_INTERVAL="0 3 * * *"
REPORT_GENERATION_INTERVAL="0 7 * * *"
BACKUP_INTERVAL="0 2 * * *"
HEALTH_CHECK_INTERVAL="*/5 * * * *"

# ==============================================================================
# EMAIL CONFIGURATION
# ==============================================================================
# Production email service for notifications
# Replace placeholders: {PROD_SMTP_HOST}, {PROD_SMTP_USER}, {PROD_SMTP_PASS}
SMTP_HOST={PROD_SMTP_HOST}
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER={PROD_SMTP_USER}
SMTP_PASS={PROD_SMTP_PASS}
EMAIL_FROM=noreply@sentiaspirits.com
EMAIL_ADMIN=admin@sentiaspirits.com

# ==============================================================================
# BACKUP & DISASTER RECOVERY
# ==============================================================================
# Production backup configuration
# Replace placeholders: {PROD_BACKUP_S3_BUCKET}, {PROD_AWS_ACCESS_KEY}, {PROD_AWS_SECRET_KEY}
BACKUP_ENABLED=true
BACKUP_S3_BUCKET={PROD_BACKUP_S3_BUCKET}
BACKUP_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID={PROD_AWS_ACCESS_KEY}
AWS_SECRET_ACCESS_KEY={PROD_AWS_SECRET_KEY}
BACKUP_RETENTION_DAYS=90
BACKUP_ENCRYPTION_ENABLED=true

# ==============================================================================
# COMPLIANCE & AUDIT
# ==============================================================================
# Production compliance settings
GDPR_COMPLIANT=true
DATA_RETENTION_DAYS=2555
AUDIT_LOG_ENABLED=true
PII_ENCRYPTION_ENABLED=true
COMPLIANCE_MODE=strict

# ==============================================================================
# PERFORMANCE OPTIMIZATION
# ==============================================================================
# Production performance tuning
ENABLE_COMPRESSION=true
ENABLE_CACHING=true
CACHE_STATIC_ASSETS=true
CDN_ENABLED=true
CDN_URL={PROD_CDN_URL}
OPTIMIZE_IMAGES=true
LAZY_LOAD_ENABLED=true
CODE_SPLITTING_ENABLED=true

# ==============================================================================
# END OF PRODUCTION CONFIGURATION
# ==============================================================================
# WARNING: This is a production configuration file
# All placeholder values marked with {} must be replaced with actual credentials
# Never commit actual credentials to version control
# Use environment-specific secret management for sensitive values
# ==============================================================================