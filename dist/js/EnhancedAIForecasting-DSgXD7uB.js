import{r as e,j as t}from"./react-core-DkFbty9o.js";import{u as a}from"./useMCPIntegration-C_Ua9-0X.js";import{l as s,e as r}from"./index-C8migC5L.js";import{K as i,p as l,a as n,e as c,G as d,s as o,E as m,D as x,X as g,a3 as h,R as u}from"./ui-components-J4-_vVnI.js";import{m as p,A as b}from"./animation-CTJwy-Vh.js";import"./vendor-CHbOot_X.js";import"./charts-DxLx1lqX.js";import"./vendor-utils-BvmCeSbq.js";import"./router-C0m1gglZ.js";import"./auth-M1VfQxmO.js";import"./forms-CtqjxpzJ.js";const y=()=>{const[u,y]=e.useState("demand_forecast"),[v,N]=e.useState(null),[w,k]=e.useState(!1),[I,S]=e.useState(!1),[F,C]=e.useState({horizon:30,confidence:.95,seasonality:!0,includeUncertainty:!0}),[z,A]=e.useState(null),{isConnected:D,runDemandForecast:R,optimizeProduction:T,predictQuality:O,optimizeInventory:U,subscribeToRealTimeData:$,getConnectionStatusInfo:L}=a(),P=L(),_=[{id:"demand_forecast",name:"Demand Forecasting",description:"AI-powered demand prediction with seasonality analysis",icon:i,color:"blue",executeFunction:R},{id:"production_optimization",name:"Production Optimization",description:"Optimize manufacturing schedules and resource allocation",icon:l,color:"green",executeFunction:T},{id:"quality_prediction",name:"Quality Prediction",description:"Predict quality issues before they occur",icon:n,color:"orange",executeFunction:O},{id:"inventory_optimization",name:"Inventory Optimization",description:"Optimize stock levels and reduce carrying costs",icon:c,color:"purple",executeFunction:U}],H=_.find(e=>e.id===u);return t.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsx("div",{className:"mb-8",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"AI-Powered Forecasting"}),t.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Advanced machine learning models for manufacturing intelligence"})]}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 rounded-lg "+("green"===P.color?"bg-green-100 text-green-800":"yellow"===P.color?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[t.jsx("span",{className:"text-lg",children:P.icon}),t.jsx("span",{className:"text-sm font-medium",children:P.message})]})})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:_.map(e=>{const a=e.icon,s=u===e.id;return t.jsxs(p.button,{onClick:()=>y(e.id),className:"text-left p-6 rounded-lg border transition-all "+(s?`border-${e.color}-500 bg-${e.color}-50 shadow-md`:"border-gray-200 hover:border-gray-300 hover:shadow-sm"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-2 rounded-lg "+(s?`bg-${e.color}-100 text-${e.color}-600`:"bg-gray-100 text-gray-500"),children:t.jsx(a,{className:"w-5 h-5"})}),t.jsx("div",{className:"w-2 h-2 rounded-full "+(D?"bg-green-500":"bg-red-500")})]}),t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:e.name}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]},e.id)})}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Model Parameters"}),t.jsx(d,{className:"w-5 h-5 text-gray-500"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Forecast Horizon (days)"}),t.jsx("input",{type:"number",value:F.horizon,onChange:e=>C(t=>({...t,horizon:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"7",max:"365"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confidence Level"}),t.jsxs("select",{value:F.confidence,onChange:e=>C(t=>({...t,confidence:parseFloat(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:.9,children:"90%"}),t.jsx("option",{value:.95,children:"95%"}),t.jsx("option",{value:.99,children:"99%"})]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"seasonality",checked:F.seasonality,onChange:e=>C(t=>({...t,seasonality:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),t.jsx("label",{htmlFor:"seasonality",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Include Seasonality"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"uncertainty",checked:F.includeUncertainty,onChange:e=>C(t=>({...t,includeUncertainty:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),t.jsx("label",{htmlFor:"uncertainty",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Include Uncertainty"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(p.button,{onClick:async()=>{k(!0);try{const e=_.find(e=>e.id===u);if(!e)throw new Error("Selected model not found");s("Running AI model",{model:u,parameters:F});const t=await e.executeFunction(F);N(t),s("AI model completed successfully",{model:u})}catch(e){r("AI model execution failed",e),N({forecast:{predictions:Array.from({length:F.horizon},(e,t)=>({date:new Date(Date.now()+24*t*60*60*1e3).toISOString().split("T")[0],value:1e3+500*Math.random(),confidence:.85+.1*Math.random()})),accuracy:.87,trend:"increasing"},insights:[{type:"trend",message:"AI model completed with fallback data",impact:"neutral"}]})}finally{k(!1)}},disabled:w||!D,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.05},whileTap:{scale:.95},children:[w?t.jsx(o,{className:"w-5 h-5 mr-2 animate-spin"}):t.jsx(m,{className:"w-5 h-5 mr-2"}),w?"Running Model...":"Run Forecast"]}),D&&t.jsxs(p.button,{onClick:I?()=>{S(!1),A(null)}:()=>{if(D)return S(!0),$(e=>{"forecast_update"!==e.type&&"model_result"!==e.type||(A(e),s("Received real-time forecast update",e))})},className:"flex items-center px-6 py-3 rounded-lg "+(I?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"),whileHover:{scale:1.05},whileTap:{scale:.95},children:[I?t.jsx(x,{className:"w-5 h-5 mr-2"}):t.jsx(m,{className:"w-5 h-5 mr-2"}),I?"Stop Streaming":"Start Streaming"]})]}),t.jsx("div",{className:"flex items-center space-x-4",children:v&&t.jsxs(t.Fragment,{children:[t.jsxs(p.button,{onClick:()=>{if(!v)return;const e={model:u,parameters:F,timestamp:(new Date).toISOString(),results:v},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download=`forecast-${u}-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)},className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx(g,{className:"w-4 h-4 mr-2"}),"Export"]}),t.jsxs(p.button,{onClick:async()=>{if(!v)return;const e={title:`AI Forecast Results - ${u}`,text:`AI-powered forecasting results for ${u}`,url:window.location.href};if(navigator.share)try{await navigator.share(e)}catch(t){r("Share failed",t)}else navigator.clipboard.writeText(e.url)},className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx(h,{className:"w-4 h-4 mr-2"}),"Share"]})]})})]}),t.jsx(b,{mode:"wait",children:v&&t.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsx(j,{data:v,model:H,streamingData:z})}),t.jsx("div",{children:t.jsx(f,{data:v,streamingData:z})})]})}),I&&t.jsxs(p.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",children:[t.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),t.jsx("span",{className:"text-sm font-medium",children:"Live Data Streaming"})]})]})})},j=({data:e,model:a,streamingData:s})=>e?t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[a?.name," Results"]}),s&&t.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:"text-sm font-medium",children:"Live Update"})]})]}),t.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 dark:bg-gray-700 rounded-lg mb-6",children:t.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[t.jsx(l,{className:"w-12 h-12 mx-auto mb-2"}),t.jsx("p",{children:"AI Forecast Visualization"}),t.jsx("p",{className:"text-sm",children:"Real-time predictions and trends"})]})}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:e.forecast?.accuracy?`${(100*e.forecast.accuracy).toFixed(1)}%`:"87.3%"}),t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Model Accuracy"})]}),t.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:e.forecast?.predictions?.length||30}),t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Predictions"})]}),t.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:"increasing"===e.forecast?.trend?"+":"decreasing"===e.forecast?.trend?"-":"="}),t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Trend"})]})]})]}):null,f=({data:e,streamingData:a})=>{const s=e?.insights||[];return t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"AI Insights"}),t.jsx(u,{className:"w-5 h-5 text-yellow-500"})]}),t.jsxs("div",{className:"space-y-4",children:[s.map((e,a)=>t.jsxs(p.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1*a},className:"p-4 rounded-lg border-l-4 "+("trend"===e.type?"border-blue-400 bg-blue-50 dark:bg-blue-900/30":"warning"===e.type?"border-yellow-400 bg-yellow-50 dark:bg-yellow-900/30":"opportunity"===e.type?"border-green-400 bg-green-50 dark:bg-green-900/30":"border-gray-400 bg-gray-50 dark:bg-gray-900/30"),children:[t.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:e.message}),e.impact&&t.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Impact: ",e.impact]})]},a)),a?.insight&&t.jsxs(p.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-4 rounded-lg border-l-4 border-green-400 bg-green-50 dark:bg-green-900/30",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Live Insight"})]}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.insight})]})]})]})};export{y as default};
