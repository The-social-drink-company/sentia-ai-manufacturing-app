import{r as e,j as t}from"./react-core-DkFbty9o.js";import{h as s}from"./index-D4EDaX83.js";import{p as a,e as r,a as i,b as l,c as d,q as n,r as c,ae as x,G as m}from"./ui-components-J4-_vVnI.js";import{m as o,A as g}from"./animation-CTJwy-Vh.js";import"./vendor-CHbOot_X.js";import"./charts-DxLx1lqX.js";import"./vendor-utils-BvmCeSbq.js";import"./router-C0m1gglZ.js";import"./auth-M1VfQxmO.js";import"./forms-CtqjxpzJ.js";const h=()=>{const[h,b]=e.useState("overview"),[N,v]=e.useState([]),[f,w]=e.useState({}),{isConnected:k,sendMessage:S,getConnectionStatusInfo:I,lastUpdate:q}=s(),D=I(),L=[{id:"overview",name:"Overview",icon:a,description:"System-wide monitoring dashboard"},{id:"production",name:"Production Lines",icon:r,description:"Real-time production monitoring"},{id:"quality",name:"Quality Control",icon:i,description:"Quality metrics and alerts"},{id:"inventory",name:"Inventory",icon:l,description:"Stock levels and movements"}];e.useEffect(()=>{const e=setInterval(()=>{if(k){const e={lines:[{id:"line1",status:"running",efficiency:94.2,units:1247},{id:"line2",status:"running",efficiency:87.8,units:1156},{id:"line3",status:"maintenance",efficiency:0,units:0},{id:"line4",status:"running",efficiency:91.5,units:1198}],totalUnits:3601,averageEfficiency:91.2},t={passRate:96.8,defectRate:.8,inspections:1247,alerts:[{id:"q1",type:"warning",message:"Temperature variance detected on Line 2",timestamp:(new Date).toISOString(),severity:"medium"}]},s={totalItems:2847,lowStock:23,criticalStock:5,movements:[{sku:"SKU-001",action:"in",quantity:500,timestamp:(new Date).toISOString()},{sku:"SKU-002",action:"out",quantity:250,timestamp:(new Date).toISOString()}]};w({production:e,quality:t,inventory:s,lastUpdate:(new Date).toISOString()}),S("production_update",e),S("quality_update",t),S("inventory_update",s)}},2e3);return()=>clearInterval(e)},[k,S]),e.useEffect(()=>{f.quality?.alerts&&v(e=>[...f.quality.alerts,...e.filter(e=>!f.quality.alerts.some(t=>t.id===e.id))])},[f.quality?.alerts]);const U=e=>{switch(e){case"high":return"text-red-600 bg-red-100 border-red-200";case"medium":return"text-yellow-600 bg-yellow-100 border-yellow-200";case"low":return"text-blue-600 bg-blue-100 border-blue-200";default:return"text-gray-600 bg-gray-100 border-gray-200"}};return L.find(e=>e.id===h),t.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsx("div",{className:"mb-8",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Real-Time Monitoring"}),t.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Live manufacturing operations dashboard"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 rounded-lg "+("green"===D.color?"bg-green-100 text-green-800":"yellow"===D.color?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[t.jsx("span",{className:"text-lg",children:D.icon}),t.jsx("span",{className:"text-sm font-medium",children:D.message})]}),q&&t.jsxs("div",{className:"flex items-center space-x-2 text-gray-500 text-sm",children:[t.jsx(d,{className:"w-4 h-4"}),t.jsxs("span",{children:["Updated ",new Date(q).toLocaleTimeString()]})]})]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:L.map(e=>{const s=e.icon,a=h===e.id;return t.jsxs(o.button,{onClick:()=>b(e.id),className:"text-left p-4 rounded-lg border transition-all "+(a?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx(s,{className:"w-5 h-5 "+(a?"text-blue-600":"text-gray-500")}),t.jsx("span",{className:"font-medium "+(a?"text-blue-900":"text-gray-900 dark:text-white"),children:e.name})]}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.description})]},e.id)})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[t.jsx("div",{className:"lg:col-span-3",children:t.jsx(g,{mode:"wait",children:t.jsxs(o.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:["overview"===h&&t.jsx(u,{metrics:f}),"production"===h&&t.jsx(j,{metrics:f}),"quality"===h&&t.jsx(y,{metrics:f}),"inventory"===h&&t.jsx(p,{metrics:f})]},h)})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"System Status"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Connection"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full "+(k?"bg-green-500":"bg-red-500")}),t.jsx("span",{className:"text-sm font-medium "+(k?"text-green-600":"text-red-600"),children:k?"Connected":"Disconnected"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Data Stream"}),t.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:k?"Active":"Inactive"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Last Update"}),t.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:q?new Date(q).toLocaleTimeString():"Never"})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Active Alerts"}),t.jsx("div",{className:"space-y-3",children:N.length>0?N.map((e,s)=>t.jsx(o.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-3 rounded-lg border ${U(e.severity)}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium",children:e.message}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.timestamp).toLocaleTimeString()})]}),t.jsx("button",{className:"ml-2 text-gray-400 hover:text-gray-600",children:t.jsx(n,{className:"w-4 h-4"})})]})},e.id||s)):t.jsxs("div",{className:"text-center py-4 text-gray-500",children:[t.jsx(c,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),t.jsx("p",{className:"text-sm",children:"No active alerts"})]})})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(o.button,{className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",whileHover:{x:4},children:[t.jsx(x,{className:"w-4 h-4"}),t.jsx("span",{children:"View Detailed Logs"})]}),t.jsxs(o.button,{className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",whileHover:{x:4},children:[t.jsx(m,{className:"w-4 h-4"}),t.jsx("span",{children:"Adjust Settings"})]}),t.jsxs(o.button,{className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",whileHover:{x:4},children:[t.jsx(a,{className:"w-4 h-4"}),t.jsx("span",{children:"Export Data"})]})]})]})]})]})]})})},u=({metrics:e})=>{const s=e.production||{},a=e.quality||{},i=e.inventory||{};return t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"System Overview"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Production Efficiency"}),t.jsx(r,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),t.jsxs("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:[s.averageEfficiency||0,"%"]}),t.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-200",children:[s.totalUnits||0," units produced"]})]}),t.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 rounded-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Quality Pass Rate"}),t.jsx(c,{className:"w-5 h-5 text-green-600 dark:text-green-400"})]}),t.jsxs("div",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:[a.passRate||0,"%"]}),t.jsxs("div",{className:"text-sm text-green-700 dark:text-green-200",children:[a.inspections||0," inspections"]})]}),t.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/30 rounded-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"text-sm font-medium text-purple-800 dark:text-purple-300",children:"Inventory Status"}),t.jsx(l,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})]}),t.jsx("div",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:i.totalItems||0}),t.jsxs("div",{className:"text-sm text-purple-700 dark:text-purple-200",children:[i.lowStock||0," low stock items"]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Production Lines"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.lines?.map((e,s)=>t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.id.toUpperCase()}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(e.status)}`,children:e.status})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Efficiency"}),t.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[e.efficiency,"%"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Units"}),t.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.units})]})]},e.id))})]})]})},j=({metrics:e})=>{const s=e.production||{};return t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Production Lines Monitoring"}),t.jsx("div",{className:"space-y-4",children:s.lines?.map((e,s)=>t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.id.toUpperCase()}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Production Line"})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${b(e.status)}`,children:e.status})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Efficiency"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${e.efficiency}%`}})}),t.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[e.efficiency,"%"]})]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Units Produced"}),t.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.units})]})]})]},e.id))})]})},y=({metrics:e})=>{const s=e.quality||{};return t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Quality Control Monitoring"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-green-800 dark:text-green-300 mb-2",children:"Pass Rate"}),t.jsxs("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:[s.passRate||0,"%"]}),t.jsxs("div",{className:"text-sm text-green-700 dark:text-green-200 mt-1",children:[s.inspections||0," total inspections"]})]}),t.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-300 mb-2",children:"Defect Rate"}),t.jsxs("div",{className:"text-3xl font-bold text-red-900 dark:text-red-100",children:[s.defectRate||0,"%"]}),t.jsx("div",{className:"text-sm text-red-700 dark:text-red-200 mt-1",children:"Below target threshold"})]})]}),t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quality Trends"}),t.jsx("div",{className:"h-32 flex items-center justify-center text-gray-500 dark:text-gray-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(a,{className:"w-8 h-8 mx-auto mb-2"}),t.jsx("p",{className:"text-sm",children:"Quality trend visualization"})]})})]})]})},p=({metrics:e})=>{const s=e.inventory||{};return t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Inventory Monitoring"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-300 mb-2",children:"Total Items"}),t.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:s.totalItems||0}),t.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-200 mt-1",children:"Active SKUs"})]}),t.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-yellow-800 dark:text-yellow-300 mb-2",children:"Low Stock"}),t.jsx("div",{className:"text-3xl font-bold text-yellow-900 dark:text-yellow-100",children:s.lowStock||0}),t.jsx("div",{className:"text-sm text-yellow-700 dark:text-yellow-200 mt-1",children:"Items need attention"})]}),t.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-300 mb-2",children:"Critical Stock"}),t.jsx("div",{className:"text-3xl font-bold text-red-900 dark:text-red-100",children:s.criticalStock||0}),t.jsx("div",{className:"text-sm text-red-700 dark:text-red-200 mt-1",children:"Immediate action required"})]})]}),t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Movements"}),t.jsx("div",{className:"space-y-3",children:s.movements?.map((e,s)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-2 h-2 rounded-full "+("in"===e.action?"bg-green-500":"bg-red-500")}),t.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.sku})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("span",{className:"text-sm font-medium "+("in"===e.action?"text-green-600":"text-red-600"),children:["in"===e.action?"+":"-",e.quantity]}),t.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.timestamp).toLocaleTimeString()})]})]},s))})]})]})},b=e=>{switch(e){case"running":return"text-green-600 bg-green-100";case"maintenance":return"text-yellow-600 bg-yellow-100";case"stopped":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};export{h as default};
