import{r as e,u as t,j as s}from"./react-core-DkFbty9o.js";import{c as r}from"./index-D4EDaX83.js";import{F as a,a as d,b as i,c as n,d as l,e as c}from"./ui-components-J4-_vVnI.js";import"./vendor-CHbOot_X.js";import"./charts-DxLx1lqX.js";import"./vendor-utils-BvmCeSbq.js";import"./router-C0m1gglZ.js";import"./auth-M1VfQxmO.js";import"./forms-CtqjxpzJ.js";import"./animation-CTJwy-Vh.js";const o=({title:e,value:t,change:a,changeType:d,suffix:i="",icon:n,status:l="normal"})=>s.jsx("div",{className:"bg-elevated rounded-lg p-6 border border-light",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("div",{className:r("p-2 rounded-lg",{good:"text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20",warning:"text-yellow-600 dark:text-yellow-400 bg-yellow-50 dark:bg-yellow-900/20",error:"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20",normal:"text-secondary bg-secondary"}[l]),children:s.jsx(n,{className:"w-5 h-5"})}),s.jsx("p",{className:"text-sm font-medium text-secondary",children:e})]}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[t,i]}),void 0!==a&&s.jsxs("div",{className:r("flex items-center text-sm mt-1",{positive:"text-green-600 dark:text-green-400",negative:"text-red-600 dark:text-red-400",neutral:"text-tertiary"}[d]),children:[s.jsxs("span",{children:["positive"===d?"+":"negative"===d?"-":"",Math.abs(a),"%"]}),s.jsx("span",{className:"ml-1 text-tertiary",children:"vs last hour"})]})]})})}),m=({data:e,title:t})=>{const r=Math.max(...e);return s.jsxs("div",{className:"bg-elevated rounded-lg p-6 border border-light",children:[s.jsx("h3",{className:"text-lg font-medium text-primary mb-4",children:t}),s.jsx("div",{className:"flex items-end justify-between h-32 space-x-1",children:e.map((t,a)=>s.jsx("div",{className:"bg-blue-500 rounded-t",style:{height:t/r*100+"%",width:"100%"},title:`${t} at ${new Date(Date.now()-5*(e.length-a)*60*1e3).toLocaleTimeString()}`},a))})]})},g=({incidents:e})=>0===e.length?null:s.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6 dark:bg-red-900/20 dark:border-red-600",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(d,{className:"h-5 w-5 text-red-400"})}),s.jsxs("div",{className:"ml-3",children:[s.jsxs("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:["Active Incidents (",e.length,")"]}),s.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:e.map((e,t)=>s.jsxs("div",{className:"mb-1",children:[s.jsx("span",{className:"font-medium",children:e.title}),s.jsxs("span",{className:"ml-2 text-xs",children:["Started ",e.startedAt]})]},t))}),s.jsx("div",{className:"mt-3",children:s.jsx("button",{className:"text-sm font-medium text-red-800 dark:text-red-200 hover:text-red-900 dark:hover:text-red-100",children:"View Error Explorer â†’"})})]})]})}),x=()=>{const[r,x]=e.useState("1h"),{data:u,isLoading:h}=t({queryKey:["admin","health",r],queryFn:async()=>(await new Promise(e=>setTimeout(e,1e3)),{uptime:{value:"99.9",status:"good",since:"2025-01-01T00:00:00Z"},errorRate:{value:"0.2",change:-15,changeType:"positive",status:"good"},latencyP95:{value:"145",change:5,changeType:"negative",status:"warning"},queueDepth:{value:"12",change:-8,changeType:"positive",status:"good"},dbConnections:{value:"45",total:100,status:"good"},redisStatus:{value:"Connected",memoryUsage:"67%",status:"good"},timeline:{errorRate:[.1,.2,.3,.2,.1,.2,.2,.1,.3,.2,.1,.2],latency:[120,135,140,145,150,148,142,138,145,149,152,145],requests:[1200,1350,1100,1400,1250,1300,1180,1420,1380,1150,1290,1310]}}),refetchInterval:3e4});return h?s.jsx("div",{className:"p-6 space-y-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-tertiary rounded w-1/4 mb-6"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[...Array(6)].map((e,t)=>s.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[s.jsx("div",{className:"h-16 bg-tertiary rounded mb-4"}),s.jsx("div",{className:"h-8 bg-tertiary rounded mb-2"}),s.jsx("div",{className:"h-4 bg-tertiary rounded w-1/2"})]},t))})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-primary",children:"System Overview"}),s.jsx("p",{className:"text-secondary mt-1",children:"Real-time system health and performance metrics"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("select",{value:r,onChange:e=>x(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[s.jsx("option",{value:"5m",children:"Last 5 minutes"}),s.jsx("option",{value:"1h",children:"Last hour"}),s.jsx("option",{value:"24h",children:"Last 24 hours"})]})})]}),s.jsx(g,{incidents:[]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsx(o,{title:"System Uptime",value:u?.uptime.value,suffix:"%",icon:a,status:u?.uptime.status}),s.jsx(o,{title:"Error Rate",value:u?.errorRate.value,suffix:"%",change:u?.errorRate.change,changeType:u?.errorRate.changeType,icon:d,status:u?.errorRate.status}),s.jsx(o,{title:"P95 Latency",value:u?.latencyP95.value,suffix:"ms",change:u?.latencyP95.change,changeType:u?.latencyP95.changeType,icon:i,status:u?.latencyP95.status}),s.jsx(o,{title:"Queue Depth",value:u?.queueDepth.value,change:u?.queueDepth.change,changeType:u?.queueDepth.changeType,icon:n,status:u?.queueDepth.status}),s.jsx(o,{title:"DB Connections",value:u?.dbConnections.value,suffix:`/${u?.dbConnections.total}`,icon:l,status:u?.dbConnections.status}),s.jsx(o,{title:"Redis Status",value:u?.redisStatus.value,icon:c,status:u?.redisStatus.status})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(m,{data:u?.timeline.errorRate||[],title:"Error Rate Timeline"}),s.jsx(m,{data:u?.timeline.latency||[],title:"Latency Timeline"}),s.jsx(m,{data:u?.timeline.requests||[],title:"Request Volume"})]}),s.jsxs("div",{className:"bg-elevated rounded-lg p-6 border border-light",children:[s.jsx("h3",{className:"text-lg font-medium text-primary mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("button",{className:"flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-600",children:"View Error Logs"}),s.jsx("button",{className:"flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-600",children:"System Maintenance"}),s.jsx("button",{className:"flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-600",children:"Manage Users"}),s.jsx("button",{className:"flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-600",children:"Check Integrations"})]})]})]})};export{x as default};
