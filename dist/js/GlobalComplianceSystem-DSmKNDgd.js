import{r as e,j as a}from"./react-core-DkFbty9o.js";import{c as t}from"./index-C8migC5L.js";import{bx as s}from"./vendor-CHbOot_X.js";import{j as r,aM as i,am as n}from"./ui-components-J4-_vVnI.js";const l=e.createContext(null),d=()=>{const a=e.useContext(l);if(!a)throw new Error("useTheme must be used within a ThemeProvider");return a},o=s(["inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium","transition-colors duration-200 ease-in-out","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","select-none"],{variants:{variant:{primary:["bg-blue-600 text-white shadow-sm","hover:bg-blue-700 hover:shadow-md","focus-visible:ring-blue-500","active:bg-blue-800"],secondary:["bg-blue-100 text-blue-900 border border-blue-200","hover:bg-blue-200 hover:border-blue-300","focus-visible:ring-blue-500","active:bg-blue-300"],outline:["border border-gray-300 bg-white text-gray-700 shadow-sm","hover:bg-gray-50 hover:border-gray-400","focus-visible:ring-blue-500","active:bg-gray-100"],ghost:["text-gray-700","hover:bg-gray-100","focus-visible:ring-blue-500","active:bg-gray-200"],destructive:["bg-red-600 text-white shadow-sm","hover:bg-red-700 hover:shadow-md","focus-visible:ring-red-500","active:bg-red-800"],success:["bg-green-600 text-white shadow-sm","hover:bg-green-700 hover:shadow-md","focus-visible:ring-green-500","active:bg-green-800"],warning:["bg-amber-500 text-white shadow-sm","hover:bg-amber-600 hover:shadow-md","focus-visible:ring-amber-500","active:bg-amber-700"]},size:{xs:"h-7 px-2 text-xs",sm:"h-8 px-3 text-sm",default:"h-9 px-4 py-2",lg:"h-10 px-6 text-base",xl:"h-12 px-8 text-lg",icon:"h-9 w-9 p-0"},fullWidth:{true:"w-full",false:"w-auto"}},defaultVariants:{variant:"primary",size:"default",fullWidth:!1}}),c=({size:e=16})=>a.jsxs("svg",{className:"animate-spin",width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m=e.forwardRef(({className:e,variant:s="primary",size:r="default",fullWidth:i=!1,loading:n=!1,disabled:l=!1,leftIcon:d,rightIcon:m,children:u,onClick:g,type:x="button",ariaLabel:h,...b},p)=>{const v={xs:12,sm:14,default:16,lg:18,xl:20,icon:16}[r];return a.jsxs("button",{ref:p,type:x,className:t(o({variant:s,size:r,fullWidth:i}),e),disabled:l||n,onClick:e=>{n||l?e.preventDefault():g?.(e)},"aria-label":h,"aria-busy":n,...b,children:[n?a.jsx(c,{size:v}):d?a.jsx("span",{className:"mr-2 -ml-1",children:d}):null,n?a.jsx("span",{className:"ml-2",children:"Loading..."}):a.jsxs(a.Fragment,{children:[u,m&&a.jsx("span",{className:"ml-2 -mr-1",children:m})]})]})});m.displayName="Button",e.forwardRef(({icon:e,ariaLabel:t,variant:s="ghost",size:r="icon",...i},n)=>a.jsx(m,{ref:n,variant:s,size:r,ariaLabel:t,...i,children:e})).displayName="IconButton",e.forwardRef(({value:e,label:s,trend:r,onClick:i,className:n,...l},d)=>{const o="up"===r?"text-green-600":"down"===r?"text-red-600":"text-gray-600",c="up"===r?"↗":"down"===r?"↘":"→";return a.jsxs(m,{ref:d,variant:"outline",className:t("h-auto p-4 flex-col items-start text-left min-w-32","hover:shadow-lg transition-shadow",n),onClick:i,...l,children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[s,a.jsx("span",{className:t("ml-1",o),children:c})]})]})}).displayName="KPIButton",e.forwardRef(({status:e,label:s,count:r,onClick:i,className:n,...l},d)=>{const o={online:{color:"bg-green-500",variant:"success"},offline:{color:"bg-gray-500",variant:"secondary"},warning:{color:"bg-amber-500",variant:"warning"},error:{color:"bg-red-500",variant:"destructive"},maintenance:{color:"bg-blue-500",variant:"primary"}},c=o[e]||o.offline;return a.jsxs(m,{ref:d,variant:c.variant,className:t("relative",n),onClick:i,...l,children:[a.jsx("div",{className:t("w-2 h-2 rounded-full mr-2",c.color)}),s,r&&a.jsx("span",{className:"ml-2 bg-white bg-opacity-20 rounded-full px-2 py-1 text-xs",children:r})]})}).displayName="StatusButton";const u=({className:t="",selectedRegion:s="global",autoValidate:l=!0,...o})=>{const{resolvedTheme:c}=d(),[m,u]=e.useState({}),[g,x]=e.useState([]),[h,b]=e.useState([]),[p,v]=e.useState([]),[y,f]=e.useState([]),[j,w]=e.useState(null),[N,S]=e.useState("overview"),[C,D]=e.useState(!1),k={global:{ISO9001:{name:"ISO 9001:2015",category:"Quality Management",mandatory:!0},ISO14001:{name:"ISO 14001:2015",category:"Environmental",mandatory:!1},ISO45001:{name:"ISO 45001:2018",category:"OH&S",mandatory:!0},IATF16949:{name:"IATF 16949:2016",category:"Automotive",mandatory:!1}},usa:{FDA21CFR:{name:"FDA 21 CFR Part 820",category:"Medical Devices",mandatory:!0},OSHA:{name:"OSHA Standards",category:"Safety",mandatory:!0},EPA:{name:"EPA Regulations",category:"Environmental",mandatory:!0},UL:{name:"UL Certification",category:"Product Safety",mandatory:!1}},eu:{CE:{name:"CE Marking",category:"Product Conformity",mandatory:!0},REACH:{name:"REACH Regulation",category:"Chemical Safety",mandatory:!0},RoHS:{name:"RoHS Directive",category:"Hazardous Substances",mandatory:!0},MDR:{name:"MDR 2017/745",category:"Medical Devices",mandatory:!1}},asia:{CCC:{name:"CCC (China)",category:"Product Certification",mandatory:!0},JIS:{name:"JIS (Japan)",category:"Industrial Standards",mandatory:!1},BIS:{name:"BIS (India)",category:"Bureau Standards",mandatory:!0},KS:{name:"KS (Korea)",category:"Korean Standards",mandatory:!1}}};e.useEffect(()=>{I(),A(),M(),L()},[s]);const I=()=>{const e=k[s]||k.global,a={};Object.keys(e).forEach(t=>{const s=e[t];a[t]={...s,complianceLevel:Math.floor(100*Math.random())+80,lastAudit:new Date(Date.now()-24*Math.random()*60*60*1e3),nextAudit:new Date(Date.now()+180*Math.random()*24*60*60*1e3),status:Math.random()>.2?"compliant":"at-risk",issues:Math.floor(100*Math.random())}}),u(a)},A=()=>{x([{id:"cert-001",standard:"ISO 9001:2015",issuer:"BSI Group",issueDate:"2023-03-15",expiryDate:"2026-03-14",status:"active",scope:"Manufacturing and Distribution"},{id:"cert-002",standard:"ISO 14001:2015",issuer:"DNV GL",issueDate:"2023-06-20",expiryDate:"2026-06-19",status:"active",scope:"Environmental Management System"},{id:"cert-003",standard:"ISO 45001:2018",issuer:"SGS",issueDate:"2023-09-10",expiryDate:"2026-09-09",status:"active",scope:"Occupational Health & Safety"},{id:"cert-004",standard:"CE Marking",issuer:"TÜV Rheinland",issueDate:"2024-01-15",expiryDate:"2027-01-14",status:"active",scope:"Product Conformity Assessment"}])},M=()=>{const e=[{id:"audit-001",type:"Internal Audit",standard:"ISO 9001",date:new Date(Date.now()+6048e5),auditor:"Internal Team",scope:"Quality Management System",status:"scheduled"},{id:"audit-002",type:"Surveillance Audit",standard:"ISO 14001",date:new Date(Date.now()+2592e6),auditor:"DNV GL",scope:"Environmental Compliance",status:"scheduled"},{id:"audit-003",type:"Certification Audit",standard:"IATF 16949",date:new Date(Date.now()+5184e6),auditor:"BSI Group",scope:"Automotive Quality",status:"planned"},{id:"audit-004",type:"Regulatory Inspection",standard:"FDA 21 CFR",date:new Date(Date.now()+7776e6),auditor:"FDA Inspector",scope:"Medical Device Manufacturing",status:"planned"}];b(e)},L=()=>{f([{id:"update-001",region:"EU",regulation:"MDR 2017/745",title:"New Clinical Evaluation Requirements",effectiveDate:"2025-05-26",impact:"high",description:"Enhanced clinical evaluation documentation required for Class IIa devices"},{id:"update-002",region:"USA",regulation:"FDA UDI",title:"Unique Device Identification Update",effectiveDate:"2025-09-24",impact:"medium",description:"Extended UDI requirements for Class II medical devices"},{id:"update-003",region:"Global",regulation:"ISO 9001",title:"Draft Amendment Published",effectiveDate:"2026-01-01",impact:"low",description:"Minor updates to risk-based thinking requirements"}])},O=()=>{const e=Object.values(m);if(0===e.length)return 0;const a=e.reduce((e,a)=>{const t=a.mandatory?2:1;return e+a.complianceLevel*t},0),t=e.reduce((e,a)=>e+(a.mandatory?2:1),0);return Math.round(a/t)},R=e=>{switch(e){case"compliant":return"text-green-600 bg-green-100 dark:bg-green-900/30";case"at-risk":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30";case"non-compliant":return"text-red-600 bg-red-100 dark:bg-red-900/30";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/30"}},$=`\n    rounded-lg border shadow-sm\n    ${"dark"===c?"bg-slate-800 border-slate-700":"bg-white border-gray-200"}\n  `,E="dark"===c?"text-gray-100":"text-gray-900",F="dark"===c?"text-gray-300":"text-gray-600",z="dark"===c?"text-gray-400":"text-gray-500";return a.jsxs("div",{className:`space-y-6 ${t}`,...o,children:[a.jsx("div",{className:$,children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(r,{className:"w-6 h-6 mr-3 text-indigo-600"}),a.jsx("h2",{className:`text-xl font-semibold ${E}`,children:"Global Compliance & Standards Management"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-bold "+(O()>=90?"text-green-600":O()>=80?"text-yellow-600":"text-red-600"),children:[O(),"%"]}),a.jsx("div",{className:`text-sm ${z}`,children:"Compliance Score"})]}),a.jsx("button",{onClick:async()=>{D(!0);try{await new Promise(e=>setTimeout(e,2e3));const e=[];Object.entries(m).forEach(([a,t])=>{t.complianceLevel<85&&e.push({id:`violation-${a}`,standard:t.name,severity:t.mandatory?"critical":"warning",description:`Compliance level below threshold: ${t.complianceLevel}%`,actionRequired:!0})}),v(e)}catch(e){}finally{D(!1)}},disabled:C,className:`\n                  px-4 py-2 rounded-lg font-medium transition-colors\n                  ${C?"bg-gray-200 text-gray-500 cursor-not-allowed dark:bg-gray-700":"bg-indigo-600 text-white hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600"}\n                `,children:C?"Validating...":"Validate Compliance"})]})]}),a.jsx("div",{className:"flex space-x-2 mb-4",children:Object.keys(k).map(e=>a.jsx("button",{onClick:()=>S("overview"),className:`\n                  px-4 py-2 rounded-lg text-sm font-medium transition-colors\n                  ${s===e?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}\n                `,children:e.toUpperCase()},e))}),a.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:["overview","certifications","audits","updates","metrics"].map(e=>a.jsx("button",{onClick:()=>S(e),className:`\n                  px-4 py-2 rounded-md text-sm font-medium transition-colors\n                  ${N===e?"bg-white shadow text-indigo-600 dark:bg-gray-800 dark:text-indigo-400":"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100"}\n                `,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})}),"overview"===N&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:`lg:col-span-2 ${$}`,children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:`text-lg font-semibold mb-4 ${E}`,children:"Standards Compliance Status"}),a.jsx("div",{className:"space-y-4",children:Object.entries(m).map(([e,t])=>a.jsxs("div",{className:`\n                    p-4 rounded-lg border\n                    ${"dark"===c?"bg-slate-700 border-slate-600":"bg-gray-50 border-gray-200"}\n                  `,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:`font-medium ${E}`,children:t.name}),a.jsx("p",{className:`text-sm ${F}`,children:t.category})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:`\n                          px-2 py-1 rounded-full text-xs font-medium\n                          ${R(t.status)}\n                        `,children:t.status.replace("-"," ").toUpperCase()}),t.mandatory&&a.jsx("span",{className:"text-xs text-red-600 dark:text-red-400 mt-1 block",children:"Mandatory"})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:F,children:"Compliance Level"}),a.jsxs("span",{className:"font-medium "+(t.complianceLevel>=90?"text-green-600":t.complianceLevel>=80?"text-yellow-600":"text-red-600"),children:[t.complianceLevel,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:a.jsx("div",{className:"h-2 rounded-full "+(t.complianceLevel>=90?"bg-green-600":t.complianceLevel>=80?"bg-yellow-600":"bg-red-600"),style:{width:`${t.complianceLevel}%`}})})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:z,children:["Last Audit: ",t.lastAudit.toLocaleDateString()]}),a.jsxs("span",{className:z,children:["Next Audit: ",t.nextAudit.toLocaleDateString()]})]})]},e))})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:$,children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(i,{className:"w-5 h-5 mr-2 text-green-600"}),a.jsx("h3",{className:`font-semibold ${E}`,children:"Active Certifications"})]}),a.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:g.filter(e=>"active"===e.status).length}),a.jsx("div",{className:"space-y-2",children:g.slice(0,3).map(e=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:F,children:e.standard}),a.jsx("span",{className:z,children:new Date(e.expiryDate).getFullYear()})]},e.id))})]})}),a.jsx("div",{className:$,children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(n,{className:"w-5 h-5 mr-2 text-blue-600"}),a.jsx("h3",{className:`font-semibold ${E}`,children:"Upcoming Audits"})]}),a.jsx("div",{className:"space-y-3",children:h.slice(0,3).map(e=>a.jsxs("div",{className:"border-l-4 border-blue-500 pl-3",children:[a.jsx("p",{className:`font-medium ${E}`,children:e.standard}),a.jsx("p",{className:`text-sm ${F}`,children:e.type}),a.jsx("p",{className:`text-xs ${z}`,children:e.date.toLocaleDateString()})]},e.id))})]})})]})]})]})},g=Object.freeze(Object.defineProperty({__proto__:null,GlobalComplianceSystem:u,default:u},Symbol.toStringTag,{value:"Module"}));export{g as G,d as u};
