import{c as e,j as s}from"./query-CJR12TOn.js";import{l as t,k as a}from"./index-CVFVhlK-.js";import{a as i}from"./vendor-BPOA5ME_.js";import{R as r}from"./refresh-cw-D4wFr_0y.js";import{P as n,D as c}from"./play-C-ZRq2AD.js";import{T as l}from"./trending-up-n8Gbo-Sb.js";import{T as d}from"./target-BHasLokG.js";import{B as o}from"./bar-chart-3-Ac17UR5_.js";import{B as m}from"./brain-B19OeQqO.js";import"./auth-zWw5cpzK.js";const x=t("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),p=t("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),u=()=>{const{data:t}={data:null},m=t?.user,[p,u]=i.useState("demand_forecast"),[N,v]=i.useState(!1),{data:w,refetch:k}=e({queryKey:["ai-analytics",p],queryFn:async()=>{const e=await fetch(`/api/ai/analytics?model=${p}`,{headers:{Authorization:"Bearer "}});return e.ok?e.json():f},refetchInterval:3e4}),z=w||f,A=[{id:"demand_forecast",name:"Demand Forecasting",description:"Predict future product demand using historical sales data",icon:s.jsx(l,{className:"w-5 h-5"}),accuracy:86.4,status:"active"},{id:"production_optimization",name:"Production Optimization",description:"Optimize manufacturing schedules and resource allocation",icon:s.jsx(d,{className:"w-5 h-5"}),accuracy:91.2,status:"active"},{id:"quality_prediction",name:"Quality Prediction",description:"Predict quality issues before they occur in production",icon:s.jsx(x,{className:"w-5 h-5"}),accuracy:78.9,status:"training"},{id:"inventory_optimization",name:"Inventory Optimization",description:"Optimize stock levels and reduce carrying costs",icon:s.jsx(o,{className:"w-5 h-5"}),accuracy:83.7,status:"active"}];return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"AI Analytics Dashboard"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Artificial Intelligence powered insights and predictions"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:async()=>{v(!0);try{(await fetch("/api/forecasting/run-model",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await(m?.getToken())}`},body:JSON.stringify({modelType:p,parameters:{horizon:30,seasonality:!0,confidence:.95}})})).ok&&k()}catch(e){a.error("Analysis failed:",e)}finally{v(!1)}},disabled:N,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[N?s.jsx(r,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(n,{className:"w-4 h-4 mr-2"}),N?"Running Analysis...":"Run Analysis"]}),s.jsxs("button",{className:"flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[s.jsx(c,{className:"w-4 h-4 mr-2"}),"Export Results"]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:A.map(e=>s.jsx(h,{model:e,isSelected:p===e.id,onSelect:u},e.id))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(g,{data:z,selectedModel:p})}),s.jsx("div",{children:s.jsx(y,{insights:z.insights})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx(j,{performance:z.performance}),s.jsx(b,{recommendations:z.recommendations})]})]})})},h=({model:e,isSelected:t,onSelect:a})=>s.jsxs("button",{onClick:()=>a(e.id),className:"text-left p-6 rounded-lg border transition-all "+(t?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-2 rounded-lg "+(t?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-500"),children:e.icon}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${{active:"bg-green-100 text-green-800",training:"bg-yellow-100 text-yellow-800",inactive:"bg-red-100 text-red-800"}[e.status]}`,children:e.status})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:e.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Accuracy"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:[e.accuracy,"%"]})]}),s.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${e.accuracy}%`}})})]}),g=({data:e,selectedModel:t})=>{return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-6",children:(a=t,{demand_forecast:"Demand Forecast Results",production_optimization:"Production Optimization Results",quality_prediction:"Quality Prediction Results",inventory_optimization:"Inventory Optimization Results"}[a]||"Analysis Results")}),s.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg mb-6",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(m,{className:"w-12 h-12 mx-auto mb-2"}),s.jsx("p",{children:"AI Model Visualization"}),s.jsx("p",{className:"text-sm",children:"Real-time analysis results"})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[e.confidence,"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Confidence Level"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.predictions}),s.jsx("div",{className:"text-sm text-gray-600",children:"Predictions"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[e.accuracy,"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Model Accuracy"})]})]})]});var a},y=({insights:e})=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Key Insights"}),s.jsx("div",{className:"space-y-4",children:e.map((e,t)=>s.jsxs("div",{className:"p-4 rounded-lg border-l-4 "+("positive"===e.type?"border-green-400 bg-green-50":"warning"===e.type?"border-yellow-400 bg-yellow-50":"border-blue-400 bg-blue-50"),children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:e.title}),s.jsx("p",{className:"text-sm text-gray-600",children:e.description}),e.impact&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Impact: ",e.impact]})]},t))})]}),j=({performance:e})=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Model Performance"}),s.jsx("div",{className:"space-y-6",children:Object.entries(e).map(([e,t])=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:e.replace("_"," ")}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"number"==typeof t?`${t.toFixed(1)}%`:t})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${"number"==typeof t?t:50}%`}})})]},e))})]}),b=({recommendations:e})=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-6",children:"AI Recommendations"}),s.jsx("div",{className:"space-y-4",children:e.map((e,t)=>s.jsxs("div",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg",children:[s.jsx(p,{className:"w-5 h-5 text-yellow-500 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:e.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),e.impact&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Potential Impact:"}),s.jsx("span",{className:"text-xs font-medium text-green-600",children:e.impact})]})]})]},t))})]}),f={confidence:87.3,predictions:42,accuracy:89.1,insights:[{type:"positive",title:"Strong Seasonal Pattern Detected",description:"Clear seasonal trends identified in demand data, improving forecast accuracy",impact:"+12% accuracy improvement"},{type:"warning",title:"Inventory Bottleneck Risk",description:"Raw material shortages predicted for Q2 based on supplier data",impact:"Risk of 15% production decrease"},{type:"info",title:"Quality Correlation Found",description:"Strong correlation between temperature and quality metrics identified",impact:"Process optimization opportunity"}],performance:{precision:89.4,recall:86.2,f1_score:87.8,mae:12.3,rmse:18.7},recommendations:[{title:"Increase Safety Stock",description:"Based on demand volatility analysis, recommend 15% increase in safety stock for top 5 SKUs",impact:"8% reduction in stockouts"},{title:"Optimize Production Schedule",description:"Shift production peak by 2 hours to align with quality window predictions",impact:"12% quality improvement"},{title:"Update Reorder Points",description:"Adjust reorder points for 12 items based on lead time analysis",impact:"5% inventory cost reduction"}]};export{u as default};
