import{r as i,ab as e}from"./vendor-CUZU9yWq.js";import{B as p,C as d,a as m,b as h,c as x,d as u}from"./index-D1vlTdbu.js";import{S as g,a as N,b as y,c as b,d as c}from"./select-Uk-cM8zF.js";import{R as M,L,C as T,X as D,Y as R,T as A,A as E,a as K}from"./charts-HQRdDjar.js";import"./data-layer-Dk4PQe5w.js";import"./radix-B2sbv38h.js";import"./router-De_D0Hn1.js";const j={arima:{label:"ARIMA Ensemble",accuracy:.93,bias:"+1.2%",series:[{month:"2025-09",actual:12500,forecast:12800},{month:"2025-10",actual:13200,forecast:13540},{month:"2025-11",actual:null,forecast:14260},{month:"2025-12",actual:null,forecast:15780},{month:"2026-01",actual:null,forecast:13820},{month:"2026-02",actual:null,forecast:13140},{month:"2026-03",actual:null,forecast:14560}]},lstm:{label:"LSTM Neural Net",accuracy:.9,bias:"+2.8%",series:[{month:"2025-09",actual:12500,forecast:12930},{month:"2025-10",actual:13200,forecast:13750},{month:"2025-11",actual:null,forecast:14410},{month:"2025-12",actual:null,forecast:16180},{month:"2026-01",actual:null,forecast:13990},{month:"2026-02",actual:null,forecast:13440},{month:"2026-03",actual:null,forecast:14920}]},holt:{label:"Holt-Winters",accuracy:.88,bias:"-1.5%",series:[{month:"2025-09",actual:12500,forecast:12340},{month:"2025-10",actual:13200,forecast:13020},{month:"2025-11",actual:null,forecast:13610},{month:"2025-12",actual:null,forecast:14820},{month:"2026-01",actual:null,forecast:13040},{month:"2026-02",actual:null,forecast:12710},{month:"2026-03",actual:null,forecast:13870}]}},F=[{sku:"SENT-RED-500",name:"Sentia Red 500ml",growth:"+12%",risk:"low",accuracy:"94%"},{sku:"SENT-GOLD-500",name:"Sentia Gold 500ml",growth:"+7%",risk:"medium",accuracy:"91%"},{sku:"SENT-WHITE-500",name:"Sentia White 500ml",growth:"+3%",risk:"low",accuracy:"92%"}],$=()=>{var f;const[a,t]=i.useState("arima"),[l,k]=i.useState("95"),r=j[a],n=i.useMemo(()=>r.series.map(s=>({month:s.month,forecast:s.forecast,actual:s.actual??void 0})),[r.series]),C=((f=r.series[2])==null?void 0:f.forecast)??0,w=Math.round(n.reduce((s,o)=>s+(o.forecast??0),0)/n.length);return e.jsxs("section",{className:"space-y-6",children:[e.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"Demand Forecasting"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Compare model projections and review product-level signals before locking production plans."})]}),e.jsxs(p,{variant:"outline",children:["Confidence ",l,"%"]})]}),e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsx(h,{children:"Forecast controls"}),e.jsx(x,{children:"Switch between forecasting models and adjust confidence interval."})]}),e.jsxs(u,{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(v,{label:"Model",children:e.jsxs(g,{value:a,onValueChange:t,children:[e.jsx(N,{children:e.jsx(y,{})}),e.jsx(b,{children:Object.entries(j).map(([s,o])=>e.jsx(c,{value:s,children:o.label},s))})]})}),e.jsx(v,{label:"Confidence interval",children:e.jsxs(g,{value:l,onValueChange:k,children:[e.jsx(N,{children:e.jsx(y,{})}),e.jsxs(b,{children:[e.jsx(c,{value:"90",children:"90%"}),e.jsx(c,{value:"95",children:"95%"}),e.jsx(c,{value:"99",children:"99%"})]})]})}),e.jsx(S,{label:"Next month",value:`${C.toLocaleString()} units`,helper:"Model projection"}),e.jsx(S,{label:"Run rate",value:`${w.toLocaleString()} units`,helper:"Mean of forecast horizon"})]})]}),e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsx(h,{children:j[a].label}),e.jsx(x,{children:"Historical actuals with projected demand for the next six months."})]}),e.jsx(u,{className:"h-80",children:e.jsx(M,{width:"100%",height:"100%",children:e.jsxs(L,{data:n,children:[e.jsx(T,{strokeDasharray:"3 3"}),e.jsx(D,{dataKey:"month",tickLine:!1,axisLine:!1}),e.jsx(R,{tickFormatter:s=>s.toLocaleString()}),e.jsx(A,{formatter:s=>s.toLocaleString(),labelFormatter:s=>`Month ${s}`}),e.jsx(E,{type:"monotone",dataKey:"forecast",stroke:"#2563eb",fill:"#2563eb22",strokeWidth:2}),e.jsx(K,{type:"monotone",dataKey:"actual",stroke:"#0ea5e9",strokeWidth:2,dot:!0,activeDot:{r:5}})]})})})]}),e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsx(h,{children:"Product insights"}),e.jsx(x,{children:"Model-level growth expectations and confidence by SKU."})]}),e.jsx(u,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-border text-sm",children:[e.jsx("thead",{className:"bg-muted/40 text-left text-xs uppercase text-muted-foreground",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 font-medium",children:"Product"}),e.jsx("th",{className:"px-4 py-2 font-medium",children:"Growth"}),e.jsx("th",{className:"px-4 py-2 font-medium",children:"Risk"}),e.jsx("th",{className:"px-4 py-2 font-medium",children:"Accuracy"})]})}),e.jsx("tbody",{className:"divide-y divide-border",children:F.map(s=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("p",{className:"font-medium text-foreground",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.sku})]}),e.jsx("td",{className:"px-4 py-3 text-emerald-600",children:s.growth}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(p,{variant:"secondary",className:"text-xs capitalize",children:s.risk})}),e.jsx("td",{className:"px-4 py-3",children:s.accuracy})]},s.sku))})]})})})]})]})},v=({label:a,children:t})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:a}),t]}),S=({label:a,value:t,helper:l})=>e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:a}),e.jsx("p",{className:"text-lg font-semibold text-foreground",children:t}),e.jsx("p",{className:"text-xs text-muted-foreground",children:l})]});export{$ as default};
