# BMAD Update Queue

| Path | Identified Gap | Evidence | Suggested Action |
| --- | --- | --- | --- |
| server/routes/api.js | /api namespace still serves 410 "Legacy API" responses across all handlers. | Select-String -Path server/routes/api.js -Pattern '410' shows every route returning es.status(410). | Replace the stub router with the active BMAD endpoints (financial, inventory, SSE) or retire /api completely. |
| server/api/dashboard.js | Returns synthetic KPI/chart data with TODO comments to replace with real services. | Select-String -Path server/api/dashboard.js -Pattern 'TODO' highlights the inline mock generators. | Wire the handler into Prisma/forecast services so dashboards consume live data. |
| server/api/business-intelligence.js | Ships hard-coded "AI insights" for Claude/GPT instead of calling actual model endpoints. | The file comments state "In production this would integrate with Claude 3 Sonnet and GPT-4". | Hook this route into the ML orchestration stack or deprecate it. |
| server/services/finance/*.js | Finance services (ApprovalEngine, CashConversionCycle, ScenarioModeler, etc.) still use equire(...) and expect a CommonJS logger at ../../utils/logger. | Get-Content server/services/finance/ApprovalEngine.js -Head 5 shows const logger = require('../../utils/logger') while the only logger export is ESM (server/utils/logger.js). | Convert the finance services to ESM imports (or provide a CJS shim) so they load under the current module system. |
| 	est-server.js | Only defines a /health endpoint; legacy tests expect inventory/optimization routes that are no longer hosted. | Get-Content test-server.js shows an Express app with a single health handler. | Expand this harness (or remove it) so integration tests run against the deployed API surface. |
| nalysis/ROADMAP.md, nalysis/SYNTHESIS_REPORT.md | Both files are zero-length, leaving the BMAD roadmap undocumented. | Get-ChildItem analysis | Format-Table Name,Length reports length 0. | Populate with the current BMAD roadmap and synthesis summary or remove them from source control. |
| sentia-financial-lakehouse/ | Entire subproject is excluded from linting and not referenced elsewhere in the repo. | g 'sentia-financial-lakehouse' only finds the exclusion in slint.config.js. | Decide whether to archive this project externally or integrate it; otherwise it remains an unmanaged subtree. |
| 	ests/unit/landing/*, 	ests/unit/services/* | Unit tests run, but coverage tooling missing (@vitest/coverage-v8). | Coverage run fails: MISSING DEPENDENCY '@vitest/coverage-v8'. | Add coverage dependency and re-run workflow to capture metrics. |
| 	ests/e2e | Playwright suite cannot execute (@playwright/test missing). | pnpm playwright test â†’ "Command not found". | Install Playwright package/browsers or adjust workflow to skip until available. |
| src/**/*.js, services/**/*.js | 80+ Math.random() usages driving mock data in production paths. | grep count identifies ~80 files relying on randomness for KPIs and financial metrics. | Replace mock generation with deterministic or real data sources per BMAD mock elimination plan. |
| src/services/APIIntegration.js, src/components/EnterpriseAIChatbot.jsx | Synthetic fallbacks instead of graceful degradation. | Financial metrics and chatbot use Math.random() to fabricate deltas. | Implement real data fallbacks and user-facing messaging. |
| âœ… mad/bmm/workflows/testarch/automate/workflow.yaml | **RESOLVED**: BMM module created with testarch/automate workflow for automated testing and architecture validation. | Module registered in bmad/_cfg/manifest.yaml and bmad/_cfg/workflow-manifest.csv. Workflow includes comprehensive test automation (unit/integration/E2E), architecture compliance validation, and BMAD integration. | **COMPLETE** - Workflow ready for use via mad workflow testarch-automate |
