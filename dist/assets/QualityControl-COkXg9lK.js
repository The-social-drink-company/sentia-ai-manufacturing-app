import{j as e}from"./query-CJR12TOn.js";import{a as s}from"./vendor-BPOA5ME_.js";import{F as a}from"./ExclamationTriangleIcon-ztEnirSg.js";import{F as t}from"./CheckCircleIcon-C50ZP4Vo.js";import{d as r}from"./index-lhuSU9ie.js";import{F as d}from"./ClockIcon-BNTGqfUF.js";import{R as l,A as i,C as c,X as n,Y as x,T as m,a as o,P as h,c as g,d as j}from"./charts-D8EF9NMr.js";import"./auth-zWw5cpzK.js";import"./utils-BeLtu-UY.js";function p({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const y=s.forwardRef(p),b=()=>{const[p,b]=s.useState(null),[u,f]=s.useState(!0),[N,w]=s.useState([]),[v,k]=s.useState([]);s.useEffect(()=>{const e=async()=>{try{const e="https://sentiaprod.financeflo.ai/api",s=await fetch(`${e}/quality/metrics`);if(s.ok){const e=await s.json();b(e),w(e.activeTests||[]),k(e.alerts||[])}}catch(e){}finally{f(!1)}};e();const s=setInterval(e,6e4);return()=>clearInterval(s)},[]);const R=[{name:"Dimensional",value:35,color:"#EF4444"},{name:"Surface",value:28,color:"#F59E0B"},{name:"Material",value:22,color:"#3B82F6"},{name:"Assembly",value:15,color:"#10B981"}];return u?e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/4 mb-4"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[...Array(4)].map((s,a)=>e.jsx("div",{className:"h-32 bg-gray-300 rounded"},a))})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Quality Control"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Monitor quality metrics, testing schedules, and compliance standards"})]}),v.length>0&&e.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(a,{className:"h-5 w-5 text-red-600 mr-2"}),e.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Quality Alerts"})]}),e.jsx("div",{className:"mt-2 space-y-1",children:v.map((s,a)=>e.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:["â€¢ ",s.message]},a))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Pass Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600 mt-2",children:[p?.kpis?.passRate||98.2,"%"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Last 30 days"})]}),e.jsx(t,{className:"h-8 w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Tests Today"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:p?.kpis?.testsToday||47}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Completed"})]}),e.jsx(r,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Pending"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:p?.kpis?.pending||8}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Awaiting review"})]}),e.jsx(d,{className:"h-8 w-8 text-orange-600"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Alerts"}),e.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:p?.kpis?.alerts||2}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Require attention"})]}),e.jsx(a,{className:"h-8 w-8 text-red-600"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Quality Trend (7 days)"})}),e.jsx("div",{className:"p-6",children:e.jsx(l,{width:"100%",height:300,children:e.jsxs(i,{data:[{date:"2025-09-01",passRate:97.5,defectRate:2.5},{date:"2025-09-02",passRate:98.1,defectRate:1.9},{date:"2025-09-03",passRate:97.8,defectRate:2.2},{date:"2025-09-04",passRate:98.5,defectRate:1.5},{date:"2025-09-05",passRate:98.2,defectRate:1.8},{date:"2025-09-06",passRate:97.9,defectRate:2.1},{date:"2025-09-07",passRate:98.7,defectRate:1.3}],children:[e.jsx(c,{strokeDasharray:"3 3"}),e.jsx(n,{dataKey:"date"}),e.jsx(x,{}),e.jsx(m,{}),e.jsx(o,{type:"monotone",dataKey:"passRate",stackId:"1",stroke:"#10B981",fill:"#10B981",fillOpacity:.3,name:"Pass Rate %"}),e.jsx(o,{type:"monotone",dataKey:"defectRate",stackId:"2",stroke:"#EF4444",fill:"#EF4444",fillOpacity:.3,name:"Defect Rate %"})]})})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Defect Types"})}),e.jsx("div",{className:"p-6",children:e.jsx(l,{width:"100%",height:300,children:e.jsxs(h,{children:[e.jsx(g,{data:R,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",label:({name:e,percent:s})=>`${e} ${(100*s).toFixed(0)}%`,children:R.map((s,a)=>e.jsx(j,{fill:s.color},`cell-${a}`))}),e.jsx(m,{})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Test Performance Today"})}),e.jsx("div",{className:"p-6",children:e.jsx(l,{width:"100%",height:300,children:e.jsxs(i,{data:[{hour:"08:00",completed:12,passed:11,failed:1},{hour:"10:00",completed:15,passed:14,failed:1},{hour:"12:00",completed:18,passed:17,failed:1},{hour:"14:00",completed:14,passed:13,failed:1},{hour:"16:00",completed:16,passed:16,failed:0},{hour:"18:00",completed:12,passed:12,failed:0}],children:[e.jsx(c,{strokeDasharray:"3 3"}),e.jsx(n,{dataKey:"hour"}),e.jsx(x,{}),e.jsx(m,{}),e.jsx(o,{type:"monotone",dataKey:"completed",stackId:"1",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.6,name:"Completed"}),e.jsx(o,{type:"monotone",dataKey:"failed",stackId:"2",stroke:"#EF4444",fill:"#EF4444",fillOpacity:.6,name:"Failed"})]})})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Active Quality Tests"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"+ New Test"})]})}),e.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:e.jsx("div",{className:"space-y-4",children:N.length>0?N.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.batch})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+("Passed"===s.status?"bg-green-100 text-green-800":"In Progress"===s.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:s.status})})]},a)):[{name:"Tensile Strength Test",batch:"BATCH-2025-001",status:"In Progress"},{name:"Surface Finish QC",batch:"BATCH-2025-002",status:"Passed"},{name:"Dimensional Check",batch:"BATCH-2025-003",status:"In Progress"},{name:"Material Composition",batch:"BATCH-2025-004",status:"Failed"},{name:"Color Matching",batch:"BATCH-2025-005",status:"Passed"}].map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.batch})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+("Passed"===s.status?"bg-green-100 text-green-800":"In Progress"===s.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:s.status})})]},a))})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Compliance Standards"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx(y,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"ISO 9001"}),e.jsx("p",{className:"text-sm text-green-600",children:"Compliant"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Last audit: Mar 2025"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx(y,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"FDA CFR 21"}),e.jsx("p",{className:"text-sm text-green-600",children:"Compliant"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Last audit: Feb 2025"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsx(y,{className:"h-8 w-8 text-yellow-600 mx-auto mb-2"}),e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"CE Marking"}),e.jsx("p",{className:"text-sm text-yellow-600",children:"Review Required"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Due: Oct 2025"})]})]})})]})]})};export{b as default};
