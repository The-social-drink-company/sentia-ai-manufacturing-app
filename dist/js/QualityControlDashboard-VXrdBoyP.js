import{r as e,a6 as t,u as s,a4 as a,R as r,j as i}from"./react-core-DkFbty9o.js";import{u as l}from"./useMCPIntegration-CpJYcDM4.js";import{e as n,l as d}from"./index-D4EDaX83.js";import{a as c,I as x,r as o,c as m,_ as g,p as h,ac as u,K as p,Z as y,q as j,G as b}from"./ui-components-J4-_vVnI.js";import{m as f,A as N}from"./animation-CTJwy-Vh.js";import"./vendor-CHbOot_X.js";import"./charts-DxLx1lqX.js";import"./vendor-utils-BvmCeSbq.js";import"./router-C0m1gglZ.js";import"./auth-M1VfQxmO.js";import"./forms-CtqjxpzJ.js";const v=()=>{const[y,b]=e.useState(null),[v,C]=e.useState(!1),[S,I]=e.useState("24h"),[P,L]=e.useState("all"),[D,A]=e.useState("all"),[R,q]=e.useState(""),Q=t(),{predictQuality:H}=l(),{data:B,isLoading:M,error:F}=s({queryKey:["quality","control"],queryFn:async()=>{try{const e=await fetch("/api/quality/control");if(!e.ok)throw new Error("Failed to fetch quality data");return await e.json()}catch(e){return n("Failed to fetch quality data",e),{tests:[{id:"QC-001",name:"Spirit Purity Test",type:"Chemical Analysis",status:"passed",result:99.8,target:99.5,unit:"%",inspector:"Dr. Sarah Johnson",timestamp:(new Date).toISOString(),batchId:"BATCH-2024-001",productLine:"Premium Spirits",duration:45,parameters:{alcoholContent:40.2,impurities:.002,pH:6.8,color:"Clear"},notes:"All parameters within acceptable range",trend:"stable"},{id:"QC-002",name:"Bottle Integrity Test",type:"Physical Test",status:"passed",result:100,target:99,unit:"%",inspector:"Mike Wilson",timestamp:new Date(Date.now()-72e5).toISOString(),batchId:"BATCH-2024-002",productLine:"Premium Spirits",duration:30,parameters:{pressureTest:"Passed",leakTest:"Passed",capIntegrity:"Passed",labelAlignment:"Passed"},notes:"Perfect seal integrity",trend:"improving"},{id:"QC-003",name:"Label Quality Check",type:"Visual Inspection",status:"failed",result:94.5,target:98,unit:"%",inspector:"Lisa Brown",timestamp:new Date(Date.now()-144e5).toISOString(),batchId:"BATCH-2024-003",productLine:"Premium Spirits",duration:25,parameters:{printQuality:95.2,alignment:93.8,adhesion:96.1,readability:92.9},notes:"Label alignment issues detected",trend:"decreasing"},{id:"QC-004",name:"Packaging Strength Test",type:"Physical Test",status:"warning",result:97.2,target:98,unit:"%",inspector:"John Smith",timestamp:new Date(Date.now()-216e5).toISOString(),batchId:"BATCH-2024-004",productLine:"Premium Spirits",duration:60,parameters:{crushResistance:98.5,dropTest:96.8,compressionTest:96.1,vibrationTest:97.4},notes:"Minor packaging weakness detected",trend:"stable"},{id:"QC-005",name:"Taste Profile Analysis",type:"Sensory Test",status:"passed",result:98.5,target:95,unit:"%",inspector:"Master Taster",timestamp:new Date(Date.now()-288e5).toISOString(),batchId:"BATCH-2024-005",productLine:"Premium Spirits",duration:90,parameters:{aroma:98,taste:99,finish:98.5,complexity:98.2},notes:"Excellent flavor profile",trend:"improving"}],summary:{totalTests:5,passedTests:3,failedTests:1,warningTests:1,passRate:80,averageResult:97.9,totalInspections:1247},analytics:{passRate:80,defectRate:.8,inspectionTime:45.2,reworkRate:2.5,trends:{passRate:"improving",defectRate:"decreasing",inspectionTime:"stable"}},inspectors:["Dr. Sarah Johnson","Mike Wilson","Lisa Brown","John Smith","Master Taster"],testTypes:["Chemical Analysis","Physical Test","Visual Inspection","Sensory Test","Microbiological Test"]}}},refetchInterval:1e4}),O=a({mutationFn:async()=>await H({predictionHorizon:24,includeRiskFactors:!0}),onSuccess:e=>{d("Quality prediction completed",e),Q.invalidateQueries(["quality"])},onError:e=>{n("Quality prediction failed",e)}}),$=r.useMemo(()=>B?.tests?B.tests.filter(e=>{const t=e.name.toLowerCase().includes(R.toLowerCase())||e.id.toLowerCase().includes(R.toLowerCase())||e.batchId.toLowerCase().includes(R.toLowerCase()),s="all"===P||e.status===P,a="all"===D||e.inspector===D;return t&&s&&a}):[],[B?.tests,R,P,D]),z=e=>{switch(e){case"passed":return"text-green-600 bg-green-100";case"failed":return"text-red-600 bg-red-100";case"warning":return"text-yellow-600 bg-yellow-100";case"pending":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},J=e=>{switch(e){case"passed":return i.jsx(o,{className:"w-4 h-4"});case"failed":return i.jsx(j,{className:"w-4 h-4"});case"warning":return i.jsx(c,{className:"w-4 h-4"});case"pending":return i.jsx(m,{className:"w-4 h-4"});default:return i.jsx(x,{className:"w-4 h-4"})}},E=e=>{switch(e){case"improving":return i.jsx(p,{className:"w-4 h-4 text-green-500"});case"decreasing":return i.jsx(u,{className:"w-4 h-4 text-red-500"});default:return i.jsx(h,{className:"w-4 h-4 text-gray-500"})}};return M?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading quality data..."})]})}):F?i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(c,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),i.jsx("p",{className:"text-red-600 dark:text-red-400",children:"Failed to load quality data"})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Quality Control Dashboard"}),i.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Comprehensive quality testing and inspection management"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(f.button,{onClick:()=>O.mutate(),disabled:O.isPending,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx(x,{className:"w-4 h-4 mr-2"}),O.isPending?"Predicting...":"AI Predict"]}),i.jsxs(f.button,{onClick:()=>C(!0),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx(x,{className:"w-4 h-4 mr-2"}),"Add Test"]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pass Rate"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[B?.summary?.passRate||0,"%"]}),i.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[E(B?.analytics?.trends?.passRate),i.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:B?.analytics?.trends?.passRate||"stable"})]})]}),i.jsx(o,{className:"w-8 h-8 text-green-600"})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Tests"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:B?.summary?.totalTests||0}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[B?.summary?.totalInspections||0," inspections"]})]}),i.jsx(x,{className:"w-8 h-8 text-blue-600"})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Defect Rate"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[B?.analytics?.defectRate||0,"%"]}),i.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[E(B?.analytics?.trends?.defectRate),i.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:B?.analytics?.trends?.defectRate||"stable"})]})]}),i.jsx(c,{className:"w-8 h-8 text-red-600"})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg. Inspection Time"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[B?.analytics?.inspectionTime||0,"min"]}),i.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[E(B?.analytics?.trends?.inspectionTime),i.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:B?.analytics?.trends?.inspectionTime||"stable"})]})]}),i.jsx(m,{className:"w-8 h-8 text-purple-600"})]})})]}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-8",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search tests...",value:R,onChange:e=>q(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("select",{value:P,onChange:e=>L(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"passed",children:"Passed"}),i.jsx("option",{value:"failed",children:"Failed"}),i.jsx("option",{value:"warning",children:"Warning"}),i.jsx("option",{value:"pending",children:"Pending"})]}),i.jsxs("select",{value:D,onChange:e=>A(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"All Inspectors"}),B?.inspectors?.map(e=>i.jsx("option",{value:e,children:e},e))]}),i.jsxs("select",{value:S,onChange:e=>I(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"1h",children:"Last Hour"}),i.jsx("option",{value:"8h",children:"Last 8 Hours"}),i.jsx("option",{value:"24h",children:"Last 24 Hours"}),i.jsx("option",{value:"7d",children:"Last 7 Days"})]})]})]})}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Quality Tests (",$.length,")"]})}),i.jsx("div",{className:"space-y-4",children:$.map(e=>i.jsx(w,{test:e,onSelect:()=>b(e),getStatusColor:z,getStatusIcon:J,getTrendIcon:E},e.id))})]})]}),i.jsx(N,{children:v&&i.jsx(k,{onClose:()=>C(!1),testTypes:B?.testTypes||[],inspectors:B?.inspectors||[]})}),i.jsx(N,{children:y&&i.jsx(T,{test:y,onClose:()=>b(null),getStatusColor:z,getStatusIcon:J,getTrendIcon:E})})]})},w=({test:e,onSelect:t,getStatusColor:s,getStatusIcon:a,getTrendIcon:r})=>{const l=e.result/e.target*100;return i.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:t,whileHover:{scale:1.01},children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:e.name}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[e.id," • ",e.type," • ",e.batchId]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(y,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.inspector})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(m,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(e.timestamp).toLocaleString()})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[r(e.trend),i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.trend})]}),i.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${s(e.status)}`,children:e.status})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Result vs Target"}),i.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e.result,e.unit," / ",e.target,e.unit]})]}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-3",children:i.jsx("div",{className:"h-3 rounded-full transition-all duration-500 "+(l>=100?"bg-green-500":l>=95?"bg-yellow-500":"bg-red-500"),style:{width:`${Math.min(l,100)}%`}})})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(e.parameters).slice(0,4).map(([e,t])=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3",children:[i.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 capitalize",children:e.replace(/([A-Z])/g," $1").trim()}),i.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white mt-1",children:"number"==typeof t?t.toFixed(2):t})]},e))}),e.notes&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3",children:[i.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Notes"}),i.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:e.notes})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[i.jsxs("span",{children:["Duration: ",e.duration," minutes"]}),i.jsxs("span",{children:["Product Line: ",e.productLine]})]})]})]})},k=({onClose:t,testTypes:s,inspectors:a})=>{const[r,l]=e.useState({name:"",type:"",batchId:"",productLine:"",inspector:"",target:"",parameters:{}});return i.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:i.jsxs(f.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Add New Quality Test"}),i.jsxs("form",{onSubmit:e=>{e.preventDefault(),t()},className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Test Name"}),i.jsx("input",{type:"text",value:r.name,onChange:e=>l(t=>({...t,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Test Type"}),i.jsxs("select",{value:r.type,onChange:e=>l(t=>({...t,type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[i.jsx("option",{value:"",children:"Select Type"}),s.map(e=>i.jsx("option",{value:e,children:e},e))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Batch ID"}),i.jsx("input",{type:"text",value:r.batchId,onChange:e=>l(t=>({...t,batchId:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Inspector"}),i.jsxs("select",{value:r.inspector,onChange:e=>l(t=>({...t,inspector:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[i.jsx("option",{value:"",children:"Select Inspector"}),a.map(e=>i.jsx("option",{value:e,children:e},e))]})]})]}),i.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-900",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Test"})]})]})]})})},T=({test:e,onClose:t,getStatusColor:s,getStatusIcon:a,getTrendIcon:r})=>i.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:i.jsxs(f.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:[e.name," - Test Details"]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:i.jsx(j,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Test Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Test ID"}),i.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.id})]}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Type"}),i.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.type})]}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Batch ID"}),i.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.batchId})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Product Line"}),i.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.productLine})]})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Inspector"}),i.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.inspector})]}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Duration"}),i.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[e.duration," minutes"]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Timestamp"}),i.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:new Date(e.timestamp).toLocaleString()})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Trend"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[r(e.trend),i.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.trend})]})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Test Parameters"}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(e.parameters).map(([e,t])=>i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[i.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize mb-1",children:e.replace(/([A-Z])/g," $1").trim()}),i.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"number"==typeof t?t.toFixed(2):t})]},e))})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Test Results"}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsxs("div",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:[e.result,e.unit]}),i.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Target: ",e.target,e.unit]}),i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a(e.status),i.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${s(e.status)}`,children:e.status})]})]}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-4 mb-4",children:i.jsx("div",{className:"h-4 rounded-full transition-all duration-500 "+(e.result/e.target>=1?"bg-green-500":e.result/e.target>=.95?"bg-yellow-500":"bg-red-500"),style:{width:`${Math.min(e.result/e.target*100,100)}%`}})})]})]}),e.notes&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Test Notes"}),i.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:i.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:e.notes})})]})]})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[i.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Close"}),i.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx(b,{className:"w-4 h-4 mr-2 inline"}),"Edit Test"]})]})})]})});export{v as default};
