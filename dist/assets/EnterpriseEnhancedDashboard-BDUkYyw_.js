const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AIAnalyticsDashboard-DI_Q_des.js","assets/query-CJR12TOn.js","assets/vendor-BPOA5ME_.js","assets/index-CVFVhlK-.js","assets/auth-zWw5cpzK.js","assets/index-BxCGQEKU.css","assets/refresh-cw-D4wFr_0y.js","assets/play-C-ZRq2AD.js","assets/trending-up-n8Gbo-Sb.js","assets/target-BHasLokG.js","assets/bar-chart-3-Ac17UR5_.js","assets/brain-B19OeQqO.js","assets/PredictiveAnalyticsDashboard-B1BzLEk3.js","assets/index--VX2k3uy.js","assets/mcpService-DVpncO3p.js","assets/ExclamationTriangleIcon-ztEnirSg.js","assets/MCPConnectionStatus-DYZDReSA.js","assets/CheckCircleIcon-C50ZP4Vo.js","assets/GlobeAltIcon-CYhn1YhL.js","assets/XCircleIcon--IVTnXUe.js","assets/AIForecastingWidget-DCz1SkH4.js","assets/MCPStatusWidget-D61qLeaw.js","assets/charts-D8EF9NMr.js","assets/utils-BeLtu-UY.js","assets/activity-BedOH9pu.js","assets/WorkingCapitalWidget-C43N_jBU.js","assets/SupplyChainWidget-BHW_q2fA.js","assets/ClockIcon-BNTGqfUF.js"])))=>i.map(i=>d[i]);
import{k as e,q as t,l as r,u as n,_ as o}from"./index-CVFVhlK-.js";import{u as i,b as a,c as s,j as l}from"./query-CJR12TOn.js";import{a as c,r as u,d,j as p,R as f}from"./vendor-BPOA5ME_.js";import{u as h}from"./auth-zWw5cpzK.js";import{m as g}from"./mcpService-DVpncO3p.js";import{r as m}from"./charts-D8EF9NMr.js";import{c as b}from"./utils-BeLtu-UY.js";import{B as y,L as v,C as x,a as w,b as S,P as j,c as O,d as D,p as C,e as k,f as E,i as P}from"./index--VX2k3uy.js";import{B as z}from"./brain-B19OeQqO.js";import{B as R}from"./bar-chart-3-Ac17UR5_.js";import{A as _}from"./activity-BedOH9pu.js";import{T as M}from"./target-BHasLokG.js";const N={CFO_PRESET:!1,GLOBAL_TABS:!1,BOARD_EXPORT:!1,TRUST_BADGES:!1,BENCHMARKS:!1,VIRTUALIZATION:!0,MEMOIZATION:!0,CODE_SPLITTING:!0,A11Y_ENHANCEMENTS:!0,KEYBOARD_NAVIGATION:!0,SCREEN_READER:!0};parseInt("60",10);function T(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=I(e))&&(n&&(n+=" "),n+=t);return n}function I(e){if("string"==typeof e)return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=I(e[n]))&&(r&&(r+=" "),r+=t);return r}function A(e){var t=function(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},o=function(e,t){if(!t)return e;return e.map(function(e){return[e[0],e[1].map(function(e){return"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(function(e){var r=e[0],n=e[1];return[t+r,n]})):e})]})}(Object.entries(e.classGroups),r);return o.forEach(function(e){var r=e[0];W(e[1],n,r,t)}),n}(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,o=void 0===n?{}:n;return{getClassGroupId:function(e){var r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),L(r,t)||function(e){if(H.test(e)){var t=H.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}(e)},getConflictingClassGroupIds:function(e,t){var n=r[e]||[];return t&&o[e]?[].concat(n,o[e]):n}}}function L(e,t){if(0===e.length)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),o=n?L(e.slice(1),n):void 0;if(o)return o;if(0!==t.validators.length){var i=e.join("-");return t.validators.find(function(e){return(0,e.validator)(i)})?.classGroupId}}var H=/^\[(.+)\]$/;function W(e,t,r,n){e.forEach(function(e){if("string"!=typeof e){if("function"==typeof e)return e.isThemeGetter?void W(e(n),t,r,n):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach(function(e){var o=e[0];W(e[1],q(t,o),r,n)})}else{(""===e?t:q(t,e)).classGroupId=r}})}function q(e,t){var r=e;return t.split("-").forEach(function(e){r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r}function B(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function o(o,i){r.set(o,i),++t>e&&(t=0,n=r,r=new Map)}return{get:function(e){var t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(o(e,t),t):void 0},set:function(e,t){r.has(e)?r.set(e,t):o(e,t)}}}function $(e){var t=e.separator||":",r=1===t.length,n=t[0],o=t.length;return function(e){for(var i,a=[],s=0,l=0,c=0;c<e.length;c++){var u=e[c];if(0===s){if(u===n&&(r||e.slice(c,c+o)===t)){a.push(e.slice(l,c)),l=c+o;continue}if("/"===u){i=c;continue}}"["===u?s++:"]"===u&&s--}var d=0===a.length?e:e.substring(l),p=d.startsWith("!");return{modifiers:a,hasImportantModifier:p,baseClassName:p?d.substring(1):d,maybePostfixModifierPosition:i&&i>l?i-l:void 0}}}var G=/\s+/;function F(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o,i,a=function(e){var r=t[0],l=t.slice(1).reduce(function(e,t){return t(e)},r());return n=function(e){return{cache:B(e.cacheSize),splitModifiers:$(e),...A(e)}}(l),o=n.cache.get,i=n.cache.set,a=s,s(e)};function s(e){var t=o(e);if(t)return t;var r=function(e,t){var r=t.splitModifiers,n=t.getClassGroupId,o=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(G).map(function(e){var t=r(e),o=t.modifiers,i=t.hasImportantModifier,a=t.baseClassName,s=t.maybePostfixModifierPosition,l=n(s?a.substring(0,s):a),c=Boolean(s);if(!l){if(!s)return{isTailwindClass:!1,originalClassName:e};if(!(l=n(a)))return{isTailwindClass:!1,originalClassName:e};c=!1}var u=function(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(e){"["===e[0]?(t.push.apply(t,r.sort().concat([e])),r=[]):r.push(e)}),t.push.apply(t,r.sort()),t}(o).join(":");return{isTailwindClass:!0,modifierId:i?u+"!":u,classGroupId:l,originalClassName:e,hasPostfixModifier:c}}).reverse().filter(function(e){if(!e.isTailwindClass)return!0;var t=e.modifierId,r=e.classGroupId,n=e.hasPostfixModifier,a=t+r;return!i.has(a)&&(i.add(a),o(r,n).forEach(function(e){return i.add(t+e)}),!0)}).reverse().map(function(e){return e.originalClassName}).join(" ")}(e,n);return i(e,r),r}return function(){return a(T.apply(null,arguments))}}function X(e){var t=function(t){return t[e]||[]};return t.isThemeGetter=!0,t}var Y=/^\[(?:([a-z-]+):)?(.+)\]$/i,U=/^\d+\/\d+$/,Q=new Set(["px","full","screen"]),V=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,K=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,J=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Z(e){return ie(e)||Q.has(e)||U.test(e)||ee(e)}function ee(e){return pe(e,"length",fe)}function te(e){return pe(e,"size",he)}function re(e){return pe(e,"position",he)}function ne(e){return pe(e,"url",ge)}function oe(e){return pe(e,"number",ie)}function ie(e){return!Number.isNaN(Number(e))}function ae(e){return e.endsWith("%")&&ie(e.slice(0,-1))}function se(e){return me(e)||pe(e,"number",me)}function le(e){return Y.test(e)}function ce(){return!0}function ue(e){return V.test(e)}function de(e){return pe(e,"",be)}function pe(e,t,r){var n=Y.exec(e);return!!n&&(n[1]?n[1]===t:r(n[2]))}function fe(e){return K.test(e)}function he(){return!1}function ge(e){return e.startsWith("url(")}function me(e){return Number.isInteger(Number(e))}function be(e){return J.test(e)}function ye(){var e=X("colors"),t=X("spacing"),r=X("blur"),n=X("brightness"),o=X("borderColor"),i=X("borderRadius"),a=X("borderSpacing"),s=X("borderWidth"),l=X("contrast"),c=X("grayscale"),u=X("hueRotate"),d=X("invert"),p=X("gap"),f=X("gradientColorStops"),h=X("gradientColorStopPositions"),g=X("inset"),m=X("margin"),b=X("opacity"),y=X("padding"),v=X("saturate"),x=X("scale"),w=X("sepia"),S=X("skew"),j=X("space"),O=X("translate"),D=function(){return["auto",le,t]},C=function(){return[le,t]},k=function(){return["",Z]},E=function(){return["auto",ie,le]},P=function(){return["","0",le]},z=function(){return[ie,oe]},R=function(){return[ie,le]};return{cacheSize:500,theme:{colors:[ce],spacing:[Z],blur:["none","",ue,le],brightness:z(),borderColor:[e],borderRadius:["none","","full",ue,le],borderSpacing:C(),borderWidth:k(),contrast:z(),grayscale:P(),hueRotate:R(),invert:P(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[ae,ee],inset:D(),margin:D(),opacity:z(),padding:C(),saturate:z(),scale:z(),sepia:P(),skew:R(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",le]}],container:["container"],columns:[{columns:[ue]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[le])}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",se]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",le]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",se]}],"grid-cols":[{"grid-cols":[ce]}],"col-start-end":[{col:["auto",{span:["full",se]},le]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[ce]}],"row-start-end":[{row:["auto",{span:[se]},le]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",le]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(["start","end","center","between","around","evenly","stretch"])}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",le,t]}],"min-w":[{"min-w":["min","max","fit",le,Z]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ue]},ue,le]}],h:[{h:[le,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",le,Z]}],"max-h":[{"max-h":[le,t,"min","max","fit"]}],"font-size":[{text:["base",ue,ee]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",oe]}],"font-family":[{font:[ce]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",le]}],"line-clamp":[{"line-clamp":["none",ie,oe]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",le,Z]}],"list-image":[{"list-image":["none",le]}],"list-style-type":[{list:["none","disc","decimal",le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(["solid","dashed","dotted","double","none"],["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Z]}],"underline-offset":[{"underline-offset":["auto",le,Z]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[re])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",te]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ne]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[].concat(["solid","dashed","dotted","double","none"],["hidden"])}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(["solid","dashed","dotted","double","none"])}],"outline-offset":[{"outline-offset":[le,Z]}],"outline-w":[{outline:[Z]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Z]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ue,de]}],"shadow-color":[{shadow:[ce]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ue,le]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[v]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",le]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",le]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[se,le]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",le]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Z,oe]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var ve=F(ye);function xe(...e){return ve(b(e))}const we={"job.forecast.started":(e,r)=>{r.setQueryData(t.forecastJob(e.jobId),{...e,status:"running",startedAt:(new Date).toISOString()})},"job.forecast.progress":(e,r)=>{r.setQueryData(t.forecastJob(e.jobId),t=>({...t,...e,updatedAt:(new Date).toISOString()}))},"job.forecast.completed":(e,r)=>{r.setQueryData(t.forecastJob(e.jobId),{...e,status:"completed",completedAt:(new Date).toISOString()}),r.invalidateQueries({queryKey:["forecasts"]}),r.invalidateQueries({queryKey:["forecast-series"]})},"job.forecast.failed":(e,r)=>{r.setQueryData(t.forecastJob(e.jobId),{...e,status:"failed",failedAt:(new Date).toISOString()})},"job.stock.started":(e,r)=>{r.setQueryData(t.stockOptimizationJob(e.jobId),{...e,status:"running",startedAt:(new Date).toISOString()})},"job.stock.completed":(e,r)=>{r.setQueryData(t.stockOptimizationJob(e.jobId),{...e,status:"completed",completedAt:(new Date).toISOString()}),r.invalidateQueries({queryKey:["stock-optimization"]}),r.invalidateQueries({queryKey:["stock-levels"]}),r.invalidateQueries({queryKey:["reorder-suggestions"]})},"job.stock.failed":(e,r)=>{r.setQueryData(t.stockOptimizationJob(e.jobId),{...e,status:"failed",failedAt:(new Date).toISOString()})},"job.workingcapital.completed":(e,r)=>{r.setQueryData(t.workingCapitalJob(e.jobId),{...e,status:"completed",completedAt:(new Date).toISOString()}),r.invalidateQueries({queryKey:["working-capital"]}),r.invalidateQueries({queryKey:["wc-projections"]}),r.invalidateQueries({queryKey:["wc-kpis"]})},"metrics.kpi.updated":(e,r)=>{r.setQueryData(t.kpiMetrics(e.timeRange,e.filters),t=>({...t,...e.metrics,updatedAt:(new Date).toISOString()}))},"metrics.capacity.updated":(e,r)=>{r.setQueryData(t.capacityUtilization(e.facilities,e.timeRange),t=>({...t,...e.utilization,updatedAt:(new Date).toISOString()}))},"metrics.system.health":(e,r)=>{r.setQueryData(t.systemHealth(),{...e,timestamp:(new Date).toISOString()})},"alert.stock.low":(e,t)=>{t.invalidateQueries({queryKey:["stock-levels"]}),t.invalidateQueries({queryKey:["reorder-suggestions"]})},"alert.stock.critical":(e,t)=>{t.invalidateQueries({queryKey:["stock-levels"]}),t.invalidateQueries({queryKey:["reorder-suggestions"]})},"alert.workingcapital.breach":(e,t)=>{t.invalidateQueries({queryKey:["wc-projections"]}),t.invalidateQueries({queryKey:["wc-kpis"]})},"job.import.started":(e,r)=>{r.setQueryData(t.importJob(e.jobId),{...e,status:"running",startedAt:(new Date).toISOString()})},"job.import.completed":(e,r)=>{r.setQueryData(t.importJob(e.jobId),{...e,status:"completed",completedAt:(new Date).toISOString()}),r.invalidateQueries({queryKey:["import-jobs"]})},"job.import.failed":(e,r)=>{r.setQueryData(t.importJob(e.jobId),{...e,status:"failed",failedAt:(new Date).toISOString()})},"system.maintenance.start":(e,r)=>{r.setQueryData(t.systemHealth(),t=>({...t,maintenance:!0,maintenanceMessage:e.message}))},"system.maintenance.end":(e,r)=>{r.setQueryData(t.systemHealth(),e=>({...e,maintenance:!1,maintenanceMessage:null}))}},Se=r("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),je=r("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Oe=r("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),De=r("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]);const Ce=()=>{const e=i();return{useHealthCheck:()=>s({queryKey:["mcp","health"],queryFn:()=>g.checkHealth(),refetchInterval:3e4,retry:1}),useProviders:()=>s({queryKey:["mcp","providers"],queryFn:()=>g.getProviders(),staleTime:6e4}),useXeroContacts:(e={})=>s({queryKey:["mcp","xero","contacts",e],queryFn:()=>g.xeroGetContacts(e),enabled:!!e}),useXeroInvoices:(e={})=>s({queryKey:["mcp","xero","invoices",e],queryFn:()=>g.xeroGetInvoices(e),enabled:!!e}),useXeroItems:()=>s({queryKey:["mcp","xero","items"],queryFn:()=>g.xeroGetItems()}),useCreateXeroInvoice:()=>a({mutationFn:e=>g.xeroCreateInvoice(e),onSuccess:()=>{e.invalidateQueries({queryKey:["mcp","xero","invoices"]})}}),useOpenAIGenerate:()=>a({mutationFn:({prompt:e,options:t})=>g.openaiGenerateText(e,t)}),useOpenAIAnalyze:()=>a({mutationFn:({data:e,analysisType:t})=>g.openaiAnalyzeData(e,t)}),useOpenAIEmbedding:()=>a({mutationFn:e=>g.openaiCreateEmbedding(e)}),useAnthropicManufacturing:()=>a({mutationFn:({data:e,analysisType:t})=>g.anthropicAnalyzeManufacturing(e,t)}),useAnthropicOptimize:()=>a({mutationFn:e=>g.anthropicOptimizeProcess(e)}),useAnthropicInsights:()=>a({mutationFn:e=>g.anthropicGenerateInsights(e)})}};var ke,Ee={exports:{}},Pe={},ze={exports:{}};function Re(){return ke||(ke=1,function(e){function t(e){return function(t,r,n,o,i,a,s){return e(t,r,s)}}function r(e){return function(t,r,n,o){if(!t||!r||"object"!=typeof t||"object"!=typeof r)return e(t,r,n,o);var i=o.get(t),a=o.get(r);if(i&&a)return i===r&&a===t;o.set(t,r),o.set(r,t);var s=e(t,r,n,o);return o.delete(t),o.delete(r),s}}function n(e,t){var r={};for(var n in e)r[n]=e[n];for(var n in t)r[n]=t[n];return r}function o(e){return e.constructor===Object||null==e.constructor}function i(e){return"function"==typeof e.then}function a(e,t){return e===t||e!=e&&t!=t}var s="[object Arguments]",l="[object Boolean]",c="[object Date]",u="[object RegExp]",d="[object Map]",p="[object Number]",f="[object Object]",h="[object Set]",g="[object String]",m=Object.prototype.toString;function b(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,b=e.areObjectsEqual,y=e.areRegExpsEqual,v=e.areSetsEqual,x=(0,e.createIsNestedEqual)(w);function w(e,w,S){if(e===w)return!0;if(!e||!w||"object"!=typeof e||"object"!=typeof w)return e!=e&&w!=w;if(o(e)&&o(w))return b(e,w,x,S);var j=Array.isArray(e),O=Array.isArray(w);if(j||O)return j===O&&t(e,w,x,S);var D=m.call(e);return D===m.call(w)&&(D===c?r(e,w,x,S):D===u?y(e,w,x,S):D===d?n(e,w,x,S):D===h?v(e,w,x,S):D===f||D===s?!i(e)&&!i(w)&&b(e,w,x,S):(D===l||D===p||D===g)&&a(e.valueOf(),w.valueOf()))}return w}function y(e,t,r,n){var o=e.length;if(t.length!==o)return!1;for(;o-- >0;)if(!r(e[o],t[o],o,o,e,t,n))return!1;return!0}var v=r(y);function x(e,t){return a(e.valueOf(),t.valueOf())}function w(e,t,r,n){var o=e.size===t.size;if(!o)return!1;if(!e.size)return!0;var i={},a=0;return e.forEach(function(s,l){if(o){var c=!1,u=0;t.forEach(function(o,d){c||i[u]||!(c=r(l,d,a,u,e,t,n)&&r(s,o,l,d,e,t,n))||(i[u]=!0),u++}),a++,o=c}}),o}var S=r(w),j="_owner",O=Object.prototype.hasOwnProperty;function D(e,t,r,n){var o,i=Object.keys(e),a=i.length;if(Object.keys(t).length!==a)return!1;for(;a-- >0;){if((o=i[a])===j){var s=!!e.$$typeof,l=!!t.$$typeof;if((s||l)&&s!==l)return!1}if(!O.call(t,o)||!r(e[o],t[o],o,o,e,t,n))return!1}return!0}var C=r(D);function k(e,t){return e.source===t.source&&e.flags===t.flags}function E(e,t,r,n){var o=e.size===t.size;if(!o)return!1;if(!e.size)return!0;var i={};return e.forEach(function(a,s){if(o){var l=!1,c=0;t.forEach(function(o,u){l||i[c]||!(l=r(a,o,s,u,e,t,n))||(i[c]=!0),c++}),o=l}}),o}var P=r(E),z=Object.freeze({areArraysEqual:y,areDatesEqual:x,areMapsEqual:w,areObjectsEqual:D,areRegExpsEqual:k,areSetsEqual:E,createIsNestedEqual:t}),R=Object.freeze({areArraysEqual:v,areDatesEqual:x,areMapsEqual:S,areObjectsEqual:C,areRegExpsEqual:k,areSetsEqual:P,createIsNestedEqual:t}),_=b(z);function M(e,t){return _(e,t,void 0)}var N=b(n(z,{createIsNestedEqual:function(){return a}}));function T(e,t){return N(e,t,void 0)}var I=b(R);function A(e,t){return I(e,t,new WeakMap)}var L=b(n(R,{createIsNestedEqual:function(){return a}}));function H(e,t){return L(e,t,new WeakMap)}function W(e){return b(n(z,e(z)))}function q(e){var t=b(n(R,e(R)));return function(e,r,n){return void 0===n&&(n=new WeakMap),t(e,r,n)}}e.circularDeepEqual=A,e.circularShallowEqual=H,e.createCustomCircularEqual=q,e.createCustomEqual=W,e.deepEqual=M,e.sameValueZeroEqual=a,e.shallowEqual=T,Object.defineProperty(e,"__esModule",{value:!0})}(ze.exports)),ze.exports}var _e,Me={exports:{}};function Ne(){if(_e)return Me.exports;function e(t){var r,n,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(n=e(t[r]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function t(){for(var t,r,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(r=e(t))&&(o&&(o+=" "),o+=r);return o}return _e=1,Me.exports=t,Me.exports.clsx=t,Me.exports}var Te,Ie,Ae,Le={};function He(){if(Ae)return Le;Ae=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.bottom=n,Le.childrenEqual=function(e,n){return(0,t.deepEqual)(r.default.Children.map(e,e=>e?.key),r.default.Children.map(n,e=>e?.key))&&(0,t.deepEqual)(r.default.Children.map(e,e=>e?.props["data-grid"]),r.default.Children.map(n,e=>e?.props["data-grid"]))},Le.cloneLayout=o,Le.cloneLayoutItem=a,Le.collides=s,Le.compact=l,Le.compactItem=p,Le.compactType=function(e){const{verticalCompact:t,compactType:r}=e||{};return!1===t?null:r},Le.correctBounds=f,Le.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},Le.fastRGLPropsEqual=void 0,Le.getAllCollisions=m,Le.getFirstCollision=g,Le.getLayoutItem=h,Le.getStatics=b,Le.modifyLayout=i,Le.moveElement=y,Le.moveElementAwayFromCollision=v,Le.noop=void 0,Le.perc=function(e){return 100*e+"%"},Le.resizeItemInDirection=function(e,t,r,n){const o=E[e];return o?o(t,{...t,...r},n):r},Le.setTopLeft=function(e){let{top:t,left:r,width:n,height:o}=e;return{top:`${t}px`,left:`${r}px`,width:`${n}px`,height:`${o}px`,position:"absolute"}},Le.setTransform=function(e){let{top:t,left:r,width:n,height:o}=e;const i=`translate(${r}px,${t}px)`;return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:`${n}px`,height:`${o}px`,position:"absolute"}},Le.sortLayoutItems=P,Le.sortLayoutItemsByColRow=R,Le.sortLayoutItemsByRowCol=z,Le.synchronizeLayoutWithChildren=function(e,t,o,i,s){e=e||[];const c=[];r.default.Children.forEach(t,t=>{if(null==t?.key)return;const r=h(e,String(t.key)),o=t.props["data-grid"];r&&null==o?c.push(a(r)):o?c.push(a({...o,i:t.key})):c.push(a({w:1,h:1,x:0,y:n(c),i:String(t.key)}))});const u=f(c,{cols:o});return s?u:l(u,i,o)},Le.validateLayout=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout";const r=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(let n=0,o=e.length;n<o;n++){const o=e[n];for(let e=0;e<r.length;e++){const i=r[e],a=o[i];if("number"!=typeof a||Number.isNaN(a))throw new Error(`ReactGridLayout: ${t}[${n}].${i} must be a number! Received: ${a} (${typeof a})`)}if(void 0!==o.i&&"string"!=typeof o.i)throw new Error(`ReactGridLayout: ${t}[${n}].i must be a string! Received: ${o.i} (${typeof o.i})`)}},Le.withLayoutItem=function(e,t,r){let n=h(e,t);return n?(n=r(a(n)),[e=i(e,n),n]):[e,null]};var e,t=Re(),r=(e=u())&&e.__esModule?e:{default:e};function n(e){let t,r=0;for(let n=0,o=e.length;n<o;n++)t=e[n].y+e[n].h,t>r&&(r=t);return r}function o(e){const t=Array(e.length);for(let r=0,n=e.length;r<n;r++)t[r]=a(e[r]);return t}function i(e,t){const r=Array(e.length);for(let n=0,o=e.length;n<o;n++)t.i===e[n].i?r[n]=t:r[n]=e[n];return r}function a(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}function s(e,t){return e.i!==t.i&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function l(e,t,r,n){const o=b(e),i=P(e,t),s=Array(e.length);for(let l=0,c=i.length;l<c;l++){let c=a(i[l]);c.static||(c=p(o,c,t,r,i,n),o.push(c)),s[e.indexOf(i[l])]=c,c.moved=!1}return s}Le.fastRGLPropsEqual=Ie?Te:(Ie=1,Te=function(e,t,r){return e===t||e.className===t.className&&r(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&r(e.verticalCompact,t.verticalCompact)&&r(e.compactType,t.compactType)&&r(e.layout,t.layout)&&r(e.margin,t.margin)&&r(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.allowOverlap===t.allowOverlap&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&r(e.resizeHandles,t.resizeHandles)&&r(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&r(e.droppingItem,t.droppingItem)&&r(e.innerRef,t.innerRef)});const c={x:"w",y:"h"};function d(e,t,r,n){const o=c[n];t[n]+=1;for(let i=e.map(e=>e.i).indexOf(t.i)+1;i<e.length;i++){const a=e[i];if(!a.static){if(a.y>t.y+t.h)break;s(t,a)&&d(e,a,r+t[o],n)}}t[n]=r}function p(e,t,r,o,i,a){const s="horizontal"===r;if("vertical"===r)for(t.y=Math.min(n(e),t.y);t.y>0&&!g(e,t);)t.y--;else if(s)for(;t.x>0&&!g(e,t);)t.x--;let l;for(;(l=g(e,t))&&(null!==r||!a);)if(s?d(i,t,l.x+l.w,"x"):d(i,t,l.y+l.h,"y"),s&&t.x+t.w>o)for(t.x=o-t.w,t.y++;t.x>0&&!g(e,t);)t.x--;return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function f(e,t){const r=b(e);for(let n=0,o=e.length;n<o;n++){const o=e[n];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),o.static)for(;g(r,o);)o.y++;else r.push(o)}return e}function h(e,t){for(let r=0,n=e.length;r<n;r++)if(e[r].i===t)return e[r]}function g(e,t){for(let r=0,n=e.length;r<n;r++)if(s(e[r],t))return e[r]}function m(e,t){return e.filter(e=>s(e,t))}function b(e){return e.filter(e=>e.static)}function y(e,t,r,n,i,a,s,l,c){if(t.static&&!0!==t.isDraggable)return e;if(t.y===n&&t.x===r)return e;const u=t.x,d=t.y;"number"==typeof r&&(t.x=r),"number"==typeof n&&(t.y=n),t.moved=!0;let p=P(e,s);("vertical"===s&&"number"==typeof n?d>=n:"horizontal"===s&&"number"==typeof r&&u>=r)&&(p=p.reverse());const f=m(p,t),h=f.length>0;if(h&&c)return o(e);if(h&&a)return t.x=u,t.y=d,t.moved=!1,e;for(let o=0,g=f.length;o<g;o++){const r=f[o];r.moved||(e=r.static?v(e,r,t,i,s):v(e,t,r,i,s))}return e}function v(e,t,r,n,o,i){const a="horizontal"===o,s="vertical"===o,l=t.static;if(n){n=!1;const i={x:a?Math.max(t.x-r.w,0):r.x,y:s?Math.max(t.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"},c=g(e,i),u=c&&c.y+c.h>t.y,d=c&&t.x+t.w>c.x;if(!c)return y(e,r,a?i.x:void 0,s?i.y:void 0,n,l,o);if(u&&s)return y(e,r,void 0,t.y+1,n,l,o);if(u&&null==o)return t.y=r.y,r.y=r.y+r.h,e;if(d&&a)return y(e,t,r.x,void 0,n,l,o)}const c=a?r.x+1:void 0,u=s?r.y+1:void 0;return null==c&&null==u?e:y(e,r,a?r.x+1:void 0,s?r.y+1:void 0,n,l,o)}const x=(e,t,r,n)=>e+r>n?t:r,w=(e,t,r)=>e<0?t:r,S=e=>Math.max(0,e),j=e=>Math.max(0,e),O=(e,t,r)=>{let{left:n,height:o,width:i}=t;const a=e.top-(o-e.height);return{left:n,width:i,height:w(a,e.height,o),top:j(a)}},D=(e,t,r)=>{let{top:n,left:o,height:i,width:a}=t;return{top:n,height:i,width:x(e.left,e.width,a,r),left:S(o)}},C=(e,t,r)=>{let{top:n,height:o,width:i}=t;const a=e.left-(i-e.width);return{height:o,width:a<0?e.width:x(e.left,e.width,i,r),top:j(n),left:S(a)}},k=(e,t,r)=>{let{top:n,left:o,height:i,width:a}=t;return{width:a,left:o,height:w(n,e.height,i),top:j(n)}},E={n:O,ne:function(){return O(arguments.length<=0?void 0:arguments[0],D(...arguments))},e:D,se:function(){return k(arguments.length<=0?void 0:arguments[0],D(...arguments))},s:k,sw:function(){return k(arguments.length<=0?void 0:arguments[0],C(...arguments))},w:C,nw:function(){return O(arguments.length<=0?void 0:arguments[0],C(...arguments))}};function P(e,t){return"horizontal"===t?R(e):"vertical"===t?z(e):e}function z(e){return e.slice(0).sort(function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1})}function R(e){return e.slice(0).sort(function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1})}return Le.noop=()=>{},Le}var We,qe={};function Be(){if(We)return qe;function e(e){const{margin:t,containerPadding:r,containerWidth:n,cols:o}=e;return(n-t[0]*(o-1)-2*r[0])/o}function t(e,t,r){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*r):e}function r(e,t,r){return Math.max(Math.min(e,r),t)}return We=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.calcGridColWidth=e,qe.calcGridItemPosition=function(r,n,o,i,a,s){const{margin:l,containerPadding:c,rowHeight:u}=r,d=e(r),p={};s&&s.resizing?(p.width=Math.round(s.resizing.width),p.height=Math.round(s.resizing.height)):(p.width=t(i,d,l[0]),p.height=t(a,u,l[1]));s&&s.dragging?(p.top=Math.round(s.dragging.top),p.left=Math.round(s.dragging.left)):s&&s.resizing&&"number"==typeof s.resizing.top&&"number"==typeof s.resizing.left?(p.top=Math.round(s.resizing.top),p.left=Math.round(s.resizing.left)):(p.top=Math.round((u+l[1])*o+c[1]),p.left=Math.round((d+l[0])*n+c[0]));return p},qe.calcGridItemWHPx=t,qe.calcWH=function(t,n,o,i,a,s){const{margin:l,maxRows:c,cols:u,rowHeight:d}=t,p=e(t);let f=Math.round((n+l[0])/(p+l[0])),h=Math.round((o+l[1])/(d+l[1])),g=r(f,0,u-i),m=r(h,0,c-a);-1!==["sw","w","nw"].indexOf(s)&&(g=r(f,0,u));-1!==["nw","n","ne"].indexOf(s)&&(m=r(h,0,c));return{w:g,h:m}},qe.calcXY=function(t,n,o,i,a){const{margin:s,containerPadding:l,cols:c,rowHeight:u,maxRows:d}=t,p=e(t);let f=Math.round((o-l[0])/(p+s[0])),h=Math.round((n-l[1])/(u+s[1]));return f=r(f,0,c-i),h=r(h,0,d-a),{x:f,y:h}},qe.clamp=r,qe}var $e,Ge={},Fe={exports:{}},Xe={},Ye={},Ue={};function Qe(){if($e)return Ue;return $e=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.dontSetMe=function(e,t,r){if(e[t])return new Error(`Invalid prop ${t} passed to ${r} - do not set this, set it on the child.`)},Ue.findInArray=function(e,t){for(let r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]},Ue.int=function(e){return parseInt(e,10)},Ue.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},Ue.isNum=function(e){return"number"==typeof e&&!isNaN(e)},Ue}var Ve,Ke,Je={};function Ze(){if(Ke)return Ye;Ke=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.addClassName=a,Ye.addEvent=function(e,t,r,n){if(!e)return;const o={capture:!0,...n};e.addEventListener?e.addEventListener(t,r,o):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r},Ye.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&a(e.body,"react-draggable-transparent-selection")},Ye.createCSSTransform=function(e,r){const n=o(e,r,"px");return{[(0,t.browserPrefixToKey)("transform",t.default)]:n}},Ye.createSVGTransform=function(e,t){return o(e,t,"")},Ye.getTouch=function(t,r){return t.targetTouches&&(0,e.findInArray)(t.targetTouches,e=>r===e.identifier)||t.changedTouches&&(0,e.findInArray)(t.changedTouches,e=>r===e.identifier)},Ye.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},Ye.getTranslation=o,Ye.innerHeight=function(t){let r=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return r-=(0,e.int)(n.paddingTop),r-=(0,e.int)(n.paddingBottom),r},Ye.innerWidth=function(t){let r=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return r-=(0,e.int)(n.paddingLeft),r-=(0,e.int)(n.paddingRight),r},Ye.matchesSelector=n,Ye.matchesSelectorAndParentsTo=function(e,t,r){let o=e;do{if(n(o,t))return!0;if(o===r)return!1;o=o.parentNode}while(o);return!1},Ye.offsetXYFromParent=function(e,t,r){const n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-n.left)/r,i=(e.clientY+t.scrollTop-n.top)/r;return{x:o,y:i}},Ye.outerHeight=function(t){let r=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return r+=(0,e.int)(n.borderTopWidth),r+=(0,e.int)(n.borderBottomWidth),r},Ye.outerWidth=function(t){let r=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return r+=(0,e.int)(n.borderLeftWidth),r+=(0,e.int)(n.borderRightWidth),r},Ye.removeClassName=s,Ye.removeEvent=function(e,t,r,n){if(!e)return;const o={capture:!0,...n};e.removeEventListener?e.removeEventListener(t,r,o):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null},Ye.scheduleRemoveUserSelectStyles=function(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{i(e)}):i(e)};var e=Qe(),t=function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,a)}for(const r in e)"default"!==r&&{}.hasOwnProperty.call(e,r)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,r))&&(i.get||i.set)?o(a,r,i):a[r]=e[r]);return a}(e,t)}(function(){if(Ve)return Je;Ve=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.browserPrefixToKey=r,Je.browserPrefixToStyle=function(e,t){return t?`-${t.toLowerCase()}-${e}`:e},Je.default=void 0,Je.getPrefix=t;const e=["Moz","Webkit","O","ms"];function t(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";const n=window.document?.documentElement?.style;if(!n)return"";if(t in n)return"";for(let o=0;o<e.length;o++)if(r(t,e[o])in n)return e[o];return""}function r(e,t){return t?`${t}${function(e){let t="",r=!0;for(let n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):"-"===e[n]?r=!0:t+=e[n];return t}(e)}`:e}return Je.default=t(),Je}());let r="";function n(t,n){return r||(r=(0,e.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,e.isFunction)(t[r])})),!!(0,e.isFunction)(t[r])&&t[r](n)}function o(e,t,r){let{x:n,y:o}=e,i=`translate(${n}${r},${o}${r})`;if(t){i=`translate(${`${"string"==typeof t.x?t.x:t.x+r}`}, ${`${"string"==typeof t.y?t.y:t.y+r}`})`+i}return i}function i(e){if(e)try{if(e.body&&s(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(t){}}function a(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function s(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}return Ye}var et,tt={};function rt(){if(et)return tt;et=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},tt.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},tt.createCoreData=function(t,n,o){const i=!(0,e.isNum)(t.lastX),a=r(t);return i?{node:a,deltaX:0,deltaY:0,lastX:n,lastY:o,x:n,y:o}:{node:a,deltaX:n-t.lastX,deltaY:o-t.lastY,lastX:t.lastX,lastY:t.lastY,x:n,y:o}},tt.createDraggableData=function(e,t){const r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}},tt.getBoundPosition=function(n,o,i){if(!n.props.bounds)return[o,i];let{bounds:a}=n.props;a="string"==typeof a?a:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(a);const s=r(n);if("string"==typeof a){const{ownerDocument:r}=s,n=r.defaultView;let o;if("parent"===a)o=s.parentNode;else{o=s.getRootNode().querySelector(a)}if(!(o instanceof n.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');const i=o,l=n.getComputedStyle(s),c=n.getComputedStyle(i);a={left:-s.offsetLeft+(0,e.int)(c.paddingLeft)+(0,e.int)(l.marginLeft),top:-s.offsetTop+(0,e.int)(c.paddingTop)+(0,e.int)(l.marginTop),right:(0,t.innerWidth)(i)-(0,t.outerWidth)(s)-s.offsetLeft+(0,e.int)(c.paddingRight)-(0,e.int)(l.marginRight),bottom:(0,t.innerHeight)(i)-(0,t.outerHeight)(s)-s.offsetTop+(0,e.int)(c.paddingBottom)-(0,e.int)(l.marginBottom)}}(0,e.isNum)(a.right)&&(o=Math.min(o,a.right));(0,e.isNum)(a.bottom)&&(i=Math.min(i,a.bottom));(0,e.isNum)(a.left)&&(o=Math.max(o,a.left));(0,e.isNum)(a.top)&&(i=Math.max(i,a.top));return[o,i]},tt.getControlPosition=function(e,n,o){const i="number"==typeof n?(0,t.getTouch)(e,n):null;if("number"==typeof n&&!i)return null;const a=r(o),s=o.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,t.offsetXYFromParent)(i||e,s,o.props.scale)},tt.snapToGrid=function(e,t,r){const n=Math.round(t/e[0])*e[0],o=Math.round(r/e[1])*e[1];return[n,o]};var e=Qe(),t=Ze();function r(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}return tt}var nt,ot,it,at,st={},lt={};function ct(){if(nt)return lt;return nt=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.default=function(){},lt}function ut(){if(ot)return st;ot=1,Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var e=function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,a)}for(const r in e)"default"!==r&&{}.hasOwnProperty.call(e,r)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,r))&&(i.get||i.set)?o(a,r,i):a[r]=e[r]);return a}(e,t)}(u()),t=s(m()),r=s(d()),n=Ze(),o=rt(),i=Qe(),a=s(ct());function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c={start:"touchstart",move:"touchmove",stop:"touchend"},p={start:"mousedown",move:"mousemove",stop:"mouseup"};let f=p,h=class extends e.Component{constructor(){super(...arguments),l(this,"dragging",!1),l(this,"lastX",NaN),l(this,"lastY",NaN),l(this,"touchIdentifier",null),l(this,"mounted",!1),l(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=t;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,n.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,n.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"!==e.type||this.props.allowMobileScroll||e.preventDefault();const i=(0,n.getTouchIdentifier)(e);this.touchIdentifier=i;const s=(0,o.getControlPosition)(e,i,this);if(null==s)return;const{x:l,y:c}=s,u=(0,o.createCoreData)(this,l,c);(0,a.default)("DraggableCore: handleDragStart: %j",u),(0,a.default)("calling",this.props.onStart);!1!==this.props.onStart(e,u)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,n.addUserSelectStyles)(r),this.dragging=!0,this.lastX=l,this.lastY=c,(0,n.addEvent)(r,f.move,this.handleDrag),(0,n.addEvent)(r,f.stop,this.handleDragStop))}),l(this,"handleDrag",e=>{const t=(0,o.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:r,y:n}=t;if(Array.isArray(this.props.grid)){let e=r-this.lastX,t=n-this.lastY;if([e,t]=(0,o.snapToGrid)(this.props.grid,e,t),!e&&!t)return;r=this.lastX+e,n=this.lastY+t}const i=(0,o.createCoreData)(this,r,n);(0,a.default)("DraggableCore: handleDrag: %j",i);if(!1!==this.props.onDrag(e,i)&&!1!==this.mounted)this.lastX=r,this.lastY=n;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(s){const e=document.createEvent("MouseEvents");e.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(e)}}),l(this,"handleDragStop",e=>{if(!this.dragging)return;const t=(0,o.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:r,y:i}=t;if(Array.isArray(this.props.grid)){let e=r-this.lastX||0,t=i-this.lastY||0;[e,t]=(0,o.snapToGrid)(this.props.grid,e,t),r=this.lastX+e,i=this.lastY+t}const s=(0,o.createCoreData)(this,r,i);if(!1===this.props.onStop(e,s)||!1===this.mounted)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,n.scheduleRemoveUserSelectStyles)(l.ownerDocument),(0,a.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,a.default)("DraggableCore: Removing handlers"),(0,n.removeEvent)(l.ownerDocument,f.move,this.handleDrag),(0,n.removeEvent)(l.ownerDocument,f.stop,this.handleDragStop))}),l(this,"onMouseDown",e=>(f=p,this.handleDragStart(e))),l(this,"onMouseUp",e=>(f=p,this.handleDragStop(e))),l(this,"onTouchStart",e=>(f=c,this.handleDragStart(e))),l(this,"onTouchEnd",e=>(f=c,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,n.addEvent)(e,c.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,n.removeEvent)(t,p.move,this.handleDrag),(0,n.removeEvent)(t,c.move,this.handleDrag),(0,n.removeEvent)(t,p.stop,this.handleDragStop),(0,n.removeEvent)(t,c.stop,this.handleDragStop),(0,n.removeEvent)(e,c.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,n.scheduleRemoveUserSelectStyles)(t)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:r.default.findDOMNode(this)}render(){return e.cloneElement(e.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return st.default=h,l(h,"displayName","DraggableCore"),l(h,"propTypes",{allowAnyClick:t.default.bool,allowMobileScroll:t.default.bool,children:t.default.node.isRequired,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:t.default.arrayOf(t.default.number),handle:t.default.string,cancel:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number,className:i.dontSetMe,style:i.dontSetMe,transform:i.dontSetMe}),l(h,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),st}function dt(){return it||(it=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),e.default=void 0;var t=function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,a)}for(const r in e)"default"!==r&&{}.hasOwnProperty.call(e,r)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,r))&&(i.get||i.set)?o(a,r,i):a[r]=e[r]);return a}(e,t)}(u()),r=p(m()),n=p(d()),o=Ne(),i=Ze(),a=rt(),s=Qe(),l=p(ut()),c=p(ct());function p(e){return e&&e.__esModule?e:{default:e}}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(null,arguments)}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends t.Component{static getDerivedStateFromProps(e,t){let{position:r}=e,{prevPropsPosition:n}=t;return!r||n&&r.x===n.x&&r.y===n.y?null:((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:r,prevPropsPosition:n}),{x:r.x,y:r.y,prevPropsPosition:{...r}})}constructor(e){super(e),h(this,"onDragStart",(e,t)=>{(0,c.default)("Draggable: onDragStart: %j",t);if(!1===this.props.onStart(e,(0,a.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})}),h(this,"onDrag",(e,t)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",t);const r=(0,a.createDraggableData)(this,t),n={x:r.x,y:r.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=n;n.x+=this.state.slackX,n.y+=this.state.slackY;const[o,i]=(0,a.getBoundPosition)(this,n.x,n.y);n.x=o,n.y=i,n.slackX=this.state.slackX+(e-n.x),n.slackY=this.state.slackY+(t-n.y),r.x=n.x,r.y=n.y,r.deltaX=n.x-this.state.x,r.deltaY=n.y-this.state.y}if(!1===this.props.onDrag(e,r))return!1;this.setState(n)}),h(this,"onDragStop",(e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,a.createDraggableData)(this,t)))return!1;(0,c.default)("Draggable: onDragStop: %j",t);const r={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;r.x=e,r.y=t}this.setState(r)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},e.position&&!e.onDrag&&e.onStop}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??n.default.findDOMNode(this)}render(){const{axis:e,bounds:r,children:n,defaultPosition:s,defaultClassName:c,defaultClassNameDragging:u,defaultClassNameDragged:d,position:p,positionOffset:h,scale:g,...m}=this.props;let b={},y=null;const v=!Boolean(p)||this.state.dragging,x=p||s,w={x:(0,a.canDragX)(this)&&v?this.state.x:x.x,y:(0,a.canDragY)(this)&&v?this.state.y:x.y};this.state.isElementSVG?y=(0,i.createSVGTransform)(w,h):b=(0,i.createCSSTransform)(w,h);const S=(0,o.clsx)(n.props.className||"",c,{[u]:this.state.dragging,[d]:this.state.dragged});return t.createElement(l.default,f({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(n),{className:S,style:{...n.props.style,...b},transform:y}))}}e.default=g,h(g,"displayName","Draggable"),h(g,"propTypes",{...l.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),h(g,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(Xe)),Xe}function pt(){if(at)return Fe.exports;at=1;const{default:e,DraggableCore:t}=dt();return Fe.exports=e,Fe.exports.default=e,Fe.exports.DraggableCore=t,Fe.exports}var ft,ht={exports:{}},gt={},mt={};function bt(){if(ft)return mt;ft=1,mt.__esModule=!0,mt.cloneElement=function(e,r){r.style&&e.props.style&&(r.style=n(n({},e.props.style),r.style));r.className&&e.props.className&&(r.className=e.props.className+" "+r.className);return t.default.cloneElement(e,r)};var e,t=(e=u())&&e.__esModule?e:{default:e};function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}return mt}var yt,vt,xt={};function wt(){if(yt)return xt;yt=1,xt.__esModule=!0,xt.resizableProps=void 0;var e,t=(e=m())&&e.__esModule?e:{default:e};pt();var r={axis:t.default.oneOf(["both","x","y","none"]),className:t.default.string,children:t.default.element.isRequired,draggableOpts:t.default.shape({allowAnyClick:t.default.bool,cancel:t.default.string,children:t.default.node,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:t.default.node,grid:t.default.arrayOf(t.default.number),handle:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number}),height:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o,i=r[0];return"both"===i.axis||"y"===i.axis?(o=t.default.number).isRequired.apply(o,r):t.default.number.apply(t.default,r)},handle:t.default.oneOfType([t.default.node,t.default.func]),handleSize:t.default.arrayOf(t.default.number),lockAspectRatio:t.default.bool,maxConstraints:t.default.arrayOf(t.default.number),minConstraints:t.default.arrayOf(t.default.number),onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,resizeHandles:t.default.arrayOf(t.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:t.default.number,width:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o,i=r[0];return"both"===i.axis||"x"===i.axis?(o=t.default.number).isRequired.apply(o,r):t.default.number.apply(t.default,r)}};return xt.resizableProps=r,xt}function St(){if(vt)return gt;vt=1,gt.__esModule=!0,gt.default=void 0;var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(u()),t=pt(),r=bt(),n=wt(),o=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var p=function(n){var i,s;function c(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))||this).handleRefs={},e.lastHandleRect=null,e.slack=null,e}s=n,(i=c).prototype=Object.create(s.prototype),i.prototype.constructor=i,d(i,s);var u=c.prototype;return u.componentWillUnmount=function(){this.resetData()},u.resetData=function(){this.lastHandleRect=this.slack=null},u.runConstraints=function(e,t){var r=this.props,n=r.minConstraints,o=r.maxConstraints,i=r.lockAspectRatio;if(!n&&!o&&!i)return[e,t];if(i){var a=this.props.width/this.props.height,s=e-this.props.width,l=t-this.props.height;Math.abs(s)>Math.abs(l*a)?t=e/a:e=t*a}var c=e,u=t,d=this.slack||[0,0],p=d[0],f=d[1];return e+=p,t+=f,n&&(e=Math.max(n[0],e),t=Math.max(n[1],t)),o&&(e=Math.min(o[0],e),t=Math.min(o[1],t)),this.slack=[p+(c-e),f+(u-t)],[e,t]},u.resizeHandler=function(e,t){var r=this;return function(n,o){var i=o.node,a=o.deltaX,s=o.deltaY;"onResizeStart"===e&&r.resetData();var l=("both"===r.props.axis||"x"===r.props.axis)&&"n"!==t&&"s"!==t,c=("both"===r.props.axis||"y"===r.props.axis)&&"e"!==t&&"w"!==t;if(l||c){var u=t[0],d=t[t.length-1],p=i.getBoundingClientRect();if(null!=r.lastHandleRect){if("w"===d)a+=p.left-r.lastHandleRect.left;if("n"===u)s+=p.top-r.lastHandleRect.top}r.lastHandleRect=p,"w"===d&&(a=-a),"n"===u&&(s=-s);var f=r.props.width+(l?a/r.props.transformScale:0),h=r.props.height+(c?s/r.props.transformScale:0),g=r.runConstraints(f,h);f=g[0],h=g[1];var m=f!==r.props.width||h!==r.props.height,b="function"==typeof r.props[e]?r.props[e]:null;b&&!("onResize"===e&&!m)&&(null==n.persist||n.persist(),b(n,{node:i,size:{width:f,height:h},handle:t})),"onResizeStop"===e&&r.resetData()}}},u.renderResizeHandle=function(t,r){var n=this.props.handle;if(!n)return e.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+t,ref:r});if("function"==typeof n)return n(t,r);var o=l({ref:r},"string"==typeof n.type?{}:{handleAxis:t});return e.cloneElement(n,o)},u.render=function(){var n=this,i=this.props,s=i.children,c=i.className,u=i.draggableOpts,d=i.resizeHandles,p=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(i,o);return(0,r.cloneElement)(s,l(l({},p),{},{className:(c?c+" ":"")+"react-resizable",children:[].concat(s.props.children,d.map(function(r){var o,i=null!=(o=n.handleRefs[r])?o:n.handleRefs[r]=e.createRef();return e.createElement(t.DraggableCore,a({},u,{nodeRef:i,key:"resizableHandle-"+r,onStop:n.resizeHandler("onResizeStop",r),onStart:n.resizeHandler("onResizeStart",r),onDrag:n.resizeHandler("onResize",r)}),n.renderResizeHandle(r,i))}))}))},c}(e.Component);return gt.default=p,p.propTypes=n.resizableProps,p.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},gt}var jt,Ot,Dt={};function Ct(){if(jt)return Dt;jt=1,Dt.__esModule=!0,Dt.default=void 0;var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(u()),t=i(m()),r=i(St()),n=wt(),o=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){d(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var f=function(t){var n,i;function a(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).state={width:e.props.width,height:e.props.height,propsWidth:e.props.width,propsHeight:e.props.height},e.onResize=function(t,r){var n=r.size;e.props.onResize?(null==t.persist||t.persist(),e.setState(n,function(){return e.props.onResize&&e.props.onResize(t,r)})):e.setState(n)},e}return i=t,(n=a).prototype=Object.create(i.prototype),n.prototype.constructor=n,p(n,i),a.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},a.prototype.render=function(){var t=this.props,n=t.handle,i=t.handleSize,a=t.onResizeStart,l=t.onResizeStop,u=t.draggableOpts,d=t.minConstraints,p=t.maxConstraints,f=t.lockAspectRatio,h=t.axis,g=t.resizeHandles,m=t.style,b=t.transformScale,y=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,o);return e.createElement(r.default,{axis:h,draggableOpts:u,handle:n,handleSize:i,height:this.state.height,lockAspectRatio:f,maxConstraints:p,minConstraints:d,onResizeStart:a,onResize:this.onResize,onResizeStop:l,resizeHandles:g,transformScale:b,width:this.state.width},e.createElement("div",s({},y,{style:c(c({},m),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},a}(e.Component);return Dt.default=f,f.propTypes=c(c({},n.resizableProps),{},{children:t.default.element}),Dt}var kt,Et,Pt,zt={};function Rt(){if(kt)return zt;kt=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.resizeHandleType=zt.resizeHandleAxesType=zt.default=void 0;var e=r(m()),t=r(u());function r(e){return e&&e.__esModule?e:{default:e}}const n=zt.resizeHandleAxesType=e.default.arrayOf(e.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),o=zt.resizeHandleType=e.default.oneOfType([e.default.node,e.default.func]);return zt.default={className:e.default.string,style:e.default.object,width:e.default.number,autoSize:e.default.bool,cols:e.default.number,draggableCancel:e.default.string,draggableHandle:e.default.string,verticalCompact:function(e){},compactType:e.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&He().validateLayout(t,"layout")},margin:e.default.arrayOf(e.default.number),containerPadding:e.default.arrayOf(e.default.number),rowHeight:e.default.number,maxRows:e.default.number,isBounded:e.default.bool,isDraggable:e.default.bool,isResizable:e.default.bool,allowOverlap:e.default.bool,preventCollision:e.default.bool,useCSSTransforms:e.default.bool,transformScale:e.default.number,isDroppable:e.default.bool,resizeHandles:n,resizeHandle:o,onLayoutChange:e.default.func,onDragStart:e.default.func,onDrag:e.default.func,onDragStop:e.default.func,onResizeStart:e.default.func,onResize:e.default.func,onResizeStop:e.default.func,onDrop:e.default.func,droppingItem:e.default.shape({i:e.default.string.isRequired,w:e.default.number.isRequired,h:e.default.number.isRequired}),children:function(e,r){const n=e[r],o={};t.default.Children.forEach(n,function(e){if(null!=e?.key){if(o[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');o[e.key]=!0}})},innerRef:e.default.any},zt}function _t(){if(Et)return Ge;Et=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.default=void 0;var e=c(u()),t=d(),r=c(m()),n=pt(),o=(Ot||(Ot=1,ht.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},ht.exports.Resizable=St().default,ht.exports.ResizableBox=Ct().default),ht.exports),i=He(),a=Be(),s=Rt(),l=c(Ne());function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let f=class extends e.default.Component{constructor(){super(...arguments),p(this,"state",{resizing:null,dragging:null,className:""}),p(this,"elementRef",e.default.createRef()),p(this,"onDragStart",(e,t)=>{let{node:r}=t;const{onDragStart:n,transformScale:o}=this.props;if(!n)return;const i={top:0,left:0},{offsetParent:s}=r;if(!s)return;const l=s.getBoundingClientRect(),c=r.getBoundingClientRect(),u=c.left/o,d=l.left/o,p=c.top/o,f=l.top/o;i.left=u-d+s.scrollLeft,i.top=p-f+s.scrollTop,this.setState({dragging:i});const{x:h,y:g}=(0,a.calcXY)(this.getPositionParams(),i.top,i.left,this.props.w,this.props.h);return n.call(this,this.props.i,h,g,{e:e,node:r,newPosition:i})}),p(this,"onDrag",(e,r,n)=>{let{node:o,deltaX:i,deltaY:s}=r;const{onDrag:l}=this.props;if(!l)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let c=this.state.dragging.top+s,u=this.state.dragging.left+i;const{isBounded:d,i:p,w:f,h:h,containerWidth:g}=this.props,m=this.getPositionParams();if(d){const{offsetParent:e}=o;if(e){const{margin:t,rowHeight:r}=this.props,n=e.clientHeight-(0,a.calcGridItemWHPx)(h,r,t[1]);c=(0,a.clamp)(c,0,n);const o=(0,a.calcGridColWidth)(m),i=g-(0,a.calcGridItemWHPx)(f,o,t[0]);u=(0,a.clamp)(u,0,i)}}const b={top:c,left:u};n?this.setState({dragging:b}):(0,t.flushSync)(()=>{this.setState({dragging:b})});const{x:y,y:v}=(0,a.calcXY)(m,c,u,f,h);return l.call(this,p,y,v,{e:e,node:o,newPosition:b})}),p(this,"onDragStop",(e,t)=>{let{node:r}=t;const{onDragStop:n}=this.props;if(!n)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:o,h:i,i:s}=this.props,{left:l,top:c}=this.state.dragging,u={top:c,left:l};this.setState({dragging:null});const{x:d,y:p}=(0,a.calcXY)(this.getPositionParams(),c,l,o,i);return n.call(this,s,d,p,{e:e,node:r,newPosition:u})}),p(this,"onResizeStop",(e,t,r)=>this.onResizeHandler(e,t,r,"onResizeStop")),p(this,"onResizeStart",(e,t,r)=>this.onResizeHandler(e,t,r,"onResizeStart")),p(this,"onResize",(e,t,r)=>this.onResizeHandler(e,t,r,"onResize"))}shouldComponentUpdate(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;const r=(0,a.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),n=(0,a.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,i.fastPositionEqual)(r,n)||this.props.useCSSTransforms!==e.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(e){this.moveDroppingItem(e)}moveDroppingItem(e){const{droppingPosition:t}=this.props;if(!t)return;const r=this.elementRef.current;if(!r)return;const n=e.droppingPosition||{left:0,top:0},{dragging:o}=this.state,i=o&&t.left!==n.left||t.top!==n.top;if(o){if(i){const e=t.left-o.left,n=t.top-o.top;this.onDrag(t.e,{node:r,deltaX:e,deltaY:n},!0)}}else this.onDragStart(t.e,{node:r,deltaX:t.left,deltaY:t.top})}getPositionParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}createStyle(e){const{usePercentages:t,containerWidth:r,useCSSTransforms:n}=this.props;let o;return n?o=(0,i.setTransform)(e):(o=(0,i.setTopLeft)(e),t&&(o.left=(0,i.perc)(e.left/r),o.width=(0,i.perc)(e.width/r))),o}mixinDraggable(t,r){return e.default.createElement(n.DraggableCore,{disabled:!r,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},t)}curryResizeHandler(e,t){return(r,n)=>t(r,n,e)}mixinResizable(t,r,n){const{cols:i,minW:s,minH:l,maxW:c,maxH:u,transformScale:d,resizeHandles:p,resizeHandle:f}=this.props,h=this.getPositionParams(),g=(0,a.calcGridItemPosition)(h,0,0,i,0).width,m=(0,a.calcGridItemPosition)(h,0,0,s,l),b=(0,a.calcGridItemPosition)(h,0,0,c,u),y=[m.width,m.height],v=[Math.min(b.width,g),Math.min(b.height,1/0)];return e.default.createElement(o.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:r.width,height:r.height,minConstraints:y,maxConstraints:v,onResizeStop:this.curryResizeHandler(r,this.onResizeStop),onResizeStart:this.curryResizeHandler(r,this.onResizeStart),onResize:this.curryResizeHandler(r,this.onResize),transformScale:d,resizeHandles:p,handle:f},t)}onResizeHandler(e,r,n,o){let{node:s,size:l,handle:c}=r;const u=this.props[o];if(!u)return;const{x:d,y:p,i:f,maxH:h,minH:g,containerWidth:m}=this.props,{minW:b,maxW:y}=this.props;let v=l;s&&(v=(0,i.resizeItemInDirection)(c,n,l,m),(0,t.flushSync)(()=>{this.setState({resizing:"onResizeStop"===o?null:v})}));let{w:x,h:w}=(0,a.calcWH)(this.getPositionParams(),v.width,v.height,d,p,c);x=(0,a.clamp)(x,Math.max(b,1),y),w=(0,a.clamp)(w,g,h),u.call(this,f,x,w,{e:e,node:s,size:v,handle:c})}render(){const{x:t,y:r,w:n,h:o,isDraggable:i,isResizable:s,droppingPosition:c,useCSSTransforms:u}=this.props,d=(0,a.calcGridItemPosition)(this.getPositionParams(),t,r,n,o,this.state),p=e.default.Children.only(this.props.children);let f=e.default.cloneElement(p,{ref:this.elementRef,className:(0,l.default)("react-grid-item",p.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":i,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(c),cssTransforms:u}),style:{...this.props.style,...p.props.style,...this.createStyle(d)}});return f=this.mixinResizable(f,d,s),f=this.mixinDraggable(f,i),f}};return Ge.default=f,p(f,"propTypes",{children:r.default.element,cols:r.default.number.isRequired,containerWidth:r.default.number.isRequired,rowHeight:r.default.number.isRequired,margin:r.default.array.isRequired,maxRows:r.default.number.isRequired,containerPadding:r.default.array.isRequired,x:r.default.number.isRequired,y:r.default.number.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired,minW:function(e,t){const r=e[t];return"number"!=typeof r?new Error("minWidth not Number"):r>e.w||r>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){const r=e[t];return"number"!=typeof r?new Error("maxWidth not Number"):r<e.w||r<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){const r=e[t];return"number"!=typeof r?new Error("minHeight not Number"):r>e.h||r>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){const r=e[t];return"number"!=typeof r?new Error("maxHeight not Number"):r<e.h||r<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:r.default.string.isRequired,resizeHandles:s.resizeHandleAxesType,resizeHandle:s.resizeHandleType,onDragStop:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onResizeStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,isDraggable:r.default.bool.isRequired,isResizable:r.default.bool.isRequired,isBounded:r.default.bool.isRequired,static:r.default.bool,useCSSTransforms:r.default.bool.isRequired,transformScale:r.default.number,className:r.default.string,handle:r.default.string,cancel:r.default.string,droppingPosition:r.default.shape({e:r.default.object.isRequired,left:r.default.number.isRequired,top:r.default.number.isRequired})}),p(f,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),Ge}function Mt(){if(Pt)return Pe;Pt=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.default=void 0;var e=function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,a)}for(const r in e)"default"!==r&&{}.hasOwnProperty.call(e,r)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,r))&&(i.get||i.set)?o(a,r,i):a[r]=e[r]);return a}(e,t)}(u()),t=Re(),r=s(Ne()),n=He(),o=Be(),i=s(_t()),a=s(Rt());function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c="react-grid-layout";let d=!1;try{d=/firefox/i.test(navigator.userAgent)}catch(f){}let p=class extends e.Component{constructor(){super(...arguments),l(this,"state",{activeDrag:null,layout:(0,n.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,n.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),l(this,"dragEnterCounter",0),l(this,"onDragStart",(e,t,r,o)=>{let{e:i,node:a}=o;const{layout:s}=this.state,l=(0,n.getLayoutItem)(s,e);if(!l)return;const c={w:l.w,h:l.h,x:l.x,y:l.y,placeholder:!0,i:e};return this.setState({oldDragItem:(0,n.cloneLayoutItem)(l),oldLayout:s,activeDrag:c}),this.props.onDragStart(s,l,l,null,i,a)}),l(this,"onDrag",(e,t,r,o)=>{let{e:i,node:a}=o;const{oldDragItem:s}=this.state;let{layout:l}=this.state;const{cols:c,allowOverlap:u,preventCollision:d}=this.props,p=(0,n.getLayoutItem)(l,e);if(!p)return;const f={w:p.w,h:p.h,x:p.x,y:p.y,placeholder:!0,i:e};l=(0,n.moveElement)(l,p,t,r,!0,d,(0,n.compactType)(this.props),c,u),this.props.onDrag(l,s,p,f,i,a),this.setState({layout:u?l:(0,n.compact)(l,(0,n.compactType)(this.props),c),activeDrag:f})}),l(this,"onDragStop",(e,t,r,o)=>{let{e:i,node:a}=o;if(!this.state.activeDrag)return;const{oldDragItem:s}=this.state;let{layout:l}=this.state;const{cols:c,preventCollision:u,allowOverlap:d}=this.props,p=(0,n.getLayoutItem)(l,e);if(!p)return;l=(0,n.moveElement)(l,p,t,r,!0,u,(0,n.compactType)(this.props),c,d);const f=d?l:(0,n.compact)(l,(0,n.compactType)(this.props),c);this.props.onDragStop(f,s,p,null,i,a);const{oldLayout:h}=this.state;this.setState({activeDrag:null,layout:f,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(f,h)}),l(this,"onResizeStart",(e,t,r,o)=>{let{e:i,node:a}=o;const{layout:s}=this.state,l=(0,n.getLayoutItem)(s,e);l&&(this.setState({oldResizeItem:(0,n.cloneLayoutItem)(l),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(s,l,l,null,i,a))}),l(this,"onResize",(e,t,r,o)=>{let{e:i,node:a,handle:s}=o;const{oldResizeItem:l}=this.state,{layout:c}=this.state,{cols:u,preventCollision:d,allowOverlap:p}=this.props;let f,h,g,m=!1;const[b,y]=(0,n.withLayoutItem)(c,e,e=>{let o;if(h=e.x,g=e.y,-1!==["sw","w","nw","n","ne"].indexOf(s)&&(-1!==["sw","nw","w"].indexOf(s)&&(h=e.x+(e.w-t),t=e.x!==h&&h<0?e.w:t,h=h<0?0:h),-1!==["ne","n","nw"].indexOf(s)&&(g=e.y+(e.h-r),r=e.y!==g&&g<0?e.h:r,g=g<0?0:g),m=!0),d&&!p){o=(0,n.getAllCollisions)(c,{...e,w:t,h:r,x:h,y:g}).filter(t=>t.i!==e.i).length>0,o&&(g=e.y,r=e.h,h=e.x,t=e.w,m=!1)}return e.w=t,e.h=r,e});if(!y)return;if(f=b,m){const e=!0;f=(0,n.moveElement)(b,y,h,g,e,this.props.preventCollision,(0,n.compactType)(this.props),u,p)}const v={w:y.w,h:y.h,x:y.x,y:y.y,static:!0,i:e};this.props.onResize(f,l,y,v,i,a),this.setState({layout:p?f:(0,n.compact)(f,(0,n.compactType)(this.props),u),activeDrag:v})}),l(this,"onResizeStop",(e,t,r,o)=>{let{e:i,node:a}=o;const{layout:s,oldResizeItem:l}=this.state,{cols:c,allowOverlap:u}=this.props,d=(0,n.getLayoutItem)(s,e),p=u?s:(0,n.compact)(s,(0,n.compactType)(this.props),c);this.props.onResizeStop(p,l,d,null,i,a);const{oldLayout:f}=this.state;this.setState({activeDrag:null,layout:p,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(p,f)}),l(this,"onDragOver",t=>{if(t.preventDefault(),t.stopPropagation(),d&&!t.nativeEvent.target?.classList.contains(c))return!1;const{droppingItem:r,onDropDragOver:n,margin:i,cols:a,rowHeight:s,maxRows:l,width:u,containerPadding:p,transformScale:f}=this.props,h=n?.(t);if(!1===h)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const g={...r,...h},{layout:m}=this.state,b=t.currentTarget.getBoundingClientRect(),y=t.clientX-b.left,v=t.clientY-b.top,x={left:y/f,top:v/f,e:t};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:e,top:t}=this.state.droppingPosition;(e!=y||t!=v)&&this.setState({droppingPosition:x})}}else{const t={cols:a,margin:i,maxRows:l,rowHeight:s,containerWidth:u,containerPadding:p||i},r=(0,o.calcXY)(t,v,y,g.w,g.h);this.setState({droppingDOMNode:e.createElement("div",{key:g.i}),droppingPosition:x,layout:[...m,{...g,x:r.x,y:r.y,static:!1,isDraggable:!0}]})}}),l(this,"removeDroppingPlaceholder",()=>{const{droppingItem:e,cols:t}=this.props,{layout:r}=this.state,o=(0,n.compact)(r.filter(t=>t.i!==e.i),(0,n.compactType)(this.props),t,this.props.allowOverlap);this.setState({layout:o,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),l(this,"onDragLeave",e=>{e.preventDefault(),e.stopPropagation(),this.dragEnterCounter--,0===this.dragEnterCounter&&this.removeDroppingPlaceholder()}),l(this,"onDragEnter",e=>{e.preventDefault(),e.stopPropagation(),this.dragEnterCounter++}),l(this,"onDrop",e=>{e.preventDefault(),e.stopPropagation();const{droppingItem:t}=this.props,{layout:r}=this.state,n=r.find(e=>e.i===t.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(r,n,e)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(e,r){let o;if(r.activeDrag)return null;if((0,t.deepEqual)(e.layout,r.propsLayout)&&e.compactType===r.compactType?(0,n.childrenEqual)(e.children,r.children)||(o=r.layout):o=e.layout,o){return{layout:(0,n.synchronizeLayoutWithChildren)(o,e.children,e.cols,(0,n.compactType)(e),e.allowOverlap),compactType:e.compactType,children:e.children,propsLayout:e.layout}}return null}shouldComponentUpdate(e,r){return this.props.children!==e.children||!(0,n.fastRGLPropsEqual)(this.props,e,t.deepEqual)||this.state.activeDrag!==r.activeDrag||this.state.mounted!==r.mounted||this.state.droppingPosition!==r.droppingPosition}componentDidUpdate(e,t){if(!this.state.activeDrag){const e=this.state.layout,r=t.layout;this.onLayoutMaybeChanged(e,r)}}containerHeight(){if(!this.props.autoSize)return;const e=(0,n.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}onLayoutMaybeChanged(e,r){r||(r=this.state.layout),(0,t.deepEqual)(r,e)||this.props.onLayoutChange(e)}placeholder(){const{activeDrag:t}=this.state;if(!t)return null;const{width:r,cols:n,margin:o,containerPadding:a,rowHeight:s,maxRows:l,useCSSTransforms:c,transformScale:u}=this.props;return e.createElement(i.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:"react-grid-placeholder "+(this.state.resizing?"placeholder-resizing":""),containerWidth:r,cols:n,margin:o,containerPadding:a||o,maxRows:l,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:c,transformScale:u},e.createElement("div",null))}processGridItem(t,r){if(!t||!t.key)return;const o=(0,n.getLayoutItem)(this.state.layout,String(t.key));if(!o)return null;const{width:a,cols:s,margin:l,containerPadding:c,rowHeight:u,maxRows:d,isDraggable:p,isResizable:f,isBounded:h,useCSSTransforms:g,transformScale:m,draggableCancel:b,draggableHandle:y,resizeHandles:v,resizeHandle:x}=this.props,{mounted:w,droppingPosition:S}=this.state,j="boolean"==typeof o.isDraggable?o.isDraggable:!o.static&&p,O="boolean"==typeof o.isResizable?o.isResizable:!o.static&&f,D=o.resizeHandles||v,C=j&&h&&!1!==o.isBounded;return e.createElement(i.default,{containerWidth:a,cols:s,margin:l,containerPadding:c||l,maxRows:d,rowHeight:u,cancel:b,handle:y,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:j,isResizable:O,isBounded:C,useCSSTransforms:g&&w,usePercentages:!w,transformScale:m,w:o.w,h:o.h,x:o.x,y:o.y,i:o.i,minH:o.minH,minW:o.minW,maxH:o.maxH,maxW:o.maxW,static:o.static,droppingPosition:r?S:void 0,resizeHandles:D,resizeHandle:x},t)}render(){const{className:t,style:o,isDroppable:i,innerRef:a}=this.props,s=(0,r.default)(c,t),l={height:this.containerHeight(),...o};return e.createElement("div",{ref:a,className:s,style:l,onDrop:i?this.onDrop:n.noop,onDragLeave:i?this.onDragLeave:n.noop,onDragEnter:i?this.onDragEnter:n.noop,onDragOver:i?this.onDragOver:n.noop},e.Children.map(this.props.children,e=>this.processGridItem(e)),i&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}};return Pe.default=p,l(p,"displayName","ReactGridLayout"),l(p,"propTypes",a.default),l(p,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:n.noop,onDragStart:n.noop,onDrag:n.noop,onDragStop:n.noop,onResizeStart:n.noop,onResize:n.noop,onResizeStop:n.noop,onDrop:n.noop,onDropDragOver:n.noop}),Pe}var Nt,Tt,It={},At={};function Lt(){if(Nt)return At;Nt=1,Object.defineProperty(At,"__esModule",{value:!0}),At.findOrGenerateResponsiveLayout=function(r,n,o,i,a,s){if(r[o])return(0,e.cloneLayout)(r[o]);let l=r[i];const c=t(n),u=c.slice(c.indexOf(o));for(let e=0,t=u.length;e<t;e++){const t=u[e];if(r[t]){l=r[t];break}}return l=(0,e.cloneLayout)(l||[]),(0,e.compact)((0,e.correctBounds)(l,{cols:a}),s,a)},At.getBreakpointFromWidth=function(e,r){const n=t(e);let o=n[0];for(let t=1,i=n.length;t<i;t++){const i=n[t];r>e[i]&&(o=i)}return o},At.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},At.sortBreakpoints=t;var e=He();function t(e){return Object.keys(e).sort(function(t,r){return e[t]-e[r]})}return At}function Ht(){if(Tt)return It;Tt=1,Object.defineProperty(It,"__esModule",{value:!0}),It.default=void 0;var e=function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,a)}for(const r in e)"default"!==r&&{}.hasOwnProperty.call(e,r)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,r))&&(i.get||i.set)?o(a,r,i):a[r]=e[r]);return a}(e,t)}(u()),t=a(m()),r=Re(),n=He(),o=Lt(),i=a(Mt());function a(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(null,arguments)}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=e=>Object.prototype.toString.call(e);function d(e,t){return null==e?null:Array.isArray(e)?e:e[t]}let p=class extends e.Component{constructor(){super(...arguments),l(this,"state",this.generateInitialState()),l(this,"onLayoutChange",e=>{this.props.onLayoutChange(e,{...this.props.layouts,[this.state.breakpoint]:e})})}generateInitialState(){const{width:e,breakpoints:t,layouts:r,cols:n}=this.props,i=(0,o.getBreakpointFromWidth)(t,e),a=(0,o.getColsFromBreakpoint)(i,n),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,o.findOrGenerateResponsiveLayout)(r,t,i,i,a,s),breakpoint:i,cols:a}}static getDerivedStateFromProps(e,t){if(!(0,r.deepEqual)(e.layouts,t.layouts)){const{breakpoint:r,cols:n}=t;return{layout:(0,o.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,r,r,n,e.compactType),layouts:e.layouts}}return null}componentDidUpdate(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,r.deepEqual)(this.props.breakpoints,e.breakpoints)&&(0,r.deepEqual)(this.props.cols,e.cols)||this.onWidthChange(e)}onWidthChange(e){const{breakpoints:t,cols:r,layouts:i,compactType:a}=this.props,s=this.props.breakpoint||(0,o.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),l=this.state.breakpoint,c=(0,o.getColsFromBreakpoint)(s,r),u={...i};if(l!==s||e.breakpoints!==t||e.cols!==r){l in u||(u[l]=(0,n.cloneLayout)(this.state.layout));let e=(0,o.findOrGenerateResponsiveLayout)(u,t,s,l,c,a);e=(0,n.synchronizeLayoutWithChildren)(e,this.props.children,c,a,this.props.allowOverlap),u[s]=e,this.props.onBreakpointChange(s,c),this.props.onLayoutChange(e,u),this.setState({breakpoint:s,layout:e,cols:c})}const p=d(this.props.margin,s),f=d(this.props.containerPadding,s);this.props.onWidthChange(this.props.width,p,c,f)}render(){const{breakpoint:t,breakpoints:r,cols:n,layouts:o,margin:a,containerPadding:l,onBreakpointChange:c,onLayoutChange:u,onWidthChange:p,...f}=this.props;return e.createElement(i.default,s({},f,{margin:d(a,this.state.breakpoint),containerPadding:d(l,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return It.default=p,l(p,"propTypes",{breakpoint:t.default.string,breakpoints:t.default.object,allowOverlap:t.default.bool,cols:t.default.object,margin:t.default.oneOfType([t.default.array,t.default.object]),containerPadding:t.default.oneOfType([t.default.array,t.default.object]),layouts(e,t){if("[object Object]"!==c(e[t]))throw new Error("Layout property must be an object. Received: "+c(e[t]));Object.keys(e[t]).forEach(t=>{if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,n.validateLayout)(e.layouts[t],"layouts."+t)})},width:t.default.number.isRequired,onBreakpointChange:t.default.func,onLayoutChange:t.default.func,onWidthChange:t.default.func}),l(p,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:n.noop,onLayoutChange:n.noop,onWidthChange:n.noop}),It}var Wt={},qt=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some(function(e,n){return e[0]===t&&(r=n,!0)}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var o=n[r];e.call(t,o[1],o[0])}},t}()}(),Bt="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,$t="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Gt="function"==typeof requestAnimationFrame?requestAnimationFrame.bind($t):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)};var Ft=["top","right","bottom","left","width","height","size","weight"],Xt="undefined"!=typeof MutationObserver,Yt=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,o=0;function i(){r&&(r=!1,e()),n&&s()}function a(){Gt(i)}function s(){var e=Date.now();if(r){if(e-o<2)return;n=!0}else r=!0,n=!1,setTimeout(a,t);o=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){Bt&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Xt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Bt&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;Ft.some(function(e){return!!~r.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Ut=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var o=n[r];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},Qt=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||$t},Vt=rr(0,0,0,0);function Kt(e){return parseFloat(e)||0}function Jt(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(t,r){return t+Kt(e["border-"+r+"-width"])},0)}function Zt(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Vt;var n=Qt(e).getComputedStyle(e),o=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var o=n[r],i=e["padding-"+o];t[o]=Kt(i)}return t}(n),i=o.left+o.right,a=o.top+o.bottom,s=Kt(n.width),l=Kt(n.height);if("border-box"===n.boxSizing&&(Math.round(s+i)!==t&&(s-=Jt(n,"left","right")+i),Math.round(l+a)!==r&&(l-=Jt(n,"top","bottom")+a)),!function(e){return e===Qt(e).document.documentElement}(e)){var c=Math.round(s+i)-t,u=Math.round(l+a)-r;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return rr(o.left,o.top,s,l)}var er="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Qt(e).SVGGraphicsElement}:function(e){return e instanceof Qt(e).SVGElement&&"function"==typeof e.getBBox};function tr(e){return Bt?er(e)?function(e){var t=e.getBBox();return rr(0,0,t.width,t.height)}(e):Zt(e):Vt}function rr(e,t,r,n){return{x:e,y:t,width:r,height:n}}var nr=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=rr(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=tr(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),or=function(){return function(e,t){var r,n,o,i,a,s,l,c=(n=(r=t).x,o=r.y,i=r.width,a=r.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),Ut(l,{x:n,y:o,width:i,height:a,top:o,right:n+i,bottom:a+o,left:n}),l);Ut(this,{target:e,contentRect:c})}}(),ir=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new qt,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Qt(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new nr(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Qt(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new or(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),ar="undefined"!=typeof WeakMap?new WeakMap:new qt,sr=function(){return function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Yt.getInstance(),n=new ir(t,r,this);ar.set(this,n)}}();["observe","unobserve","disconnect"].forEach(function(e){sr.prototype[e]=function(){var t;return(t=ar.get(this))[e].apply(t,arguments)}});var lr=void 0!==$t.ResizeObserver?$t.ResizeObserver:sr;const cr=p(Object.freeze(Object.defineProperty({__proto__:null,default:lr},Symbol.toStringTag,{value:"Module"})));var ur,dr;function pr(){if(ur)return Wt;ur=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=function(o){var l;return l=class extends e.Component{constructor(){super(...arguments),a(this,"state",{width:1280}),a(this,"elementRef",e.createRef()),a(this,"mounted",!1),a(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new r.default(e=>{if(this.elementRef.current instanceof HTMLElement){const t=e[0].contentRect.width;this.setState({width:t})}});const e=this.elementRef.current;e instanceof HTMLElement&&this.resizeObserver.observe(e)}componentWillUnmount(){this.mounted=!1;const e=this.elementRef.current;e instanceof HTMLElement&&this.resizeObserver.unobserve(e),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:t,...r}=this.props;return t&&!this.mounted?e.createElement("div",{className:(0,n.default)(this.props.className,s),style:this.props.style,ref:this.elementRef}):e.createElement(o,i({innerRef:this.elementRef},r,this.state))}},a(l,"defaultProps",{measureBeforeMount:!1}),a(l,"propTypes",{measureBeforeMount:t.default.bool}),l};var e=function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,a)}for(const r in e)"default"!==r&&{}.hasOwnProperty.call(e,r)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,r))&&(i.get||i.set)?o(a,r,i):a[r]=e[r]);return a}(e,t)}(u()),t=o(m()),r=o(cr),n=o(Ne());function o(e){return e&&e.__esModule?e:{default:e}}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(null,arguments)}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s="react-grid-layout";return Wt}var fr,hr=(dr||(dr=1,(fr=Ee).exports=Mt().default,fr.exports.utils=He(),fr.exports.calculateUtils=Be(),fr.exports.Responsive=Ht().default,fr.exports.Responsive.utils=Lt(),fr.exports.WidthProvider=pr().default),Ee.exports);const gr=hr.WidthProvider(hr.Responsive),mr={lg:1200,md:996,sm:768,xs:480,xxs:0},br={lg:12,md:8,sm:4,xs:2,xxs:1},yr=({widgets:e,onLayoutChange:t,isDraggable:r=!0,isResizable:o=!0,className:i="",children:a})=>{const{currentLayout:s,setLayout:u,currentBreakpoint:d,setBreakpoint:p,isEditing:g,gridSnap:m}=n();!function(){const{user:e}=h(),t=e?.publicMetadata?.role||e?.privateMetadata?.role||"viewer",r={admin:["admin_access","manager_access","operator_access","viewer_access"],manager:["manager_access","operator_access","viewer_access"],operator:["operator_access","viewer_access"],viewer:["viewer_access"]},n=e=>(r[t]||[]).includes(e)}(),(()=>{const e=c.useMemo(()=>N,[]),t=t=>t.every(t=>!0===e[t])})();const[b,y]=c.useState("vertical"),[v,x]=c.useState(!1),w=c.useMemo(()=>({className:xe("layout",g&&"editing-mode",i),layouts:s,breakpoints:mr,cols:br,rowHeight:60,isDraggable:r&&g,isResizable:o&&g,isBounded:!0,compactType:b,preventCollision:!m,useCSSTransforms:!0,measureBeforeMount:!1,autoSize:!0,margin:[16,16],containerPadding:[16,16],resizeHandles:["se","e","s"]}),[s,r,o,g,b,m,i]),S=c.useCallback((e,r)=>{t&&t(e,r),Object.entries(r).forEach(([e,t])=>{u(e,t)})},[t,u]),j=c.useCallback((e,t)=>{p(e)},[p]);return f.useEffect(()=>{x(!0)},[]),v?l.jsxs("div",{className:"dashboard-grid-container",children:[g&&l.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Edit Mode Active"})]}),l.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Drag to move  Resize from corners  Auto-save enabled"})]})}),l.jsx(gr,{...w,onLayoutChange:S,onBreakpointChange:j,children:a}),g&&l.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 text-center",children:["Layout: ",d.toUpperCase(),"  Columns: ",br[d],"  Widgets: ",f.Children.count(a)]})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})};function vr({title:e,value:t,trend:r,color:n="#3b82f6",icon:o,status:i="normal",subtitle:a,onClick:s,loading:c=!1,compact:u=!1}){const d=(e=>{switch(e){case"success":return"#10b981";case"warning":return"#f59e0b";case"critical":return"#ef4444";default:return n}})(i),p=!!s,f={backgroundColor:"white",padding:u?"1rem":"1.5rem",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.07)",border:`2px solid ${d}20`,borderLeft:`4px solid ${d}`,cursor:p?"pointer":"default",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},h=p?{transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(0,0,0,0.15)"}:{};return l.jsxs("div",{style:f,onClick:s,onMouseOver:e=>{p&&Object.assign(e.target.style,h)},onMouseOut:e=>{p&&(e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 6px rgba(0,0,0,0.07)")},children:[c&&l.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255,255,255,0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1},children:l.jsx("div",{style:{width:"20px",height:"20px",border:`2px solid ${d}30`,borderTopColor:d,borderRadius:"50%",animation:"spin 1s linear infinite"}})}),"normal"!==i&&l.jsx("div",{style:{position:"absolute",top:"8px",right:"8px",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:d,animation:"critical"===i?"pulse 2s infinite":"none"}}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[o&&l.jsx("div",{style:{fontSize:u?"1.5rem":"2rem",color:d,minWidth:"fit-content"},children:o}),l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsx("h3",{style:{fontSize:u?"0.75rem":"0.875rem",color:"#6b7280",marginBottom:"0.5rem",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.05em"},children:e}),l.jsx("p",{style:{fontSize:u?"1.5rem":"2rem",fontWeight:"bold",color:d,marginBottom:a?"0.25rem":"0.5rem",lineHeight:1.2},children:t}),a&&l.jsx("p",{style:{fontSize:"0.75rem",color:"#9ca3af",marginBottom:"0.5rem"},children:a}),r&&l.jsx("p",{style:{fontSize:"0.75rem",color:r.includes("")?"#10b981":r.includes("")?"#ef4444":"#6b7280",display:"flex",alignItems:"center",gap:"0.25rem",fontWeight:"500"},children:r})]})]}),l.jsx("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        @keyframes pulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.5; }\n        }\n      "})]})}function xr({stage:e,data:t,onClick:r}){const n=(e=>{switch(e){case"mixing":return{title:"Mixing & Infusion",icon:"",color:"#10b981",subtitle:`${t?.batchesInProgress||0} batches active`};case"bottling":return{title:"Bottling & Labeling",icon:"",color:"#3b82f6",subtitle:`${t?.unitsBottled?.toLocaleString()||0} units today`};case"warehousing":return{title:"Warehousing",icon:"",color:"#8b5cf6",subtitle:`${t?.inventory?.toLocaleString()||0} in inventory`};default:return{title:e,icon:"",color:"#6b7280"}}})(e),o=t?.efficiency||0,i=o>=95?"success":o>=85?"normal":o>=70?"warning":"critical";return l.jsx(vr,{title:n.title,value:`${o.toFixed(1)}%`,trend:`Quality: ${t?.qualityScore?.toFixed(1)||0}%`,color:n.color,icon:n.icon,subtitle:n.subtitle,status:i,onClick:r})}function wr({channel:e,data:t,onClick:r}){const n=(e=>{switch(e){case"amazon":return{title:"Amazon Sales",icon:"",color:"#ea580c"};case"shopify":return{title:"Shopify Direct",icon:"",color:"#16a34a"};default:return{title:e.charAt(0).toUpperCase()+e.slice(1),icon:"",color:"#6b7280"}}})(e),o=t?.revenue||0,i=t?.orders||0,a=t?.fulfillment||0,s=a>=98?"success":a>=95?"normal":"warning";return l.jsx(vr,{title:n.title,value:`${o.toLocaleString()}`,trend:`${i} orders  ${a}% fulfilled`,color:n.color,icon:n.icon,status:s,onClick:r})}x.register(w,S,j,O,D,C,k,E,P);const Sr="#667eea",jr="#10b981",Or="#3b82f6";function Dr({channels:e={},height:t=300,title:r="Multi-Channel Performance"}){const n=c.useMemo(()=>{const t=Object.keys(e),r=t.map(t=>e[t]?.revenue||0),n=t.map(t=>e[t]?.orders||0);return{labels:t.map(e=>e.charAt(0).toUpperCase()+e.slice(1)),datasets:[{label:"Revenue ()",data:r,backgroundColor:`${jr}80`,borderColor:jr,borderWidth:1,yAxisID:"revenue"},{label:"Orders",data:n,backgroundColor:`${Or}80`,borderColor:Or,borderWidth:1,yAxisID:"orders"}]}},[e]),o=c.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12,weight:"500"}}},tooltip:{backgroundColor:"#1f2937",titleColor:"#ffffff",bodyColor:"#ffffff",cornerRadius:8,callbacks:{label:e=>{const t=0===e.datasetIndex?" ":" orders";return`${e.dataset.label}: ${e.parsed.y.toLocaleString()}${t}`}}}},scales:{x:{grid:{display:!1},ticks:{color:"#6b7280",font:{size:11,weight:"500"}}},revenue:{type:"linear",display:!0,position:"left",grid:{color:"#e5e7eb"},ticks:{color:jr,callback:e=>`${e.toLocaleString()}`}},orders:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:Or,callback:e=>`${e} orders`}}}}),[]);return l.jsx("div",{style:{height:`${t}px`,position:"relative"},children:l.jsx(y,{data:n,options:o})})}function Cr({productionStages:e={},height:t=250}){const r=c.useMemo(()=>{const t=["mixing","bottling","warehousing"],r=t.map(t=>e[t]?.efficiency||0),n=t.map(t=>e[t]?.qualityScore||0);return{labels:["Mixing & Infusion","Bottling & Labeling","Warehousing"],datasets:[{label:"Efficiency (%)",data:r,borderColor:Sr,backgroundColor:`${Sr}30`,tension:.4,fill:!0},{label:"Quality Score (%)",data:n,borderColor:jr,backgroundColor:`${jr}30`,tension:.4,fill:!0}]}},[e]),n=c.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20}},tooltip:{backgroundColor:"#1f2937",titleColor:"#ffffff",bodyColor:"#ffffff",cornerRadius:8}},scales:{x:{grid:{display:!1},ticks:{color:"#6b7280"}},y:{min:0,max:100,grid:{color:"#e5e7eb"},ticks:{color:"#6b7280",callback:e=>`${e}%`}}},elements:{point:{radius:4,hoverRadius:6}}}),[]);return l.jsx("div",{style:{height:`${t}px`,position:"relative"},children:l.jsx(v,{data:r,options:n})})}function kr({notification:e,onClose:t}){const{id:r,type:n,title:o,message:i,duration:a=5e3}=e,s=(e=>{switch(e){case"success":return{backgroundColor:"#10b981",icon:"",borderColor:"#059669"};case"warning":return{backgroundColor:"#f59e0b",icon:"",borderColor:"#d97706"};case"error":return{backgroundColor:"#ef4444",icon:"",borderColor:"#dc2626"};case"info":return{backgroundColor:"#3b82f6",icon:"",borderColor:"#2563eb"};default:return{backgroundColor:"#6b7280",icon:"",borderColor:"#4b5563"}}})(n);return c.useEffect(()=>{if(a>0){const e=setTimeout(()=>{t(r)},a);return()=>clearTimeout(e)}},[r,a,t]),l.jsxs("div",{style:{backgroundColor:"white",borderLeft:`4px solid ${s.borderColor}`,borderRadius:"8px",padding:"1rem",marginBottom:"0.5rem",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",display:"flex",alignItems:"flex-start",gap:"0.75rem",minWidth:"320px",maxWidth:"400px",animation:"slideIn 0.3s ease-out"},children:[l.jsx("span",{style:{fontSize:"1.2rem"},children:s.icon}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h4",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#1f2937",margin:0,marginBottom:"0.25rem"},children:o}),l.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0,lineHeight:1.4},children:i})]}),l.jsx("button",{onClick:()=>t(r),style:{background:"none",border:"none",cursor:"pointer",color:"#9ca3af",fontSize:"1rem",padding:"0",lineHeight:1},onMouseOver:e=>e.target.style.color="#6b7280",onMouseOut:e=>e.target.style.color="#9ca3af",children:""}),l.jsx("style",{children:"\n        @keyframes slideIn {\n          from {\n            transform: translateX(100%);\n            opacity: 0;\n          }\n          to {\n            transform: translateX(0);\n            opacity: 1;\n          }\n        }\n      "})]})}function Er(){const[e,t]=c.useState([]),r=c.useCallback(e=>{const r=Date.now()+Math.random();t(t=>[...t,{...e,id:r}])},[]),n=c.useCallback(e=>{t(t=>t.filter(t=>t.id!==e))},[]);return c.useEffect(()=>{const e=e=>{r(e.detail)};return window.addEventListener("sentia-notify",e),()=>{window.removeEventListener("sentia-notify",e)}},[r]),c.useEffect(()=>{const e=setInterval(()=>{const e=[{type:"success",title:"Production Update",message:"Batch #SEN-2025-089 completed mixing successfully"},{type:"info",title:"New Orders",message:"5 new orders received from Amazon UK"},{type:"warning",title:"Inventory Alert",message:"Low stock warning: Gin & Tonic bottles running low"}];if(Math.random()<.1){const t=e[Math.floor(Math.random()*e.length)];r(t)}},3e4);return()=>clearInterval(e)},[r]),0===e.length?null:l.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:1e3,pointerEvents:"auto"},children:e.map(e=>l.jsx(kr,{notification:e,onClose:n},e.id))})}const Pr=c.lazy(()=>o(()=>import("./AIAnalyticsDashboard-DI_Q_des.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),zr=c.lazy(()=>o(()=>import("./PredictiveAnalyticsDashboard-B1BzLEk3.js"),__vite__mapDeps([12,1,2,13,3,4,5,14,15]))),Rr=c.lazy(()=>o(()=>import("./MCPConnectionStatus-DYZDReSA.js"),__vite__mapDeps([16,1,2,3,4,5,17,18,19,15]))),_r=c.lazy(()=>o(()=>import("./AIForecastingWidget-DCz1SkH4.js"),__vite__mapDeps([20,1,2]))),Mr=c.lazy(()=>o(()=>import("./MCPStatusWidget-D61qLeaw.js"),__vite__mapDeps([21,1,2,19,15,17,3,4,5,14,22,23,13,11,10,24,9]))),Nr=c.lazy(()=>o(()=>import("./WorkingCapitalWidget-C43N_jBU.js"),__vite__mapDeps([25,2,1,3,4,5]))),Tr=c.lazy(()=>o(()=>import("./SupplyChainWidget-BHW_q2fA.js"),__vite__mapDeps([26,1,2,3,4,5,15,27,17,14,22,23,13,11,10,24,9]))),Ir=()=>l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 rounded-full animate-spin border-t-blue-600 mx-auto"}),l.jsx(Se,{className:"w-6 h-6 text-blue-600 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]}),l.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-900",children:"Sentia Manufacturing"}),l.jsx("p",{className:"text-gray-600",children:"Loading enterprise dashboard with AI integration..."}),l.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-2 text-sm text-gray-500",children:[l.jsx(z,{className:"w-4 h-4"}),l.jsx("span",{children:"AI Analytics"}),l.jsx("span",{children:""}),l.jsx(Oe,{className:"w-4 h-4"}),l.jsx("span",{children:"MCP Protocol"}),l.jsx("span",{children:""}),l.jsx(je,{className:"w-4 h-4"}),l.jsx("span",{children:"Real-time Data"})]})]})});const Ar=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{user:t,isLoaded:r}=h(),[n,o]=c.useState("overview"),[a,u]=c.useState(!0),[d,p]=c.useState(!0),{data:f,loading:g}=function(t,r=3e4){const[n,o]=c.useState(null),[i,a]=c.useState(!0),[s,l]=c.useState(null),[u,d]=c.useState(null),p=c.useCallback(async()=>{try{const e=await fetch(`https://sentiaprod.financeflo.ai/api${t}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();o(r.data||r),l(null),d(new Date),i&&a(!1)}catch(r){l(r.message),a(!1),e.error(`Failed to fetch ${t}:`,r)}},[t,i]);c.useEffect(()=>{p()},[p]),c.useEffect(()=>{if(r>0){const e=setInterval(p,r);return()=>clearInterval(e)}},[p,r]);const f=c.useCallback(()=>{a(!0),p()},[p]);return{data:n,loading:i,error:s,lastUpdated:u,refresh:f}}("/api/kpis/realtime",15e3),{data:m,loading:b}=((t={})=>{const r=()=>null,[n,o]=c.useState({mcp:{status:"initializing",connections:[]},forecasting:{predictions:[],confidence:0},maintenance:{alerts:[],equipment:[]},quality:{inspections:[],defectRate:0},supplyChain:{inventory:[],suppliers:[]},digitalTwin:{simulations:[],performance:{}},analytics:{kpis:{},trends:[]},agent:{conversations:0,satisfaction:0}}),[i,a]=c.useState("disconnected"),[s,l]=c.useState(null),u=c.useRef(null),d=c.useRef(null),p=c.useRef(0),f="https://sentiaprod.financeflo.ai/api",h=c.useCallback(async()=>{try{const t=await null;u.current&&u.current.close();const r=`${f}/ai/sse/stream?token=${encodeURIComponent(t)}`,n=new EventSource(r);u.current=n,n.onopen=()=>{a("connected"),l(null),p.current=0,e.log("AI SSE connection established")},n.addEventListener("ai-status",e=>{const t=JSON.parse(e.data);o(e=>({...e,...t}))}),n.addEventListener("mcp-update",e=>{const t=JSON.parse(e.data);o(e=>({...e,mcp:{...e.mcp,...t}}))}),n.addEventListener("forecast-update",e=>{const t=JSON.parse(e.data);o(e=>({...e,forecasting:{...e.forecasting,...t}}))}),n.addEventListener("maintenance-alert",e=>{const t=JSON.parse(e.data);o(e=>({...e,maintenance:{...e.maintenance,alerts:[t,...e.maintenance.alerts].slice(0,10)}}))}),n.addEventListener("quality-inspection",e=>{const t=JSON.parse(e.data);o(e=>({...e,quality:{...e.quality,inspections:[t,...e.quality.inspections].slice(0,20),defectRate:t.defectRate||e.quality.defectRate}}))}),n.addEventListener("supply-chain-update",e=>{const t=JSON.parse(e.data);o(e=>({...e,supplyChain:{...e.supplyChain,...t}}))}),n.addEventListener("digital-twin-sync",e=>{const t=JSON.parse(e.data);o(e=>({...e,digitalTwin:{...e.digitalTwin,...t}}))}),n.addEventListener("analytics-update",e=>{const t=JSON.parse(e.data);o(e=>({...e,analytics:{...e.analytics,...t}}))}),n.addEventListener("agent-metrics",e=>{const t=JSON.parse(e.data);o(e=>({...e,agent:{...e.agent,...t}}))}),n.onerror=t=>{e.error("AI SSE connection error:",t),a("error"),l("Connection lost. Attempting to reconnect..."),n.close();const r=Math.min(1e3*Math.pow(2,p.current),3e4);p.current+=1,p.current<=5?d.current=setTimeout(()=>{h()},r):l("Unable to establish connection. Please refresh the page.")}}catch(t){e.error("Failed to establish AI SSE connection:",t),l(t.message),a("error")}},[r,f]),g=c.useCallback(()=>{u.current&&(u.current.close(),u.current=null),d.current&&(clearTimeout(d.current),d.current=null),a("disconnected")},[]),m=c.useCallback(async(t,r={})=>{try{const e=await null,n=await fetch(`${f}/ai/command`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({command:t,...r})});if(!n.ok)throw new Error(`Command failed: ${n.statusText}`);return await n.json()}catch(n){throw e.error("AI command error:",n),n}},[r,f]),b=c.useCallback(e=>n[e]||null,[n]),y=c.useCallback((e,t)=>u.current?(u.current.addEventListener(e,t),()=>{u.current&&u.current.removeEventListener(e,t)}):null,[]);return c.useEffect(()=>(!1!==t.autoConnect&&h(),()=>{g()}),[]),{data:n,connectionStatus:i,error:s,connect:h,disconnect:g,sendCommand:m,getSystemData:b,subscribeToEvent:y,mcpStatus:n.mcp,forecastingData:n.forecasting,maintenanceAlerts:n.maintenance,qualityMetrics:n.quality,supplyChainData:n.supplyChain,digitalTwinData:n.digitalTwin,analyticsData:n.analytics,agentMetrics:n.agent}})("/api/ai/insights"),{data:y}=Ce(),{connected:v}=(({endpoint:t="/api/events",enabled:r=!0,reconnectDelay:n=3e3,maxReconnectAttempts:o=10,onConnect:a=null,onDisconnect:s=null,onError:l=null,onMessage:u=null}={})=>{const[d,p]=c.useState({connected:!1,connecting:!1,error:null,reconnectAttempts:0}),f=c.useRef(null),h=c.useRef(null),g=i(),[m,b]=c.useState([]),y=c.useCallback(e=>{},[]),v=c.useCallback(t=>{try{const e=JSON.parse(t.data);y({type:t.type,data:e}),u&&u(t.type,e);const r=we[t.type];r&&r(e,g),window.dispatchEvent(new CustomEvent("sse-message",{detail:{type:t.type,data:e}}))}catch(r){e.error("Error parsing SSE message:",r,t)}},[u,g,y]),x=c.useCallback(()=>{if(r&&!f.current){p(e=>({...e,connecting:!0,error:null}));try{const r=new EventSource(t);f.current=r,r.onopen=()=>{p({connected:!0,connecting:!1,error:null,reconnectAttempts:0}),a&&a(),h.current&&(clearTimeout(h.current),h.current=null)},r.onerror=t=>{e.error("SSE connection error:",t),p(e=>({connected:!1,connecting:!1,error:t,reconnectAttempts:e.reconnectAttempts+1})),l&&l(t),r.close(),f.current=null,d.reconnectAttempts<o&&(h.current=setTimeout(()=>{x()},n))},r.onmessage=e=>{v({type:"message",data:e.data})},Object.keys(we).forEach(e=>{r.addEventListener(e,v)})}catch(i){e.error("Failed to create SSE connection:",i),p(e=>({...e,connecting:!1,error:i}))}}},[r,t,o,n,a,l,v,d.reconnectAttempts]),w=c.useCallback(()=>{f.current&&(f.current.close(),f.current=null),h.current&&(clearTimeout(h.current),h.current=null),p({connected:!1,connecting:!1,error:null,reconnectAttempts:0}),s&&s()},[s]),S=c.useCallback(()=>{w(),setTimeout(x,100)},[w,x]);return c.useEffect(()=>(r&&x(),()=>{w()}),[r,x,w]),c.useEffect(()=>()=>{w()},[w]),{connectionState:d,eventLog:m,connect:x,disconnect:w,reconnect:S,isConnected:d.connected,isConnecting:d.connecting,hasError:!!d.error,canReconnect:d.reconnectAttempts<o}})("/api/sse/dashboard");s({queryKey:["enterprise-analytics",n],queryFn:async()=>{const e=await fetch(`/api/analytics/enterprise?view=${n}`);return e.ok?e.json():null},refetchInterval:6e4,enabled:r&&!!t});const{data:x}=s({queryKey:["production-ai-enhanced"],queryFn:async()=>{const e=await fetch("/api/production/ai-enhanced");return e.ok?e.json():null},refetchInterval:3e4,enabled:a});return r?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[l.jsx(Er,{}),l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold text-lg",children:"S"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sentia Manufacturing"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Enterprise AI-Powered Dashboard"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-2 h-2 rounded-full "+(v?"bg-green-400":"bg-red-400")}),l.jsx("span",{className:"text-xs text-gray-600",children:"Live Data"})]}),d&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Oe,{className:"w-4 h-4 text-blue-500"}),l.jsx("span",{className:"text-xs text-gray-600",children:"MCP Active"})]}),a&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(z,{className:"w-4 h-4 text-purple-500"}),l.jsx("span",{className:"text-xs text-gray-600",children:"AI Enhanced"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(De,{className:"w-4 h-4 text-green-500"}),l.jsx("span",{className:"text-xs text-gray-600",children:t?.firstName||"Enterprise User"})]})]})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[l.jsx("div",{className:"mb-6 flex space-x-2 bg-white rounded-lg p-1 shadow-sm",children:[{id:"overview",label:"Overview",icon:R},{id:"ai-analytics",label:"AI Analytics",icon:z},{id:"production",label:"Production",icon:_},{id:"mcp-status",label:"MCP Status",icon:Oe}].map(({id:e,label:t,icon:r})=>l.jsxs("button",{onClick:()=>o(e),className:"flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(n===e?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[l.jsx(r,{className:"w-4 h-4 mr-2"}),t]},e))}),l.jsxs(c.Suspense,{fallback:l.jsx("div",{className:"text-center py-8",children:"Loading enterprise components..."}),children:["overview"===n&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(vr,{title:"Production Efficiency",value:f?.efficiency||"94.2%",trend:f?.efficiencyTrend||"+2.3%",icon:l.jsx(M,{className:"w-5 h-5"}),color:"blue",loading:g}),l.jsx(vr,{title:"AI Predictions",value:m?.predictions||"98.7%",trend:m?.accuracy||"+5.1%",icon:l.jsx(z,{className:"w-5 h-5"}),color:"purple",loading:b}),l.jsx(xr,{title:"Quality Score",value:f?.quality||"99.1%",stages:f?.qualityStages,loading:g}),l.jsx(wr,{title:"Multi-Channel",channels:f?.channels,loading:g})]}),l.jsxs(yr,{children:[l.jsx(_r,{aiMode:a}),l.jsx(Nr,{}),l.jsx(Tr,{}),d&&l.jsx(Mr,{status:y})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[l.jsx(R,{className:"w-5 h-5 mr-2 text-blue-600"}),"Multi-Channel Performance"]}),l.jsx(Dr,{data:f?.channelData})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[l.jsx(_,{className:"w-5 h-5 mr-2 text-green-600"}),"Production Pipeline"]}),l.jsx(Cr,{data:x?.pipeline})]})]})]}),"ai-analytics"===n&&l.jsx(Pr,{}),"production"===n&&l.jsx(zr,{}),"mcp-status"===n&&d&&l.jsx(Rr,{status:y})]}),l.jsxs("div",{className:"mt-8 text-center text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(je,{className:"w-4 h-4"}),l.jsx("span",{children:"Real-time Integration"})]}),l.jsx("span",{children:""}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(z,{className:"w-4 h-4"}),l.jsx("span",{children:"AI-Powered Analytics"})]}),l.jsx("span",{children:""}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Oe,{className:"w-4 h-4"}),l.jsx("span",{children:"MCP Protocol"})]})]}),l.jsx("p",{className:"mt-2",children:"Sentia Manufacturing Dashboard v2.0 - Enterprise Edition"})]})]})]}):l.jsx(Ir,{})}},Symbol.toStringTag,{value:"Module"}));export{Ar as E,xe as c,Ce as u};
