# BMAD Update Queue

| Path | Identified Gap | Evidence | Suggested Action |
| --- | --- | --- | --- |
| server/routes/api.js | /api namespace still serves 410 "Legacy API" responses across all handlers. | Select-String -Path server/routes/api.js -Pattern '410' shows every route returning es.status(410). | Replace the stub router with the active BMAD endpoints (financial, inventory, SSE) or retire /api completely. |
| server/api/dashboard.js | Returns synthetic KPI/chart data with TODO comments to replace with real services. | Select-String -Path server/api/dashboard.js -Pattern 'TODO' highlights the inline mock generators. | Wire the handler into Prisma/forecast services so dashboards consume live data (covered by BMAD-MOCK-010). |
| server/api/business-intelligence.js | Ships hard-coded "AI insights" for Claude/GPT instead of calling actual model endpoints. | Comments state "In production this would integrate with Claude 3 Sonnet and GPT-4". | Hook this route into the ML orchestration stack or deprecate it (BMAD-MOCK-010 follow-up). |
| server/services/finance/*.js | Finance services (ApprovalEngine, CashConversionCycle, ScenarioModeler, etc.) still use equire(...) and expect a CommonJS logger at ../../utils/logger. | Get-Content server/services/finance/ApprovalEngine.js -Head 5 shows legacy imports. | Convert services to ESM or provide shim; add JSDoc/TypeScript coverage (BMAD-ARCH-012). |
| 	est-server.js | Only defines a /health endpoint; legacy tests expect inventory/optimization routes that are no longer hosted. | Get-Content test-server.js shows minimal harness. | Expand this harness so integration tests run against deployed API surface. |
| nalysis/ROADMAP.md, nalysis/SYNTHESIS_REPORT.md | Both files are zero-length, leaving the BMAD roadmap undocumented. | Get-ChildItem analysis | Format-Table Name,Length reports length 0. | Populate with the current BMAD roadmap and synthesis summary or remove them from source control. |
| sentia-financial-lakehouse/ | Entire subproject excluded from linting and unreferenced elsewhere. | g 'sentia-financial-lakehouse' only finds ESLint ignore entry. | Decide whether to archive externally or integrate; otherwise remains unmanaged. |
| 	ests/unit/landing/*, 	ests/unit/services/* | Unit tests run, but coverage tooling missing (@vitest/coverage-v8). | Coverage run fails: MISSING DEPENDENCY '@vitest/coverage-v8'. | Add coverage dependency and rerun workflow (BMAD-QA-001). |
| 	ests/e2e | Playwright suite cannot execute (@playwright/test missing). | pnpm playwright test → "Command not found". | Install Playwright package/browsers (BMAD-QA-002). |
| src/**/*.js, services/**/*.js | 80+ Math.random() usages drive mock data in production paths. | grep count identifies ~80 files generating synthetic metrics. | Replace with deterministic/live data (BMAD-MOCK-010). |
| src/services/APIIntegration.js, src/components/EnterpriseAIChatbot.jsx | Synthetic fallbacks instead of graceful degradation. | Financial metrics and chatbot fabricate deltas. | Implement real data fallbacks/user messaging (BMAD-MOCK-010). |
| ✅ mad/bmm/workflows/testarch/automate/workflow.yaml | **RESOLVED**: Workflow installed for automated testing & architecture validation. | Module registered in BMAD manifests; workflow executes 8-step process. | **COMPLETE** - use via mad workflow testarch-automate. |
